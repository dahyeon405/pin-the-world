function jW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oD={exports:{}},s7={},aD={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2=Symbol.for("react.element"),qW=Symbol.for("react.portal"),XW=Symbol.for("react.fragment"),YW=Symbol.for("react.strict_mode"),KW=Symbol.for("react.profiler"),QW=Symbol.for("react.provider"),ZW=Symbol.for("react.context"),JW=Symbol.for("react.forward_ref"),ej=Symbol.for("react.suspense"),tj=Symbol.for("react.memo"),nj=Symbol.for("react.lazy"),JM=Symbol.iterator;function rj(t){return t===null||typeof t!="object"?null:(t=JM&&t[JM]||t["@@iterator"],typeof t=="function"?t:null)}var lD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uD=Object.assign,cD={};function e0(t,e,n){this.props=t,this.context=e,this.refs=cD,this.updater=n||lD}e0.prototype.isReactComponent={};e0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};e0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dD(){}dD.prototype=e0.prototype;function MS(t,e,n){this.props=t,this.context=e,this.refs=cD,this.updater=n||lD}var AS=MS.prototype=new dD;AS.constructor=MS;uD(AS,e0.prototype);AS.isPureReactComponent=!0;var eA=Array.isArray,hD=Object.prototype.hasOwnProperty,CS={current:null},fD={key:!0,ref:!0,__self:!0,__source:!0};function pD(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hD.call(e,r)&&!fD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:D2,type:t,key:s,ref:o,props:i,_owner:CS.current}}function ij(t,e){return{$$typeof:D2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function PS(t){return typeof t=="object"&&t!==null&&t.$$typeof===D2}function sj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tA=/\/+/g;function X9(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sj(""+t.key):e.toString(36)}function e5(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case D2:case qW:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+X9(o,0):r,eA(i)?(n="",t!=null&&(n=t.replace(tA,"$&/")+"/"),e5(i,e,n,"",function(u){return u})):i!=null&&(PS(i)&&(i=ij(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+X9(s,a);o+=e5(s,e,n,l,i)}else if(l=rj(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+X9(s,a++),o+=e5(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sm(t,e,n){if(t==null)return t;var r=[],i=0;return e5(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qi={current:null},t5={transition:null},aj={ReactCurrentDispatcher:qi,ReactCurrentBatchConfig:t5,ReactCurrentOwner:CS};Yt.Children={map:Sm,forEach:function(t,e,n){Sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sm(t,function(){e++}),e},toArray:function(t){return Sm(t,function(e){return e})||[]},only:function(t){if(!PS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=e0;Yt.Fragment=XW;Yt.Profiler=KW;Yt.PureComponent=MS;Yt.StrictMode=YW;Yt.Suspense=ej;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aj;Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uD({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=CS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hD.call(e,l)&&!fD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:D2,type:t.type,key:i,ref:s,props:r,_owner:o}};Yt.createContext=function(t){return t={$$typeof:ZW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QW,_context:t},t.Consumer=t};Yt.createElement=pD;Yt.createFactory=function(t){var e=pD.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:JW,render:t}};Yt.isValidElement=PS;Yt.lazy=function(t){return{$$typeof:nj,_payload:{_status:-1,_result:t},_init:oj}};Yt.memo=function(t,e){return{$$typeof:tj,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=t5.transition;t5.transition={};try{t()}finally{t5.transition=e}};Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Yt.useCallback=function(t,e){return qi.current.useCallback(t,e)};Yt.useContext=function(t){return qi.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return qi.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return qi.current.useEffect(t,e)};Yt.useId=function(){return qi.current.useId()};Yt.useImperativeHandle=function(t,e,n){return qi.current.useImperativeHandle(t,e,n)};Yt.useInsertionEffect=function(t,e){return qi.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return qi.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return qi.current.useMemo(t,e)};Yt.useReducer=function(t,e,n){return qi.current.useReducer(t,e,n)};Yt.useRef=function(t){return qi.current.useRef(t)};Yt.useState=function(t){return qi.current.useState(t)};Yt.useSyncExternalStore=function(t,e,n){return qi.current.useSyncExternalStore(t,e,n)};Yt.useTransition=function(){return qi.current.useTransition()};Yt.version="18.2.0";aD.exports=Yt;var I=aD.exports;const gu=k2(I),nA=jW({__proto__:null,default:gu},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=I,uj=Symbol.for("react.element"),cj=Symbol.for("react.fragment"),dj=Object.prototype.hasOwnProperty,hj=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fj={key:!0,ref:!0,__self:!0,__source:!0};function mD(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dj.call(e,r)&&!fj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uj,type:t,key:s,ref:o,props:i,_owner:hj.current}}s7.Fragment=cj;s7.jsx=mD;s7.jsxs=mD;oD.exports=s7;var z=oD.exports,hv={},gD={exports:{}},Ls={},yD={exports:{}},vD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Y){var X=G.length;G.push(Y);e:for(;0<X;){var ae=X-1>>>1,ce=G[ae];if(0<i(ce,Y))G[ae]=Y,G[X]=ce,X=ae;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],X=G.pop();if(X!==Y){G[0]=X;e:for(var ae=0,ce=G.length,re=ce>>>1;ae<re;){var he=2*(ae+1)-1,Pe=G[he],Ae=he+1,j=G[Ae];if(0>i(Pe,X))Ae<ce&&0>i(j,Pe)?(G[ae]=j,G[Ae]=X,ae=Ae):(G[ae]=Pe,G[he]=X,ae=he);else if(Ae<ce&&0>i(j,X))G[ae]=j,G[Ae]=X,ae=Ae;else break e}}return Y}function i(G,Y){var X=G.sortIndex-Y.sortIndex;return X!==0?X:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=G)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function b(G){if(_=!1,w(G),!y)if(n(l)!==null)y=!0,fe(M);else{var Y=n(u);Y!==null&&me(b,Y.startTime-G)}}function M(G,Y){y=!1,_&&(_=!1,g(L),L=-1),m=!0;var X=p;try{for(w(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||G&&!$());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var ce=ae(f.expirationTime<=Y);Y=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&r(l),w(Y)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var he=n(u);he!==null&&me(b,he.startTime-Y),re=!1}return re}finally{f=null,p=X,m=!1}}var A=!1,R=null,L=-1,C=5,k=-1;function $(){return!(t.unstable_now()-k<C)}function ee(){if(R!==null){var G=t.unstable_now();k=G;var Y=!0;try{Y=R(!0,G)}finally{Y?q():(A=!1,R=null)}}else A=!1}var q;if(typeof S=="function")q=function(){S(ee)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=ee,q=function(){ie.postMessage(null)}}else q=function(){x(ee,0)};function fe(G){R=G,A||(A=!0,q())}function me(G,Y){L=x(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,fe(M))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var X=p;p=Y;try{return G()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=p;p=G;try{return Y()}finally{p=X}},t.unstable_scheduleCallback=function(G,Y,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,G){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=X+ce,G={id:c++,callback:Y,priorityLevel:G,startTime:X,expirationTime:ce,sortIndex:-1},X>ae?(G.sortIndex=X,e(u,G),n(l)===null&&G===n(u)&&(_?(g(L),L=-1):_=!0,me(b,X-ae))):(G.sortIndex=ce,e(l,G),y||m||(y=!0,fe(M))),G},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(G){var Y=p;return function(){var X=p;p=Y;try{return G.apply(this,arguments)}finally{p=X}}}})(vD);yD.exports=vD;var pj=yD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D=I,Ps=pj;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xD=new Set,mp={};function pd(t,e){Af(t,e),Af(t+"Capture",e)}function Af(t,e){for(mp[t]=e,t=0;t<e.length;t++)xD.add(e[t])}var nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fv=Object.prototype.hasOwnProperty,mj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rA={},iA={};function gj(t){return fv.call(iA,t)?!0:fv.call(rA,t)?!1:mj.test(t)?iA[t]=!0:(rA[t]=!0,!1)}function yj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vj(t,e,n,r){if(e===null||typeof e>"u"||yj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){di[t]=new Xi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];di[e]=new Xi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){di[t]=new Xi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){di[t]=new Xi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){di[t]=new Xi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){di[t]=new Xi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){di[t]=new Xi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){di[t]=new Xi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){di[t]=new Xi(t,5,!1,t.toLowerCase(),null,!1,!1)});var RS=/[\-:]([a-z])/g;function IS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(RS,IS);di[e]=new Xi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(RS,IS);di[e]=new Xi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(RS,IS);di[e]=new Xi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){di[t]=new Xi(t,1,!1,t.toLowerCase(),null,!1,!1)});di.xlinkHref=new Xi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){di[t]=new Xi(t,1,!1,t.toLowerCase(),null,!0,!0)});function LS(t,e,n,r){var i=di.hasOwnProperty(e)?di[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vj(e,n,i,r)&&(n=null),r||i===null?gj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fl=_D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wm=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),pv=Symbol.for("react.profiler"),SD=Symbol.for("react.provider"),wD=Symbol.for("react.context"),DS=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),gv=Symbol.for("react.suspense_list"),NS=Symbol.for("react.memo"),Ol=Symbol.for("react.lazy"),ED=Symbol.for("react.offscreen"),sA=Symbol.iterator;function H0(t){return t===null||typeof t!="object"?null:(t=sA&&t[sA]||t["@@iterator"],typeof t=="function"?t:null)}var Zn=Object.assign,Y9;function _1(t){if(Y9===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Y9=e&&e[1]||""}return`
`+Y9+t}var K9=!1;function Q9(t,e){if(!t||K9)return"";K9=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{K9=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_1(t):""}function _j(t){switch(t.tag){case 5:return _1(t.type);case 16:return _1("Lazy");case 13:return _1("Suspense");case 19:return _1("SuspenseList");case 0:case 2:case 15:return t=Q9(t.type,!1),t;case 11:return t=Q9(t.type.render,!1),t;case 1:return t=Q9(t.type,!0),t;default:return""}}function yv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mh:return"Fragment";case Th:return"Portal";case pv:return"Profiler";case kS:return"StrictMode";case mv:return"Suspense";case gv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wD:return(t.displayName||"Context")+".Consumer";case SD:return(t._context.displayName||"Context")+".Provider";case DS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case NS:return e=t.displayName||null,e!==null?e:yv(t.type)||"Memo";case Ol:e=t._payload,t=t._init;try{return yv(t(e))}catch{}}return null}function xj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(e);case 8:return e===kS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sj(t){var e=bD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Em(t){t._valueTracker||(t._valueTracker=Sj(t))}function TD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function G5(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vv(t,e){var n=e.checked;return Zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MD(t,e){e=e.checked,e!=null&&LS(t,"checked",e,!1)}function _v(t,e){MD(t,e);var n=yu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&xv(t,e.type,yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xv(t,e,n){(e!=="number"||G5(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var x1=Array.isArray;function tf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Zn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(x1(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yu(n)}}function AD(t,e){var n=yu(e.value),r=yu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,PD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var O1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wj=["Webkit","ms","Moz","O"];Object.keys(O1).forEach(function(t){wj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),O1[e]=O1[t]})});function RD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||O1.hasOwnProperty(t)&&O1[t]?(""+e).trim():e+"px"}function ID(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ej=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ev(t,e){if(e){if(Ej[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function FS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mv=null,nf=null,rf=null;function cA(t){if(t=O2(t)){if(typeof Mv!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=c7(e),Mv(t.stateNode,t.type,e))}}function LD(t){nf?rf?rf.push(t):rf=[t]:nf=t}function kD(){if(nf){var t=nf,e=rf;if(rf=nf=null,cA(t),e)for(t=0;t<e.length;t++)cA(e[t])}}function DD(t,e){return t(e)}function ND(){}var Z9=!1;function FD(t,e,n){if(Z9)return t(e,n);Z9=!0;try{return DD(t,e,n)}finally{Z9=!1,(nf!==null||rf!==null)&&(ND(),kD())}}function yp(t,e){var n=t.stateNode;if(n===null)return null;var r=c7(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Av=!1;if(nl)try{var G0={};Object.defineProperty(G0,"passive",{get:function(){Av=!0}}),window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch{Av=!1}function bj(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var U1=!1,$5=null,W5=!1,Cv=null,Tj={onError:function(t){U1=!0,$5=t}};function Mj(t,e,n,r,i,s,o,a,l){U1=!1,$5=null,bj.apply(Tj,arguments)}function Aj(t,e,n,r,i,s,o,a,l){if(Mj.apply(this,arguments),U1){if(U1){var u=$5;U1=!1,$5=null}else throw Error(Oe(198));W5||(W5=!0,Cv=u)}}function md(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dA(t){if(md(t)!==t)throw Error(Oe(188))}function Cj(t){var e=t.alternate;if(!e){if(e=md(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dA(i),t;if(s===r)return dA(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function UD(t){return t=Cj(t),t!==null?zD(t):null}function zD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zD(t);if(e!==null)return e;t=t.sibling}return null}var BD=Ps.unstable_scheduleCallback,hA=Ps.unstable_cancelCallback,Pj=Ps.unstable_shouldYield,Rj=Ps.unstable_requestPaint,pr=Ps.unstable_now,Ij=Ps.unstable_getCurrentPriorityLevel,OS=Ps.unstable_ImmediatePriority,VD=Ps.unstable_UserBlockingPriority,j5=Ps.unstable_NormalPriority,Lj=Ps.unstable_LowPriority,HD=Ps.unstable_IdlePriority,o7=null,aa=null;function kj(t){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(o7,t,void 0,(t.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:Fj,Dj=Math.log,Nj=Math.LN2;function Fj(t){return t>>>=0,t===0?32:31-(Dj(t)/Nj|0)|0}var Tm=64,Mm=4194304;function S1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function q5(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=S1(a):(s&=o,s!==0&&(r=S1(s)))}else o=n&~i,o!==0?r=S1(o):s!==0&&(r=S1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Co(e),i=1<<n,r|=t[n],e&=~i;return r}function Oj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Co(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Oj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GD(){var t=Tm;return Tm<<=1,!(Tm&4194240)&&(Tm=64),t}function J9(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function N2(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Co(e),t[e]=n}function zj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Co(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function US(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Co(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var bn=0;function $D(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WD,zS,jD,qD,XD,Rv=!1,Am=[],Jl=null,eu=null,tu=null,vp=new Map,_p=new Map,Hl=[],Bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fA(t,e){switch(t){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":vp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_p.delete(e.pointerId)}}function $0(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=O2(e),e!==null&&zS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vj(t,e,n,r,i){switch(e){case"focusin":return Jl=$0(Jl,t,e,n,r,i),!0;case"dragenter":return eu=$0(eu,t,e,n,r,i),!0;case"mouseover":return tu=$0(tu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vp.set(s,$0(vp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_p.set(s,$0(_p.get(s)||null,t,e,n,r,i)),!0}return!1}function YD(t){var e=Sc(t.target);if(e!==null){var n=md(e);if(n!==null){if(e=n.tag,e===13){if(e=OD(n),e!==null){t.blockedOn=e,XD(t.priority,function(){jD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n5(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tv=r,n.target.dispatchEvent(r),Tv=null}else return e=O2(n),e!==null&&zS(e),t.blockedOn=n,!1;e.shift()}return!0}function pA(t,e,n){n5(t)&&n.delete(e)}function Hj(){Rv=!1,Jl!==null&&n5(Jl)&&(Jl=null),eu!==null&&n5(eu)&&(eu=null),tu!==null&&n5(tu)&&(tu=null),vp.forEach(pA),_p.forEach(pA)}function W0(t,e){t.blockedOn===e&&(t.blockedOn=null,Rv||(Rv=!0,Ps.unstable_scheduleCallback(Ps.unstable_NormalPriority,Hj)))}function xp(t){function e(i){return W0(i,t)}if(0<Am.length){W0(Am[0],t);for(var n=1;n<Am.length;n++){var r=Am[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jl!==null&&W0(Jl,t),eu!==null&&W0(eu,t),tu!==null&&W0(tu,t),vp.forEach(e),_p.forEach(e),n=0;n<Hl.length;n++)r=Hl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hl.length&&(n=Hl[0],n.blockedOn===null);)YD(n),n.blockedOn===null&&Hl.shift()}var sf=fl.ReactCurrentBatchConfig,X5=!0;function Gj(t,e,n,r){var i=bn,s=sf.transition;sf.transition=null;try{bn=1,BS(t,e,n,r)}finally{bn=i,sf.transition=s}}function $j(t,e,n,r){var i=bn,s=sf.transition;sf.transition=null;try{bn=4,BS(t,e,n,r)}finally{bn=i,sf.transition=s}}function BS(t,e,n,r){if(X5){var i=Iv(t,e,n,r);if(i===null)ug(t,e,r,Y5,n),fA(t,r);else if(Vj(i,t,e,n,r))r.stopPropagation();else if(fA(t,r),e&4&&-1<Bj.indexOf(t)){for(;i!==null;){var s=O2(i);if(s!==null&&WD(s),s=Iv(t,e,n,r),s===null&&ug(t,e,r,Y5,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ug(t,e,r,null,n)}}var Y5=null;function Iv(t,e,n,r){if(Y5=null,t=FS(r),t=Sc(t),t!==null)if(e=md(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Y5=t,null}function KD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ij()){case OS:return 1;case VD:return 4;case j5:case Lj:return 16;case HD:return 536870912;default:return 16}default:return 16}}var jl=null,VS=null,r5=null;function QD(){if(r5)return r5;var t,e=VS,n=e.length,r,i="value"in jl?jl.value:jl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return r5=i.slice(t,1<r?1-r:void 0)}function i5(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cm(){return!0}function mA(){return!1}function ks(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cm:mA,this.isPropagationStopped=mA,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cm)},persist:function(){},isPersistent:Cm}),e}var t0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HS=ks(t0),F2=Zn({},t0,{view:0,detail:0}),Wj=ks(F2),eg,tg,j0,a7=Zn({},F2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==j0&&(j0&&t.type==="mousemove"?(eg=t.screenX-j0.screenX,tg=t.screenY-j0.screenY):tg=eg=0,j0=t),eg)},movementY:function(t){return"movementY"in t?t.movementY:tg}}),gA=ks(a7),jj=Zn({},a7,{dataTransfer:0}),qj=ks(jj),Xj=Zn({},F2,{relatedTarget:0}),ng=ks(Xj),Yj=Zn({},t0,{animationName:0,elapsedTime:0,pseudoElement:0}),Kj=ks(Yj),Qj=Zn({},t0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zj=ks(Qj),Jj=Zn({},t0,{data:0}),yA=ks(Jj),eq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nq[t])?!!e[t]:!1}function GS(){return rq}var iq=Zn({},F2,{key:function(t){if(t.key){var e=eq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=i5(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GS,charCode:function(t){return t.type==="keypress"?i5(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?i5(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sq=ks(iq),oq=Zn({},a7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vA=ks(oq),aq=Zn({},F2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GS}),lq=ks(aq),uq=Zn({},t0,{propertyName:0,elapsedTime:0,pseudoElement:0}),cq=ks(uq),dq=Zn({},a7,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hq=ks(dq),fq=[9,13,27,32],$S=nl&&"CompositionEvent"in window,z1=null;nl&&"documentMode"in document&&(z1=document.documentMode);var pq=nl&&"TextEvent"in window&&!z1,ZD=nl&&(!$S||z1&&8<z1&&11>=z1),_A=String.fromCharCode(32),xA=!1;function JD(t,e){switch(t){case"keyup":return fq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ah=!1;function mq(t,e){switch(t){case"compositionend":return eN(e);case"keypress":return e.which!==32?null:(xA=!0,_A);case"textInput":return t=e.data,t===_A&&xA?null:t;default:return null}}function gq(t,e){if(Ah)return t==="compositionend"||!$S&&JD(t,e)?(t=QD(),r5=VS=jl=null,Ah=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZD&&e.locale!=="ko"?null:e.data;default:return null}}var yq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yq[t.type]:e==="textarea"}function tN(t,e,n,r){LD(r),e=K5(e,"onChange"),0<e.length&&(n=new HS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var B1=null,Sp=null;function vq(t){hN(t,0)}function l7(t){var e=Rh(t);if(TD(e))return t}function _q(t,e){if(t==="change")return e}var nN=!1;if(nl){var rg;if(nl){var ig="oninput"in document;if(!ig){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),ig=typeof wA.oninput=="function"}rg=ig}else rg=!1;nN=rg&&(!document.documentMode||9<document.documentMode)}function EA(){B1&&(B1.detachEvent("onpropertychange",rN),Sp=B1=null)}function rN(t){if(t.propertyName==="value"&&l7(Sp)){var e=[];tN(e,Sp,t,FS(t)),FD(vq,e)}}function xq(t,e,n){t==="focusin"?(EA(),B1=e,Sp=n,B1.attachEvent("onpropertychange",rN)):t==="focusout"&&EA()}function Sq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return l7(Sp)}function wq(t,e){if(t==="click")return l7(e)}function Eq(t,e){if(t==="input"||t==="change")return l7(e)}function bq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:bq;function wp(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fv.call(e,i)||!ko(t[i],e[i]))return!1}return!0}function bA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TA(t,e){var n=bA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bA(n)}}function iN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sN(){for(var t=window,e=G5();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=G5(t.document)}return e}function WS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tq(t){var e=sN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iN(n.ownerDocument.documentElement,n)){if(r!==null&&WS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=TA(n,s);var o=TA(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mq=nl&&"documentMode"in document&&11>=document.documentMode,Ch=null,Lv=null,V1=null,kv=!1;function MA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||Ch==null||Ch!==G5(r)||(r=Ch,"selectionStart"in r&&WS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),V1&&wp(V1,r)||(V1=r,r=K5(Lv,"onSelect"),0<r.length&&(e=new HS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ch)))}function Pm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ph={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},sg={},oN={};nl&&(oN=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function u7(t){if(sg[t])return sg[t];if(!Ph[t])return t;var e=Ph[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oN)return sg[t]=e[n];return t}var aN=u7("animationend"),lN=u7("animationiteration"),uN=u7("animationstart"),cN=u7("transitionend"),dN=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Au(t,e){dN.set(t,e),pd(e,[t])}for(var og=0;og<AA.length;og++){var ag=AA[og],Aq=ag.toLowerCase(),Cq=ag[0].toUpperCase()+ag.slice(1);Au(Aq,"on"+Cq)}Au(aN,"onAnimationEnd");Au(lN,"onAnimationIteration");Au(uN,"onAnimationStart");Au("dblclick","onDoubleClick");Au("focusin","onFocus");Au("focusout","onBlur");Au(cN,"onTransitionEnd");Af("onMouseEnter",["mouseout","mouseover"]);Af("onMouseLeave",["mouseout","mouseover"]);Af("onPointerEnter",["pointerout","pointerover"]);Af("onPointerLeave",["pointerout","pointerover"]);pd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pd("onBeforeInput",["compositionend","keypress","textInput","paste"]);pd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var w1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pq=new Set("cancel close invalid load scroll toggle".split(" ").concat(w1));function CA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Aj(r,e,void 0,t),t.currentTarget=null}function hN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;CA(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;CA(i,a,u),s=l}}}if(W5)throw t=Cv,W5=!1,Cv=null,t}function Ln(t,e){var n=e[Uv];n===void 0&&(n=e[Uv]=new Set);var r=t+"__bubble";n.has(r)||(fN(e,t,2,!1),n.add(r))}function lg(t,e,n){var r=0;e&&(r|=4),fN(n,t,r,e)}var Rm="_reactListening"+Math.random().toString(36).slice(2);function Ep(t){if(!t[Rm]){t[Rm]=!0,xD.forEach(function(n){n!=="selectionchange"&&(Pq.has(n)||lg(n,!1,t),lg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rm]||(e[Rm]=!0,lg("selectionchange",!1,e))}}function fN(t,e,n,r){switch(KD(e)){case 1:var i=Gj;break;case 4:i=$j;break;default:i=BS}n=i.bind(null,e,n,t),i=void 0,!Av||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ug(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FD(function(){var u=s,c=FS(n),f=[];e:{var p=dN.get(t);if(p!==void 0){var m=HS,y=t;switch(t){case"keypress":if(i5(n)===0)break e;case"keydown":case"keyup":m=sq;break;case"focusin":y="focus",m=ng;break;case"focusout":y="blur",m=ng;break;case"beforeblur":case"afterblur":m=ng;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lq;break;case aN:case lN:case uN:m=Kj;break;case cN:m=cq;break;case"scroll":m=Wj;break;case"wheel":m=hq;break;case"copy":case"cut":case"paste":m=Zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vA}var _=(e&4)!==0,x=!_&&t==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var S=u,w;S!==null;){w=S;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=yp(S,g),b!=null&&_.push(bp(S,b,w)))),x)break;S=S.return}0<_.length&&(p=new m(p,y,null,n,c),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Tv&&(y=n.relatedTarget||n.fromElement)&&(Sc(y)||y[rl]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Sc(y):null,y!==null&&(x=md(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(_=gA,b="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(_=vA,b="onPointerLeave",g="onPointerEnter",S="pointer"),x=m==null?p:Rh(m),w=y==null?p:Rh(y),p=new _(b,S+"leave",m,n,c),p.target=x,p.relatedTarget=w,b=null,Sc(c)===u&&(_=new _(g,S+"enter",y,n,c),_.target=w,_.relatedTarget=x,b=_),x=b,m&&y)t:{for(_=m,g=y,S=0,w=_;w;w=Wd(w))S++;for(w=0,b=g;b;b=Wd(b))w++;for(;0<S-w;)_=Wd(_),S--;for(;0<w-S;)g=Wd(g),w--;for(;S--;){if(_===g||g!==null&&_===g.alternate)break t;_=Wd(_),g=Wd(g)}_=null}else _=null;m!==null&&PA(f,p,m,_,!1),y!==null&&x!==null&&PA(f,x,y,_,!0)}}e:{if(p=u?Rh(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=_q;else if(SA(p))if(nN)M=Eq;else{M=Sq;var A=xq}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=wq);if(M&&(M=M(t,u))){tN(f,M,n,c);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&xv(p,"number",p.value)}switch(A=u?Rh(u):window,t){case"focusin":(SA(A)||A.contentEditable==="true")&&(Ch=A,Lv=u,V1=null);break;case"focusout":V1=Lv=Ch=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,MA(f,n,c);break;case"selectionchange":if(Mq)break;case"keydown":case"keyup":MA(f,n,c)}var R;if($S)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ah?JD(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(ZD&&n.locale!=="ko"&&(Ah||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ah&&(R=QD()):(jl=c,VS="value"in jl?jl.value:jl.textContent,Ah=!0)),A=K5(u,L),0<A.length&&(L=new yA(L,t,null,n,c),f.push({event:L,listeners:A}),R?L.data=R:(R=eN(n),R!==null&&(L.data=R)))),(R=pq?mq(t,n):gq(t,n))&&(u=K5(u,"onBeforeInput"),0<u.length&&(c=new yA("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=R))}hN(f,e)})}function bp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function K5(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yp(t,n),s!=null&&r.unshift(bp(t,s,i)),s=yp(t,e),s!=null&&r.push(bp(t,s,i))),t=t.return}return r}function Wd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PA(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yp(n,s),l!=null&&o.unshift(bp(n,l,a))):i||(l=yp(n,s),l!=null&&o.push(bp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rq=/\r\n?/g,Iq=/\u0000|\uFFFD/g;function RA(t){return(typeof t=="string"?t:""+t).replace(Rq,`
`).replace(Iq,"")}function Im(t,e,n){if(e=RA(e),RA(t)!==e&&n)throw Error(Oe(425))}function Q5(){}var Dv=null,Nv=null;function Fv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ov=typeof setTimeout=="function"?setTimeout:void 0,Lq=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,kq=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(t){return IA.resolve(null).then(t).catch(Dq)}:Ov;function Dq(t){setTimeout(function(){throw t})}function cg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xp(e)}function nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var n0=Math.random().toString(36).slice(2),ea="__reactFiber$"+n0,Tp="__reactProps$"+n0,rl="__reactContainer$"+n0,Uv="__reactEvents$"+n0,Nq="__reactListeners$"+n0,Fq="__reactHandles$"+n0;function Sc(t){var e=t[ea];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rl]||n[ea]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LA(t);t!==null;){if(n=t[ea])return n;t=LA(t)}return e}t=n,n=t.parentNode}return null}function O2(t){return t=t[ea]||t[rl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function c7(t){return t[Tp]||null}var zv=[],Ih=-1;function Cu(t){return{current:t}}function Fn(t){0>Ih||(t.current=zv[Ih],zv[Ih]=null,Ih--)}function Rn(t,e){Ih++,zv[Ih]=t.current,t.current=e}var vu={},Li=Cu(vu),is=Cu(!1),Zc=vu;function Cf(t,e){var n=t.type.contextTypes;if(!n)return vu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ss(t){return t=t.childContextTypes,t!=null}function Z5(){Fn(is),Fn(Li)}function kA(t,e,n){if(Li.current!==vu)throw Error(Oe(168));Rn(Li,e),Rn(is,n)}function pN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,xj(t)||"Unknown",i));return Zn({},n,r)}function J5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vu,Zc=Li.current,Rn(Li,t),Rn(is,is.current),!0}function DA(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=pN(t,e,Zc),r.__reactInternalMemoizedMergedChildContext=t,Fn(is),Fn(Li),Rn(Li,t)):Fn(is),Rn(is,n)}var za=null,d7=!1,dg=!1;function mN(t){za===null?za=[t]:za.push(t)}function Oq(t){d7=!0,mN(t)}function Pu(){if(!dg&&za!==null){dg=!0;var t=0,e=bn;try{var n=za;for(bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}za=null,d7=!1}catch(i){throw za!==null&&(za=za.slice(t+1)),BD(OS,Pu),i}finally{bn=e,dg=!1}}return null}var Lh=[],kh=0,e6=null,t6=0,to=[],no=0,Jc=null,$a=1,Wa="";function uc(t,e){Lh[kh++]=t6,Lh[kh++]=e6,e6=t,t6=e}function gN(t,e,n){to[no++]=$a,to[no++]=Wa,to[no++]=Jc,Jc=t;var r=$a;t=Wa;var i=32-Co(r)-1;r&=~(1<<i),n+=1;var s=32-Co(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$a=1<<32-Co(e)+i|n<<i|r,Wa=s+t}else $a=1<<s|n<<i|r,Wa=t}function jS(t){t.return!==null&&(uc(t,1),gN(t,1,0))}function qS(t){for(;t===e6;)e6=Lh[--kh],Lh[kh]=null,t6=Lh[--kh],Lh[kh]=null;for(;t===Jc;)Jc=to[--no],to[no]=null,Wa=to[--no],to[no]=null,$a=to[--no],to[no]=null}var Ts=null,ws=null,zn=!1,To=null;function yN(t,e){var n=io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,ws=nu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jc!==null?{id:$a,overflow:Wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ts=t,ws=null,!0):!1;default:return!1}}function Bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vv(t){if(zn){var e=ws;if(e){var n=e;if(!NA(t,e)){if(Bv(t))throw Error(Oe(418));e=nu(n.nextSibling);var r=Ts;e&&NA(t,e)?yN(r,n):(t.flags=t.flags&-4097|2,zn=!1,Ts=t)}}else{if(Bv(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,zn=!1,Ts=t}}}function FA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function Lm(t){if(t!==Ts)return!1;if(!zn)return FA(t),zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fv(t.type,t.memoizedProps)),e&&(e=ws)){if(Bv(t))throw vN(),Error(Oe(418));for(;e;)yN(t,e),e=nu(e.nextSibling)}if(FA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ws=nu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ws=null}}else ws=Ts?nu(t.stateNode.nextSibling):null;return!0}function vN(){for(var t=ws;t;)t=nu(t.nextSibling)}function Pf(){ws=Ts=null,zn=!1}function XS(t){To===null?To=[t]:To.push(t)}var Uq=fl.ReactCurrentBatchConfig;function So(t,e){if(t&&t.defaultProps){e=Zn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var n6=Cu(null),r6=null,Dh=null,YS=null;function KS(){YS=Dh=r6=null}function QS(t){var e=n6.current;Fn(n6),t._currentValue=e}function Hv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function of(t,e){r6=t,YS=Dh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rs=!0),t.firstContext=null)}function ao(t){var e=t._currentValue;if(YS!==t)if(t={context:t,memoizedValue:e,next:null},Dh===null){if(r6===null)throw Error(Oe(308));Dh=t,r6.dependencies={lanes:0,firstContext:t}}else Dh=Dh.next=t;return e}var wc=null;function ZS(t){wc===null?wc=[t]:wc.push(t)}function _N(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZS(e)):(n.next=i.next,i.next=n),e.interleaved=n,il(t,r)}function il(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ul=!1;function JS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ka(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ru(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,il(t,n)}return i=r.interleaved,i===null?(e.next=e,ZS(r)):(e.next=i.next,i.next=e),r.interleaved=e,il(t,n)}function s5(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,US(t,n)}}function OA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function i6(t,e,n,r){var i=t.updateQueue;Ul=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(p=e,m=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Zn({},f,p);break e;case 2:Ul=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);td|=o,t.lanes=o,t.memoizedState=f}}function UA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var SN=new _D.Component().refs;function Gv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Zn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var h7={isMounted:function(t){return(t=t._reactInternals)?md(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$i(),i=su(t),s=Ka(r,i);s.payload=e,n!=null&&(s.callback=n),e=ru(t,s,i),e!==null&&(Po(e,t,i,r),s5(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$i(),i=su(t),s=Ka(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ru(t,s,i),e!==null&&(Po(e,t,i,r),s5(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$i(),r=su(t),i=Ka(n,r);i.tag=2,e!=null&&(i.callback=e),e=ru(t,i,r),e!==null&&(Po(e,t,r,n),s5(e,t,r))}};function zA(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wp(n,r)||!wp(i,s):!0}function wN(t,e,n){var r=!1,i=vu,s=e.contextType;return typeof s=="object"&&s!==null?s=ao(s):(i=ss(e)?Zc:Li.current,r=e.contextTypes,s=(r=r!=null)?Cf(t,i):vu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=h7,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function BA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&h7.enqueueReplaceState(e,e.state,null)}function $v(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=SN,JS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ao(s):(s=ss(e)?Zc:Li.current,i.context=Cf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&h7.enqueueReplaceState(i,i.state,null),i6(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function q0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===SN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function km(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VA(t){var e=t._init;return e(t._payload)}function EN(t){function e(g,S){if(t){var w=g.deletions;w===null?(g.deletions=[S],g.flags|=16):w.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function i(g,S){return g=ou(g,S),g.index=0,g.sibling=null,g}function s(g,S,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<S?(g.flags|=2,S):w):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,w,b){return S===null||S.tag!==6?(S=vg(w,g.mode,b),S.return=g,S):(S=i(S,w),S.return=g,S)}function l(g,S,w,b){var M=w.type;return M===Mh?c(g,S,w.props.children,b,w.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ol&&VA(M)===S.type)?(b=i(S,w.props),b.ref=q0(g,S,w),b.return=g,b):(b=d5(w.type,w.key,w.props,null,g.mode,b),b.ref=q0(g,S,w),b.return=g,b)}function u(g,S,w,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=_g(w,g.mode,b),S.return=g,S):(S=i(S,w.children||[]),S.return=g,S)}function c(g,S,w,b,M){return S===null||S.tag!==7?(S=Bc(w,g.mode,b,M),S.return=g,S):(S=i(S,w),S.return=g,S)}function f(g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vg(""+S,g.mode,w),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wm:return w=d5(S.type,S.key,S.props,null,g.mode,w),w.ref=q0(g,null,S),w.return=g,w;case Th:return S=_g(S,g.mode,w),S.return=g,S;case Ol:var b=S._init;return f(g,b(S._payload),w)}if(x1(S)||H0(S))return S=Bc(S,g.mode,w,null),S.return=g,S;km(g,S)}return null}function p(g,S,w,b){var M=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(g,S,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wm:return w.key===M?l(g,S,w,b):null;case Th:return w.key===M?u(g,S,w,b):null;case Ol:return M=w._init,p(g,S,M(w._payload),b)}if(x1(w)||H0(w))return M!==null?null:c(g,S,w,b,null);km(g,w)}return null}function m(g,S,w,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(S,g,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wm:return g=g.get(b.key===null?w:b.key)||null,l(S,g,b,M);case Th:return g=g.get(b.key===null?w:b.key)||null,u(S,g,b,M);case Ol:var A=b._init;return m(g,S,w,A(b._payload),M)}if(x1(b)||H0(b))return g=g.get(w)||null,c(S,g,b,M,null);km(S,b)}return null}function y(g,S,w,b){for(var M=null,A=null,R=S,L=S=0,C=null;R!==null&&L<w.length;L++){R.index>L?(C=R,R=null):C=R.sibling;var k=p(g,R,w[L],b);if(k===null){R===null&&(R=C);break}t&&R&&k.alternate===null&&e(g,R),S=s(k,S,L),A===null?M=k:A.sibling=k,A=k,R=C}if(L===w.length)return n(g,R),zn&&uc(g,L),M;if(R===null){for(;L<w.length;L++)R=f(g,w[L],b),R!==null&&(S=s(R,S,L),A===null?M=R:A.sibling=R,A=R);return zn&&uc(g,L),M}for(R=r(g,R);L<w.length;L++)C=m(R,g,L,w[L],b),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?L:C.key),S=s(C,S,L),A===null?M=C:A.sibling=C,A=C);return t&&R.forEach(function($){return e(g,$)}),zn&&uc(g,L),M}function _(g,S,w,b){var M=H0(w);if(typeof M!="function")throw Error(Oe(150));if(w=M.call(w),w==null)throw Error(Oe(151));for(var A=M=null,R=S,L=S=0,C=null,k=w.next();R!==null&&!k.done;L++,k=w.next()){R.index>L?(C=R,R=null):C=R.sibling;var $=p(g,R,k.value,b);if($===null){R===null&&(R=C);break}t&&R&&$.alternate===null&&e(g,R),S=s($,S,L),A===null?M=$:A.sibling=$,A=$,R=C}if(k.done)return n(g,R),zn&&uc(g,L),M;if(R===null){for(;!k.done;L++,k=w.next())k=f(g,k.value,b),k!==null&&(S=s(k,S,L),A===null?M=k:A.sibling=k,A=k);return zn&&uc(g,L),M}for(R=r(g,R);!k.done;L++,k=w.next())k=m(R,g,L,k.value,b),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?L:k.key),S=s(k,S,L),A===null?M=k:A.sibling=k,A=k);return t&&R.forEach(function(ee){return e(g,ee)}),zn&&uc(g,L),M}function x(g,S,w,b){if(typeof w=="object"&&w!==null&&w.type===Mh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wm:e:{for(var M=w.key,A=S;A!==null;){if(A.key===M){if(M=w.type,M===Mh){if(A.tag===7){n(g,A.sibling),S=i(A,w.props.children),S.return=g,g=S;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ol&&VA(M)===A.type){n(g,A.sibling),S=i(A,w.props),S.ref=q0(g,A,w),S.return=g,g=S;break e}n(g,A);break}else e(g,A);A=A.sibling}w.type===Mh?(S=Bc(w.props.children,g.mode,b,w.key),S.return=g,g=S):(b=d5(w.type,w.key,w.props,null,g.mode,b),b.ref=q0(g,S,w),b.return=g,g=b)}return o(g);case Th:e:{for(A=w.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(g,S.sibling),S=i(S,w.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=_g(w,g.mode,b),S.return=g,g=S}return o(g);case Ol:return A=w._init,x(g,S,A(w._payload),b)}if(x1(w))return y(g,S,w,b);if(H0(w))return _(g,S,w,b);km(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(g,S.sibling),S=i(S,w),S.return=g,g=S):(n(g,S),S=vg(w,g.mode,b),S.return=g,g=S),o(g)):n(g,S)}return x}var Rf=EN(!0),bN=EN(!1),U2={},la=Cu(U2),Mp=Cu(U2),Ap=Cu(U2);function Ec(t){if(t===U2)throw Error(Oe(174));return t}function ew(t,e){switch(Rn(Ap,e),Rn(Mp,t),Rn(la,U2),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wv(e,t)}Fn(la),Rn(la,e)}function If(){Fn(la),Fn(Mp),Fn(Ap)}function TN(t){Ec(Ap.current);var e=Ec(la.current),n=wv(e,t.type);e!==n&&(Rn(Mp,t),Rn(la,n))}function tw(t){Mp.current===t&&(Fn(la),Fn(Mp))}var Xn=Cu(0);function s6(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hg=[];function nw(){for(var t=0;t<hg.length;t++)hg[t]._workInProgressVersionPrimary=null;hg.length=0}var o5=fl.ReactCurrentDispatcher,fg=fl.ReactCurrentBatchConfig,ed=0,Qn=null,kr=null,Kr=null,o6=!1,H1=!1,Cp=0,zq=0;function vi(){throw Error(Oe(321))}function rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function iw(t,e,n,r,i,s){if(ed=s,Qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o5.current=t===null||t.memoizedState===null?Gq:$q,t=n(r,i),H1){s=0;do{if(H1=!1,Cp=0,25<=s)throw Error(Oe(301));s+=1,Kr=kr=null,e.updateQueue=null,o5.current=Wq,t=n(r,i)}while(H1)}if(o5.current=a6,e=kr!==null&&kr.next!==null,ed=0,Kr=kr=Qn=null,o6=!1,e)throw Error(Oe(300));return t}function sw(){var t=Cp!==0;return Cp=0,t}function Yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Qn.memoizedState=Kr=t:Kr=Kr.next=t,Kr}function lo(){if(kr===null){var t=Qn.alternate;t=t!==null?t.memoizedState:null}else t=kr.next;var e=Kr===null?Qn.memoizedState:Kr.next;if(e!==null)Kr=e,kr=t;else{if(t===null)throw Error(Oe(310));kr=t,t={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Kr===null?Qn.memoizedState=Kr=t:Kr=Kr.next=t}return Kr}function Pp(t,e){return typeof e=="function"?e(t):e}function pg(t){var e=lo(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ed&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Qn.lanes|=c,td|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ko(r,e.memoizedState)||(rs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Qn.lanes|=s,td|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mg(t){var e=lo(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ko(s,e.memoizedState)||(rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MN(){}function AN(t,e){var n=Qn,r=lo(),i=e(),s=!ko(r.memoizedState,i);if(s&&(r.memoizedState=i,rs=!0),r=r.queue,ow(RN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kr!==null&&Kr.memoizedState.tag&1){if(n.flags|=2048,Rp(9,PN.bind(null,n,r,i,e),void 0,null),Qr===null)throw Error(Oe(349));ed&30||CN(n,e,i)}return i}function CN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PN(t,e,n,r){e.value=n,e.getSnapshot=r,IN(e)&&LN(t)}function RN(t,e,n){return n(function(){IN(e)&&LN(t)})}function IN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function LN(t){var e=il(t,1);e!==null&&Po(e,t,1,-1)}function HA(t){var e=Yo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:t},e.queue=t,t=t.dispatch=Hq.bind(null,Qn,t),[e.memoizedState,t]}function Rp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qn.updateQueue,e===null?(e={lastEffect:null,stores:null},Qn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kN(){return lo().memoizedState}function a5(t,e,n,r){var i=Yo();Qn.flags|=t,i.memoizedState=Rp(1|e,n,void 0,r===void 0?null:r)}function f7(t,e,n,r){var i=lo();r=r===void 0?null:r;var s=void 0;if(kr!==null){var o=kr.memoizedState;if(s=o.destroy,r!==null&&rw(r,o.deps)){i.memoizedState=Rp(e,n,s,r);return}}Qn.flags|=t,i.memoizedState=Rp(1|e,n,s,r)}function GA(t,e){return a5(8390656,8,t,e)}function ow(t,e){return f7(2048,8,t,e)}function DN(t,e){return f7(4,2,t,e)}function NN(t,e){return f7(4,4,t,e)}function FN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ON(t,e,n){return n=n!=null?n.concat([t]):null,f7(4,4,FN.bind(null,e,t),n)}function aw(){}function UN(t,e){var n=lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zN(t,e){var n=lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BN(t,e,n){return ed&21?(ko(n,e)||(n=GD(),Qn.lanes|=n,td|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rs=!0),t.memoizedState=n)}function Bq(t,e){var n=bn;bn=n!==0&&4>n?n:4,t(!0);var r=fg.transition;fg.transition={};try{t(!1),e()}finally{bn=n,fg.transition=r}}function VN(){return lo().memoizedState}function Vq(t,e,n){var r=su(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HN(t))GN(e,n);else if(n=_N(t,e,n,r),n!==null){var i=$i();Po(n,t,r,i),$N(n,e,r)}}function Hq(t,e,n){var r=su(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HN(t))GN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ko(a,o)){var l=e.interleaved;l===null?(i.next=i,ZS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_N(t,e,i,r),n!==null&&(i=$i(),Po(n,t,r,i),$N(n,e,r))}}function HN(t){var e=t.alternate;return t===Qn||e!==null&&e===Qn}function GN(t,e){H1=o6=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $N(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,US(t,n)}}var a6={readContext:ao,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},Gq={readContext:ao,useCallback:function(t,e){return Yo().memoizedState=[t,e===void 0?null:e],t},useContext:ao,useEffect:GA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,a5(4194308,4,FN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return a5(4194308,4,t,e)},useInsertionEffect:function(t,e){return a5(4,2,t,e)},useMemo:function(t,e){var n=Yo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vq.bind(null,Qn,t),[r.memoizedState,t]},useRef:function(t){var e=Yo();return t={current:t},e.memoizedState=t},useState:HA,useDebugValue:aw,useDeferredValue:function(t){return Yo().memoizedState=t},useTransition:function(){var t=HA(!1),e=t[0];return t=Bq.bind(null,t[1]),Yo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qn,i=Yo();if(zn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Qr===null)throw Error(Oe(349));ed&30||CN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,GA(RN.bind(null,r,s,t),[t]),r.flags|=2048,Rp(9,PN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yo(),e=Qr.identifierPrefix;if(zn){var n=Wa,r=$a;n=(r&~(1<<32-Co(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$q={readContext:ao,useCallback:UN,useContext:ao,useEffect:ow,useImperativeHandle:ON,useInsertionEffect:DN,useLayoutEffect:NN,useMemo:zN,useReducer:pg,useRef:kN,useState:function(){return pg(Pp)},useDebugValue:aw,useDeferredValue:function(t){var e=lo();return BN(e,kr.memoizedState,t)},useTransition:function(){var t=pg(Pp)[0],e=lo().memoizedState;return[t,e]},useMutableSource:MN,useSyncExternalStore:AN,useId:VN,unstable_isNewReconciler:!1},Wq={readContext:ao,useCallback:UN,useContext:ao,useEffect:ow,useImperativeHandle:ON,useInsertionEffect:DN,useLayoutEffect:NN,useMemo:zN,useReducer:mg,useRef:kN,useState:function(){return mg(Pp)},useDebugValue:aw,useDeferredValue:function(t){var e=lo();return kr===null?e.memoizedState=t:BN(e,kr.memoizedState,t)},useTransition:function(){var t=mg(Pp)[0],e=lo().memoizedState;return[t,e]},useMutableSource:MN,useSyncExternalStore:AN,useId:VN,unstable_isNewReconciler:!1};function Lf(t,e){try{var n="",r=e;do n+=_j(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jq=typeof WeakMap=="function"?WeakMap:Map;function WN(t,e,n){n=Ka(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){u6||(u6=!0,t_=r),Wv(t,e)},n}function jN(t,e,n){n=Ka(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wv(t,e),typeof r!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $A(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oX.bind(null,t,e,n),e.then(t,t))}function WA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ka(-1,1),e.tag=2,ru(n,e,1))),n.lanes|=1),t)}var qq=fl.ReactCurrentOwner,rs=!1;function Bi(t,e,n,r){e.child=t===null?bN(e,null,n,r):Rf(e,t.child,n,r)}function qA(t,e,n,r,i){n=n.render;var s=e.ref;return of(e,i),r=iw(t,e,n,r,s,i),n=sw(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sl(t,e,i)):(zn&&n&&jS(e),e.flags|=1,Bi(t,e,r,i),e.child)}function XA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qN(t,e,s,r,i)):(t=d5(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wp,n(o,r)&&t.ref===e.ref)return sl(t,e,i)}return e.flags|=1,t=ou(s,r),t.ref=e.ref,t.return=e,e.child=t}function qN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wp(s,r)&&t.ref===e.ref)if(rs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rs=!0);else return e.lanes=t.lanes,sl(t,e,i)}return jv(t,e,n,r,i)}function XN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Fh,Ss),Ss|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn(Fh,Ss),Ss|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rn(Fh,Ss),Ss|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rn(Fh,Ss),Ss|=r;return Bi(t,e,i,n),e.child}function YN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jv(t,e,n,r,i){var s=ss(n)?Zc:Li.current;return s=Cf(e,s),of(e,i),n=iw(t,e,n,r,s,i),r=sw(),t!==null&&!rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sl(t,e,i)):(zn&&r&&jS(e),e.flags|=1,Bi(t,e,n,i),e.child)}function YA(t,e,n,r,i){if(ss(n)){var s=!0;J5(e)}else s=!1;if(of(e,i),e.stateNode===null)l5(t,e),wN(e,n,r),$v(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ao(u):(u=ss(n)?Zc:Li.current,u=Cf(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&BA(e,o,r,u),Ul=!1;var p=e.memoizedState;o.state=p,i6(e,r,o,i),l=e.memoizedState,a!==r||p!==l||is.current||Ul?(typeof c=="function"&&(Gv(e,n,c,r),l=e.memoizedState),(a=Ul||zA(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:So(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ao(l):(l=ss(n)?Zc:Li.current,l=Cf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&BA(e,o,r,l),Ul=!1,p=e.memoizedState,o.state=p,i6(e,r,o,i);var y=e.memoizedState;a!==f||p!==y||is.current||Ul?(typeof m=="function"&&(Gv(e,n,m,r),y=e.memoizedState),(u=Ul||zA(e,n,u,r,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,s,i)}function qv(t,e,n,r,i,s){YN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&DA(e,n,!1),sl(t,e,s);r=e.stateNode,qq.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rf(e,t.child,null,s),e.child=Rf(e,null,a,s)):Bi(t,e,a,s),e.memoizedState=r.state,i&&DA(e,n,!0),e.child}function KN(t){var e=t.stateNode;e.pendingContext?kA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kA(t,e.context,!1),ew(t,e.containerInfo)}function KA(t,e,n,r,i){return Pf(),XS(i),e.flags|=256,Bi(t,e,n,r),e.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function QN(t,e,n){var r=e.pendingProps,i=Xn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rn(Xn,i&1),t===null)return Vv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=g7(o,r,0,null),t=Bc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yv(n),e.memoizedState=Xv,t):lw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Xq(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ou(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ou(a,s):(s=Bc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xv,r}return s=t.child,t=s.sibling,r=ou(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lw(t,e){return e=g7({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dm(t,e,n,r){return r!==null&&XS(r),Rf(e,t.child,null,n),t=lw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gg(Error(Oe(422))),Dm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=g7({mode:"visible",children:r.children},i,0,null),s=Bc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rf(e,t.child,null,o),e.child.memoizedState=Yv(o),e.memoizedState=Xv,s);if(!(e.mode&1))return Dm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=gg(s,r,void 0),Dm(t,e,o,r)}if(a=(o&t.childLanes)!==0,rs||a){if(r=Qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,il(t,i),Po(r,t,i,-1))}return pw(),r=gg(Error(Oe(421))),Dm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ws=nu(i.nextSibling),Ts=e,zn=!0,To=null,t!==null&&(to[no++]=$a,to[no++]=Wa,to[no++]=Jc,$a=t.id,Wa=t.overflow,Jc=e),e=lw(e,r.children),e.flags|=4096,e)}function QA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hv(t.return,e,n)}function yg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bi(t,e,r.children,n),r=Xn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QA(t,n,e);else if(t.tag===19)QA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn(Xn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&s6(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&s6(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yg(e,!0,n,null,s);break;case"together":yg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l5(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),td|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=ou(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ou(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yq(t,e,n){switch(e.tag){case 3:KN(e),Pf();break;case 5:TN(e);break;case 1:ss(e.type)&&J5(e);break;case 4:ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rn(n6,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(Xn,Xn.current&1),e.flags|=128,null):n&e.child.childLanes?QN(t,e,n):(Rn(Xn,Xn.current&1),t=sl(t,e,n),t!==null?t.sibling:null);Rn(Xn,Xn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(Xn,Xn.current),r)break;return null;case 22:case 23:return e.lanes=0,XN(t,e,n)}return sl(t,e,n)}var JN,Kv,eF,tF;JN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kv=function(){};eF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ec(la.current);var s=null;switch(n){case"input":i=vv(t,i),r=vv(t,r),s=[];break;case"select":i=Zn({},i,{value:void 0}),r=Zn({},r,{value:void 0}),s=[];break;case"textarea":i=Sv(t,i),r=Sv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Q5)}Ev(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tF=function(t,e,n,r){n!==r&&(e.flags|=4)};function X0(t,e){if(!zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _i(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kq(t,e,n){var r=e.pendingProps;switch(qS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(e),null;case 1:return ss(e.type)&&Z5(),_i(e),null;case 3:return r=e.stateNode,If(),Fn(is),Fn(Li),nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,To!==null&&(i_(To),To=null))),Kv(t,e),_i(e),null;case 5:tw(e);var i=Ec(Ap.current);if(n=e.type,t!==null&&e.stateNode!=null)eF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return _i(e),null}if(t=Ec(la.current),Lm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ea]=e,r[Tp]=s,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<w1.length;i++)Ln(w1[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":oA(r,s),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",r);break;case"textarea":lA(r,s),Ln("invalid",r)}Ev(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Im(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Im(r.textContent,a,t),i=["children",""+a]):mp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":Em(r),aA(r,s,!0);break;case"textarea":Em(r),uA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Q5)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ea]=e,t[Tp]=r,JN(t,e,!1,!1),e.stateNode=t;e:{switch(o=bv(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<w1.length;i++)Ln(w1[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":oA(t,r),i=vv(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Zn({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":lA(t,r),i=Sv(t,r),Ln("invalid",t);break;default:i=r}Ev(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ID(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PD(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gp(t,l):typeof l=="number"&&gp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ln("scroll",t):l!=null&&LS(t,s,l,o))}switch(n){case"input":Em(t),aA(t,r,!1);break;case"textarea":Em(t),uA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?tf(t,!!r.multiple,s,!1):r.defaultValue!=null&&tf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Q5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _i(e),null;case 6:if(t&&e.stateNode!=null)tF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Ec(Ap.current),Ec(la.current),Lm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ea]=e,(s=r.nodeValue!==n)&&(t=Ts,t!==null))switch(t.tag){case 3:Im(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Im(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ea]=e,e.stateNode=r}return _i(e),null;case 13:if(Fn(Xn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zn&&ws!==null&&e.mode&1&&!(e.flags&128))vN(),Pf(),e.flags|=98560,s=!1;else if(s=Lm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[ea]=e}else Pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_i(e),s=!1}else To!==null&&(i_(To),To=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xn.current&1?Nr===0&&(Nr=3):pw())),e.updateQueue!==null&&(e.flags|=4),_i(e),null);case 4:return If(),Kv(t,e),t===null&&Ep(e.stateNode.containerInfo),_i(e),null;case 10:return QS(e.type._context),_i(e),null;case 17:return ss(e.type)&&Z5(),_i(e),null;case 19:if(Fn(Xn),s=e.memoizedState,s===null)return _i(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)X0(s,!1);else{if(Nr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=s6(t),o!==null){for(e.flags|=128,X0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn(Xn,Xn.current&1|2),e.child}t=t.sibling}s.tail!==null&&pr()>kf&&(e.flags|=128,r=!0,X0(s,!1),e.lanes=4194304)}else{if(!r)if(t=s6(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),X0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zn)return _i(e),null}else 2*pr()-s.renderingStartTime>kf&&n!==1073741824&&(e.flags|=128,r=!0,X0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pr(),e.sibling=null,n=Xn.current,Rn(Xn,r?n&1|2:n&1),e):(_i(e),null);case 22:case 23:return fw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ss&1073741824&&(_i(e),e.subtreeFlags&6&&(e.flags|=8192)):_i(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function Qq(t,e){switch(qS(e),e.tag){case 1:return ss(e.type)&&Z5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return If(),Fn(is),Fn(Li),nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tw(e),null;case 13:if(Fn(Xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fn(Xn),null;case 4:return If(),null;case 10:return QS(e.type._context),null;case 22:case 23:return fw(),null;case 24:return null;default:return null}}var Nm=!1,Ti=!1,Zq=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Nh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ir(t,e,r)}else n.current=null}function Qv(t,e,n){try{n()}catch(r){ir(t,e,r)}}var ZA=!1;function Jq(t,e){if(Dv=X5,t=sN(),WS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nv={focusedElem:t,selectionRange:n},X5=!1,rt=e;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:So(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(b){ir(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}return y=ZA,ZA=!1,y}function G1(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qv(e,n,s)}i=i.next}while(i!==r)}}function p7(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nF(t){var e=t.alternate;e!==null&&(t.alternate=null,nF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ea],delete e[Tp],delete e[Uv],delete e[Nq],delete e[Fq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rF(t){return t.tag===5||t.tag===3||t.tag===4}function JA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Q5));else if(r!==4&&(t=t.child,t!==null))for(Jv(t,e,n),t=t.sibling;t!==null;)Jv(t,e,n),t=t.sibling}function e_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(e_(t,e,n),t=t.sibling;t!==null;)e_(t,e,n),t=t.sibling}var si=null,bo=!1;function Al(t,e,n){for(n=n.child;n!==null;)iF(t,e,n),n=n.sibling}function iF(t,e,n){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(o7,n)}catch{}switch(n.tag){case 5:Ti||Nh(n,e);case 6:var r=si,i=bo;si=null,Al(t,e,n),si=r,bo=i,si!==null&&(bo?(t=si,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):si.removeChild(n.stateNode));break;case 18:si!==null&&(bo?(t=si,n=n.stateNode,t.nodeType===8?cg(t.parentNode,n):t.nodeType===1&&cg(t,n),xp(t)):cg(si,n.stateNode));break;case 4:r=si,i=bo,si=n.stateNode.containerInfo,bo=!0,Al(t,e,n),si=r,bo=i;break;case 0:case 11:case 14:case 15:if(!Ti&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qv(n,e,o),i=i.next}while(i!==r)}Al(t,e,n);break;case 1:if(!Ti&&(Nh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ir(n,e,a)}Al(t,e,n);break;case 21:Al(t,e,n);break;case 22:n.mode&1?(Ti=(r=Ti)||n.memoizedState!==null,Al(t,e,n),Ti=r):Al(t,e,n);break;default:Al(t,e,n)}}function eC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zq),e.forEach(function(r){var i=lX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function go(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:si=a.stateNode,bo=!1;break e;case 3:si=a.stateNode.containerInfo,bo=!0;break e;case 4:si=a.stateNode.containerInfo,bo=!0;break e}a=a.return}if(si===null)throw Error(Oe(160));iF(s,o,i),si=null,bo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ir(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sF(e,t),e=e.sibling}function sF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(go(e,t),jo(t),r&4){try{G1(3,t,t.return),p7(3,t)}catch(_){ir(t,t.return,_)}try{G1(5,t,t.return)}catch(_){ir(t,t.return,_)}}break;case 1:go(e,t),jo(t),r&512&&n!==null&&Nh(n,n.return);break;case 5:if(go(e,t),jo(t),r&512&&n!==null&&Nh(n,n.return),t.flags&32){var i=t.stateNode;try{gp(i,"")}catch(_){ir(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MD(i,s),bv(a,o);var u=bv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?ID(i,f):c==="dangerouslySetInnerHTML"?PD(i,f):c==="children"?gp(i,f):LS(i,c,f,u)}switch(a){case"input":_v(i,s);break;case"textarea":AD(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?tf(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?tf(i,!!s.multiple,s.defaultValue,!0):tf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tp]=s}catch(_){ir(t,t.return,_)}}break;case 6:if(go(e,t),jo(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){ir(t,t.return,_)}}break;case 3:if(go(e,t),jo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xp(e.containerInfo)}catch(_){ir(t,t.return,_)}break;case 4:go(e,t),jo(t);break;case 13:go(e,t),jo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dw=pr())),r&4&&eC(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ti=(u=Ti)||c,go(e,t),Ti=u):go(e,t),jo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(rt=t,c=t.child;c!==null;){for(f=rt=c;rt!==null;){switch(p=rt,m=p.child,p.tag){case 0:case 11:case 14:case 15:G1(4,p,p.return);break;case 1:Nh(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){ir(r,n,_)}}break;case 5:Nh(p,p.return);break;case 22:if(p.memoizedState!==null){nC(f);continue}}m!==null?(m.return=p,rt=m):nC(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RD("display",o))}catch(_){ir(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){ir(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:go(e,t),jo(t),r&4&&eC(t);break;case 21:break;default:go(e,t),jo(t)}}function jo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rF(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gp(i,""),r.flags&=-33);var s=JA(t);e_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=JA(t);Jv(t,a,o);break;default:throw Error(Oe(161))}}catch(l){ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eX(t,e,n){rt=t,oF(t)}function oF(t,e,n){for(var r=(t.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ti;a=Nm;var u=Ti;if(Nm=o,(Ti=l)&&!u)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?rC(i):l!==null?(l.return=o,rt=l):rC(i);for(;s!==null;)rt=s,oF(s),s=s.sibling;rt=i,Nm=a,Ti=u}tC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):tC(t)}}function tC(t){for(;rt!==null;){var e=rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||p7(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ti)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:So(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&UA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Ti||e.flags&512&&Zv(e)}catch(p){ir(e,e.return,p)}}if(e===t){rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}}function nC(t){for(;rt!==null;){var e=rt;if(e===t){rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,rt=n;break}rt=e.return}}function rC(t){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{p7(4,e)}catch(l){ir(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ir(e,i,l)}}var s=e.return;try{Zv(e)}catch(l){ir(e,s,l)}break;case 5:var o=e.return;try{Zv(e)}catch(l){ir(e,o,l)}}}catch(l){ir(e,e.return,l)}if(e===t){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var tX=Math.ceil,l6=fl.ReactCurrentDispatcher,uw=fl.ReactCurrentOwner,oo=fl.ReactCurrentBatchConfig,en=0,Qr=null,Ar=null,ui=0,Ss=0,Fh=Cu(0),Nr=0,Ip=null,td=0,m7=0,cw=0,$1=null,Ji=null,dw=0,kf=1/0,Oa=null,u6=!1,t_=null,iu=null,Fm=!1,ql=null,c6=0,W1=0,n_=null,u5=-1,c5=0;function $i(){return en&6?pr():u5!==-1?u5:u5=pr()}function su(t){return t.mode&1?en&2&&ui!==0?ui&-ui:Uq.transition!==null?(c5===0&&(c5=GD()),c5):(t=bn,t!==0||(t=window.event,t=t===void 0?16:KD(t.type)),t):1}function Po(t,e,n,r){if(50<W1)throw W1=0,n_=null,Error(Oe(185));N2(t,n,r),(!(en&2)||t!==Qr)&&(t===Qr&&(!(en&2)&&(m7|=n),Nr===4&&Gl(t,ui)),os(t,r),n===1&&en===0&&!(e.mode&1)&&(kf=pr()+500,d7&&Pu()))}function os(t,e){var n=t.callbackNode;Uj(t,e);var r=q5(t,t===Qr?ui:0);if(r===0)n!==null&&hA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hA(n),e===1)t.tag===0?Oq(iC.bind(null,t)):mN(iC.bind(null,t)),kq(function(){!(en&6)&&Pu()}),n=null;else{switch($D(r)){case 1:n=OS;break;case 4:n=VD;break;case 16:n=j5;break;case 536870912:n=HD;break;default:n=j5}n=pF(n,aF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aF(t,e){if(u5=-1,c5=0,en&6)throw Error(Oe(327));var n=t.callbackNode;if(af()&&t.callbackNode!==n)return null;var r=q5(t,t===Qr?ui:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=d6(t,r);else{e=r;var i=en;en|=2;var s=uF();(Qr!==t||ui!==e)&&(Oa=null,kf=pr()+500,zc(t,e));do try{iX();break}catch(a){lF(t,a)}while(1);KS(),l6.current=s,en=i,Ar!==null?e=0:(Qr=null,ui=0,e=Nr)}if(e!==0){if(e===2&&(i=Pv(t),i!==0&&(r=i,e=r_(t,i))),e===1)throw n=Ip,zc(t,0),Gl(t,r),os(t,pr()),n;if(e===6)Gl(t,r);else{if(i=t.current.alternate,!(r&30)&&!nX(i)&&(e=d6(t,r),e===2&&(s=Pv(t),s!==0&&(r=s,e=r_(t,s))),e===1))throw n=Ip,zc(t,0),Gl(t,r),os(t,pr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:cc(t,Ji,Oa);break;case 3:if(Gl(t,r),(r&130023424)===r&&(e=dw+500-pr(),10<e)){if(q5(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ov(cc.bind(null,t,Ji,Oa),e);break}cc(t,Ji,Oa);break;case 4:if(Gl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Co(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tX(r/1960))-r,10<r){t.timeoutHandle=Ov(cc.bind(null,t,Ji,Oa),r);break}cc(t,Ji,Oa);break;case 5:cc(t,Ji,Oa);break;default:throw Error(Oe(329))}}}return os(t,pr()),t.callbackNode===n?aF.bind(null,t):null}function r_(t,e){var n=$1;return t.current.memoizedState.isDehydrated&&(zc(t,e).flags|=256),t=d6(t,e),t!==2&&(e=Ji,Ji=n,e!==null&&i_(e)),t}function i_(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function nX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gl(t,e){for(e&=~cw,e&=~m7,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Co(e),r=1<<n;t[n]=-1,e&=~r}}function iC(t){if(en&6)throw Error(Oe(327));af();var e=q5(t,0);if(!(e&1))return os(t,pr()),null;var n=d6(t,e);if(t.tag!==0&&n===2){var r=Pv(t);r!==0&&(e=r,n=r_(t,r))}if(n===1)throw n=Ip,zc(t,0),Gl(t,e),os(t,pr()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cc(t,Ji,Oa),os(t,pr()),null}function hw(t,e){var n=en;en|=1;try{return t(e)}finally{en=n,en===0&&(kf=pr()+500,d7&&Pu())}}function nd(t){ql!==null&&ql.tag===0&&!(en&6)&&af();var e=en;en|=1;var n=oo.transition,r=bn;try{if(oo.transition=null,bn=1,t)return t()}finally{bn=r,oo.transition=n,en=e,!(en&6)&&Pu()}}function fw(){Ss=Fh.current,Fn(Fh)}function zc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lq(n)),Ar!==null)for(n=Ar.return;n!==null;){var r=n;switch(qS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Z5();break;case 3:If(),Fn(is),Fn(Li),nw();break;case 5:tw(r);break;case 4:If();break;case 13:Fn(Xn);break;case 19:Fn(Xn);break;case 10:QS(r.type._context);break;case 22:case 23:fw()}n=n.return}if(Qr=t,Ar=t=ou(t.current,null),ui=Ss=e,Nr=0,Ip=null,cw=m7=td=0,Ji=$1=null,wc!==null){for(e=0;e<wc.length;e++)if(n=wc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wc=null}return t}function lF(t,e){do{var n=Ar;try{if(KS(),o5.current=a6,o6){for(var r=Qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}o6=!1}if(ed=0,Kr=kr=Qn=null,H1=!1,Cp=0,uw.current=null,n===null||n.return===null){Nr=1,Ip=e,Ar=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ui,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=WA(o);if(m!==null){m.flags&=-257,jA(m,o,a,s,e),m.mode&1&&$A(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){$A(s,u,e),pw();break e}l=Error(Oe(426))}}else if(zn&&a.mode&1){var x=WA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jA(x,o,a,s,e),XS(Lf(l,a));break e}}s=l=Lf(l,a),Nr!==4&&(Nr=2),$1===null?$1=[s]:$1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=WN(s,l,e);OA(s,g);break e;case 1:a=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(iu===null||!iu.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=jN(s,a,e);OA(s,b);break e}}s=s.return}while(s!==null)}dF(n)}catch(M){e=M,Ar===n&&n!==null&&(Ar=n=n.return);continue}break}while(1)}function uF(){var t=l6.current;return l6.current=a6,t===null?a6:t}function pw(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),Qr===null||!(td&268435455)&&!(m7&268435455)||Gl(Qr,ui)}function d6(t,e){var n=en;en|=2;var r=uF();(Qr!==t||ui!==e)&&(Oa=null,zc(t,e));do try{rX();break}catch(i){lF(t,i)}while(1);if(KS(),en=n,l6.current=r,Ar!==null)throw Error(Oe(261));return Qr=null,ui=0,Nr}function rX(){for(;Ar!==null;)cF(Ar)}function iX(){for(;Ar!==null&&!Pj();)cF(Ar)}function cF(t){var e=fF(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,e===null?dF(t):Ar=e,uw.current=null}function dF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qq(n,e),n!==null){n.flags&=32767,Ar=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nr=6,Ar=null;return}}else if(n=Kq(n,e,Ss),n!==null){Ar=n;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Nr===0&&(Nr=5)}function cc(t,e,n){var r=bn,i=oo.transition;try{oo.transition=null,bn=1,sX(t,e,n,r)}finally{oo.transition=i,bn=r}return null}function sX(t,e,n,r){do af();while(ql!==null);if(en&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zj(t,s),t===Qr&&(Ar=Qr=null,ui=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fm||(Fm=!0,pF(j5,function(){return af(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oo.transition,oo.transition=null;var o=bn;bn=1;var a=en;en|=4,uw.current=null,Jq(t,n),sF(n,t),Tq(Nv),X5=!!Dv,Nv=Dv=null,t.current=n,eX(n),Rj(),en=a,bn=o,oo.transition=s}else t.current=n;if(Fm&&(Fm=!1,ql=t,c6=i),s=t.pendingLanes,s===0&&(iu=null),kj(n.stateNode),os(t,pr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(u6)throw u6=!1,t=t_,t_=null,t;return c6&1&&t.tag!==0&&af(),s=t.pendingLanes,s&1?t===n_?W1++:(W1=0,n_=t):W1=0,Pu(),null}function af(){if(ql!==null){var t=$D(c6),e=oo.transition,n=bn;try{if(oo.transition=null,bn=16>t?16:t,ql===null)var r=!1;else{if(t=ql,ql=null,c6=0,en&6)throw Error(Oe(331));var i=en;for(en|=4,rt=t.current;rt!==null;){var s=rt,o=s.child;if(rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(rt=u;rt!==null;){var c=rt;switch(c.tag){case 0:case 11:case 15:G1(8,c,s)}var f=c.child;if(f!==null)f.return=c,rt=f;else for(;rt!==null;){c=rt;var p=c.sibling,m=c.return;if(nF(c),c===u){rt=null;break}if(p!==null){p.return=m,rt=p;break}rt=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,rt=o;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:G1(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,rt=g;break e}rt=s.return}}var S=t.current;for(rt=S;rt!==null;){o=rt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,rt=w;else e:for(o=S;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:p7(9,a)}}catch(M){ir(a,a.return,M)}if(a===o){rt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,rt=b;break e}rt=a.return}}if(en=i,Pu(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(o7,t)}catch{}r=!0}return r}finally{bn=n,oo.transition=e}}return!1}function sC(t,e,n){e=Lf(n,e),e=WN(t,e,1),t=ru(t,e,1),e=$i(),t!==null&&(N2(t,1,e),os(t,e))}function ir(t,e,n){if(t.tag===3)sC(t,t,n);else for(;e!==null;){if(e.tag===3){sC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(iu===null||!iu.has(r))){t=Lf(n,t),t=jN(e,t,1),e=ru(e,t,1),t=$i(),e!==null&&(N2(e,1,t),os(e,t));break}}e=e.return}}function oX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$i(),t.pingedLanes|=t.suspendedLanes&n,Qr===t&&(ui&n)===n&&(Nr===4||Nr===3&&(ui&130023424)===ui&&500>pr()-dw?zc(t,0):cw|=n),os(t,e)}function hF(t,e){e===0&&(t.mode&1?(e=Mm,Mm<<=1,!(Mm&130023424)&&(Mm=4194304)):e=1);var n=$i();t=il(t,e),t!==null&&(N2(t,e,n),os(t,n))}function aX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hF(t,n)}function lX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),hF(t,n)}var fF;fF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||is.current)rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rs=!1,Yq(t,e,n);rs=!!(t.flags&131072)}else rs=!1,zn&&e.flags&1048576&&gN(e,t6,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l5(t,e),t=e.pendingProps;var i=Cf(e,Li.current);of(e,n),i=iw(null,e,r,t,i,n);var s=sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ss(r)?(s=!0,J5(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JS(e),i.updater=h7,e.stateNode=i,i._reactInternals=e,$v(e,r,t,n),e=qv(null,e,r,!0,s,n)):(e.tag=0,zn&&s&&jS(e),Bi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l5(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cX(r),t=So(r,t),i){case 0:e=jv(null,e,r,t,n);break e;case 1:e=YA(null,e,r,t,n);break e;case 11:e=qA(null,e,r,t,n);break e;case 14:e=XA(null,e,r,So(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:So(r,i),jv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:So(r,i),YA(t,e,r,i,n);case 3:e:{if(KN(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xN(t,e),i6(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lf(Error(Oe(423)),e),e=KA(t,e,r,n,i);break e}else if(r!==i){i=Lf(Error(Oe(424)),e),e=KA(t,e,r,n,i);break e}else for(ws=nu(e.stateNode.containerInfo.firstChild),Ts=e,zn=!0,To=null,n=bN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pf(),r===i){e=sl(t,e,n);break e}Bi(t,e,r,n)}e=e.child}return e;case 5:return TN(e),t===null&&Vv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fv(r,i)?o=null:s!==null&&Fv(r,s)&&(e.flags|=32),YN(t,e),Bi(t,e,o,n),e.child;case 6:return t===null&&Vv(e),null;case 13:return QN(t,e,n);case 4:return ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rf(e,null,r,n):Bi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:So(r,i),qA(t,e,r,i,n);case 7:return Bi(t,e,e.pendingProps,n),e.child;case 8:return Bi(t,e,e.pendingProps.children,n),e.child;case 12:return Bi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rn(n6,r._currentValue),r._currentValue=o,s!==null)if(ko(s.value,o)){if(s.children===i.children&&!is.current){e=sl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ka(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Hv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,of(e,n),i=ao(i),r=r(i),e.flags|=1,Bi(t,e,r,n),e.child;case 14:return r=e.type,i=So(r,e.pendingProps),i=So(r.type,i),XA(t,e,r,i,n);case 15:return qN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:So(r,i),l5(t,e),e.tag=1,ss(r)?(t=!0,J5(e)):t=!1,of(e,n),wN(e,r,i),$v(e,r,i,n),qv(null,e,r,!0,t,n);case 19:return ZN(t,e,n);case 22:return XN(t,e,n)}throw Error(Oe(156,e.tag))};function pF(t,e){return BD(t,e)}function uX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,r){return new uX(t,e,n,r)}function mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cX(t){if(typeof t=="function")return mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DS)return 11;if(t===NS)return 14}return 2}function ou(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function d5(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mh:return Bc(n.children,i,s,e);case kS:o=8,i|=8;break;case pv:return t=io(12,n,e,i|2),t.elementType=pv,t.lanes=s,t;case mv:return t=io(13,n,e,i),t.elementType=mv,t.lanes=s,t;case gv:return t=io(19,n,e,i),t.elementType=gv,t.lanes=s,t;case ED:return g7(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SD:o=10;break e;case wD:o=9;break e;case DS:o=11;break e;case NS:o=14;break e;case Ol:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=io(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bc(t,e,n,r){return t=io(7,t,r,e),t.lanes=n,t}function g7(t,e,n,r){return t=io(22,t,r,e),t.elementType=ED,t.lanes=n,t.stateNode={isHidden:!1},t}function vg(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function _g(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J9(0),this.expirationTimes=J9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J9(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gw(t,e,n,r,i,s,o,a,l){return t=new dX(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=io(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JS(s),t}function hX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Th,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mF(t){if(!t)return vu;t=t._reactInternals;e:{if(md(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(ss(n))return pN(t,n,e)}return e}function gF(t,e,n,r,i,s,o,a,l){return t=gw(n,r,!0,t,i,s,o,a,l),t.context=mF(null),n=t.current,r=$i(),i=su(n),s=Ka(r,i),s.callback=e??null,ru(n,s,i),t.current.lanes=i,N2(t,i,r),os(t,r),t}function y7(t,e,n,r){var i=e.current,s=$i(),o=su(i);return n=mF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ka(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ru(i,e,o),t!==null&&(Po(t,i,o,s),s5(t,i,o)),o}function h6(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yw(t,e){oC(t,e),(t=t.alternate)&&oC(t,e)}function fX(){return null}var yF=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}v7.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));y7(t,e,null,null)};v7.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nd(function(){y7(null,t,null,null)}),e[rl]=null}};function v7(t){this._internalRoot=t}v7.prototype.unstable_scheduleHydration=function(t){if(t){var e=qD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hl.length&&e!==0&&e<Hl[n].priority;n++);Hl.splice(n,0,t),n===0&&YD(t)}};function _w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aC(){}function pX(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=h6(o);s.call(u)}}var o=gF(e,r,t,0,null,!1,!1,"",aC);return t._reactRootContainer=o,t[rl]=o.current,Ep(t.nodeType===8?t.parentNode:t),nd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=h6(l);a.call(u)}}var l=gw(t,0,!1,null,null,!1,!1,"",aC);return t._reactRootContainer=l,t[rl]=l.current,Ep(t.nodeType===8?t.parentNode:t),nd(function(){y7(e,l,n,r)}),l}function x7(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=h6(o);a.call(l)}}y7(e,o,t,i)}else o=pX(n,e,t,i,r);return h6(o)}WD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=S1(e.pendingLanes);n!==0&&(US(e,n|1),os(e,pr()),!(en&6)&&(kf=pr()+500,Pu()))}break;case 13:nd(function(){var r=il(t,1);if(r!==null){var i=$i();Po(r,t,1,i)}}),yw(t,1)}};zS=function(t){if(t.tag===13){var e=il(t,134217728);if(e!==null){var n=$i();Po(e,t,134217728,n)}yw(t,134217728)}};jD=function(t){if(t.tag===13){var e=su(t),n=il(t,e);if(n!==null){var r=$i();Po(n,t,e,r)}yw(t,e)}};qD=function(){return bn};XD=function(t,e){var n=bn;try{return bn=t,e()}finally{bn=n}};Mv=function(t,e,n){switch(e){case"input":if(_v(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=c7(r);if(!i)throw Error(Oe(90));TD(r),_v(r,i)}}}break;case"textarea":AD(t,n);break;case"select":e=n.value,e!=null&&tf(t,!!n.multiple,e,!1)}};DD=hw;ND=nd;var mX={usingClientEntryPoint:!1,Events:[O2,Rh,c7,LD,kD,hw]},Y0={findFiberByHostInstance:Sc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gX={bundleType:Y0.bundleType,version:Y0.version,rendererPackageName:Y0.rendererPackageName,rendererConfig:Y0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UD(t),t===null?null:t.stateNode},findFiberByHostInstance:Y0.findFiberByHostInstance||fX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{o7=Om.inject(gX),aa=Om}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mX;Ls.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(e))throw Error(Oe(200));return hX(t,e,null,n)};Ls.createRoot=function(t,e){if(!_w(t))throw Error(Oe(299));var n=!1,r="",i=yF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gw(t,1,!1,null,null,n,!1,r,i),t[rl]=e.current,Ep(t.nodeType===8?t.parentNode:t),new vw(e)};Ls.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=UD(e),t=t===null?null:t.stateNode,t};Ls.flushSync=function(t){return nd(t)};Ls.hydrate=function(t,e,n){if(!_7(e))throw Error(Oe(200));return x7(null,t,e,!0,n)};Ls.hydrateRoot=function(t,e,n){if(!_w(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gF(e,null,t,1,n??null,i,!1,s,o),t[rl]=e.current,Ep(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new v7(e)};Ls.render=function(t,e,n){if(!_7(e))throw Error(Oe(200));return x7(null,t,e,!1,n)};Ls.unmountComponentAtNode=function(t){if(!_7(t))throw Error(Oe(40));return t._reactRootContainer?(nd(function(){x7(null,null,t,!1,function(){t._reactRootContainer=null,t[rl]=null})}),!0):!1};Ls.unstable_batchedUpdates=hw;Ls.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_7(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return x7(t,e,n,!1,r)};Ls.version="18.2.0-next-9e3b772b8-20220608";function vF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vF)}catch(t){console.error(t)}}vF(),gD.exports=Ls;var xw=gD.exports,lC=xw;hv.createRoot=lC.createRoot,hv.hydrateRoot=lC.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fn(){return fn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fn.apply(this,arguments)}var Er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Er||(Er={}));const uC="popstate";function yX(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ya(i.location.hash.substr(1));return Lp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:id(s))}function r(i,s){rd(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return _X(e,n,r,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vX(){return Math.random().toString(36).substr(2,8)}function cC(t,e){return{usr:t.state,key:t.key,idx:e}}function Lp(t,e,n,r){return n===void 0&&(n=null),fn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||vX()})}function id(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _X(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Er.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(fn({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Er.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=Er.Push;let S=Lp(_.location,x,g);n&&n(S,x),u=c()+1;let w=cC(S,u),b=_.createHref(S);try{o.pushState(w,"",b)}catch{i.location.assign(b)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=Er.Replace;let S=Lp(_.location,x,g);n&&n(S,x),u=c();let w=cC(S,u),b=_.createHref(S);o.replaceState(w,"",b),s&&l&&l({action:a,location:_.location,delta:0})}function y(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:id(x);return Xt(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let _={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uC,f),l=x,()=>{i.removeEventListener(uC,f),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var Lr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lr||(Lr={}));const xX=new Set(["lazy","caseSensitive","path","id","index","children"]);function SX(t){return t.index===!0}function s_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Xt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Xt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),SX(i)){let l=fn({},i,e(i),{id:a});return r[a]=l,l}else{let l=fn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=s_(i.children,e,o,r)),l}})}function Oh(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ya(e):e,i=r0(r.pathname||"/",n);if(i==null)return null;let s=_F(t);wX(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=IX(s[a],DX(i));return o}function _F(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qa([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_F(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PX(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of xF(s.path))i(s,o,l)}),e}function xF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=xF(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EX=/^:\w+$/,bX=3,TX=2,MX=1,AX=10,CX=-2,dC=t=>t==="*";function PX(t,e){let n=t.split("/"),r=n.length;return n.some(dC)&&(r+=CX),e&&(r+=TX),n.filter(i=>!dC(i)).reduce((i,s)=>i+(EX.test(s)?bX:s===""?MX:AX),r)}function RX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IX(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=LX({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Qa([i,c.pathname]),pathnameBase:UX(Qa([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Qa([i,c.pathnameBase]))}return s}function LX(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kX(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=NX(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DX(t){try{return decodeURI(t)}catch(e){return rd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NX(t,e){try{return decodeURIComponent(t)}catch(n){return rd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function r0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FX(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:OX(n,e):e,search:zX(r),hash:BX(i)}}function OX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ya(t):(i=fn({},t),Xt(!i.pathname||!i.pathname.includes("?"),xg("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),xg("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),xg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=FX(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qa=t=>t.join("/").replace(/\/\/+/g,"/"),UX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ww{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function SF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wF=["post","put","patch","delete"],VX=new Set(wF),HX=["get",...wF],GX=new Set(HX),$X=new Set([301,302,303,307,308]),WX=new Set([307,308]),Sg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},jX={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},hC={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},EF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qX=!bF,XX=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function YX(t){Xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let H=t.detectErrorBoundary;e=J=>({hasErrorBoundary:H(J)})}else e=XX;let n={},r=s_(t.routes,e,void 0,n),i,s=t.basename||"/",o=fn({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),a=null,l=new Set,u=null,c=null,f=null,p=t.hydrationData!=null,m=Oh(r,t.history.location,s),y=null;if(m==null){let H=wo(404,{pathname:t.history.location.pathname}),{matches:J,route:N}=_C(r);m=J,y={[N.id]:H}}let _=!m.some(H=>H.route.lazy)&&(!m.some(H=>H.route.loader)||t.hydrationData!=null),x,g={historyAction:t.history.action,location:t.history.location,matches:m,initialized:_,navigation:Sg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},S=Er.Pop,w=!1,b,M=!1,A=!1,R=[],L=[],C=new Map,k=0,$=-1,ee=new Map,q=new Set,Z=new Map,ie=new Map,fe=new Map,me=!1;function G(){return a=t.history.listen(H=>{let{action:J,location:N,delta:K}=H;if(me){me=!1;return}rd(fe.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=ge({currentLocation:g.location,nextLocation:N,historyAction:J});if(oe&&K!=null){me=!0,t.history.go(K*-1),D(oe,{state:"blocked",location:N,proceed(){D(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),t.history.go(K)},reset(){B(oe),ae({blockers:new Map(x.state.blockers)})}});return}return Pe(J,N)}),g.initialized||Pe(Er.Pop,g.location),x}function Y(){a&&a(),l.clear(),b&&b.abort(),g.fetchers.forEach((H,J)=>Ve(J)),g.blockers.forEach((H,J)=>B(J))}function X(H){return l.add(H),()=>l.delete(H)}function ae(H){g=fn({},g,H),l.forEach(J=>J(g))}function ce(H,J){var N,K;let oe=g.actionData!=null&&g.navigation.formMethod!=null&&Ua(g.navigation.formMethod)&&g.navigation.state==="loading"&&((N=H.state)==null?void 0:N._isRedirect)!==!0,xe;J.actionData?Object.keys(J.actionData).length>0?xe=J.actionData:xe=null:oe?xe=g.actionData:xe=null;let Le=J.loaderData?vC(g.loaderData,J.loaderData,J.matches||[],J.errors):g.loaderData;for(let[Be]of fe)B(Be);let Ne=w===!0||g.navigation.formMethod!=null&&Ua(g.navigation.formMethod)&&((K=H.state)==null?void 0:K._isRedirect)!==!0;i&&(r=i,i=void 0),ae(fn({},J,{actionData:xe,loaderData:Le,historyAction:S,location:H,initialized:!0,navigation:Sg,revalidation:"idle",restoreScrollPosition:lt(H,J.matches||g.matches),preventScrollReset:Ne,blockers:new Map(g.blockers)})),M||S===Er.Pop||(S===Er.Push?t.history.push(H,H.state):S===Er.Replace&&t.history.replace(H,H.state)),S=Er.Pop,w=!1,M=!1,A=!1,R=[],L=[]}async function re(H,J){if(typeof H=="number"){t.history.go(H);return}let N=o_(g.location,g.matches,s,o.v7_prependBasename,H,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:K,submission:oe,error:xe}=fC(o.v7_normalizeFormMethod,!1,N,J),Le=g.location,Ne=Lp(g.location,K,J&&J.state);Ne=fn({},Ne,t.history.encodeLocation(Ne));let Be=J&&J.replace!=null?J.replace:void 0,W=Er.Push;Be===!0?W=Er.Replace:Be===!1||oe!=null&&Ua(oe.formMethod)&&oe.formAction===g.location.pathname+g.location.search&&(W=Er.Replace);let ue=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Ee=ge({currentLocation:Le,nextLocation:Ne,historyAction:W});if(Ee){D(Ee,{state:"blocked",location:Ne,proceed(){D(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),re(H,J)},reset(){B(Ee),ae({blockers:new Map(g.blockers)})}});return}return await Pe(W,Ne,{submission:oe,pendingError:xe,preventScrollReset:ue,replace:J&&J.replace})}function he(){if(Ce(),ae({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Pe(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Pe(S||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function Pe(H,J,N){b&&b.abort(),b=null,S=H,M=(N&&N.startUninterruptedRevalidation)===!0,Ge(g.location,g.matches),w=(N&&N.preventScrollReset)===!0;let K=i||r,oe=N&&N.overrideNavigation,xe=Oh(K,J,s);if(!xe){let Fe=wo(404,{pathname:J.pathname}),{matches:$e,route:_t}=_C(K);Ie(),ce(J,{matches:$e,loaderData:{},errors:{[_t.id]:Fe}});return}if(g.initialized&&eY(g.location,J)&&!(N&&N.submission&&Ua(N.submission.formMethod))){ce(J,{matches:xe});return}b=new AbortController;let Le=Q0(t.history,J,b.signal,N&&N.submission),Ne,Be;if(N&&N.pendingError)Be={[Uh(xe).route.id]:N.pendingError};else if(N&&N.submission&&Ua(N.submission.formMethod)){let Fe=await Ae(Le,J,N.submission,xe,{replace:N.replace});if(Fe.shortCircuited)return;Ne=Fe.pendingActionData,Be=Fe.pendingActionError,oe=fn({state:"loading",location:J},N.submission),Le=new Request(Le.url,{signal:Le.signal})}let{shortCircuited:W,loaderData:ue,errors:Ee}=await j(Le,J,xe,oe,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,Ne,Be);W||(b=null,ce(J,fn({matches:xe},Ne?{actionData:Ne}:{},{loaderData:ue,errors:Ee})))}async function Ae(H,J,N,K,oe){Ce();let xe=fn({state:"submitting",location:J},N);ae({navigation:xe});let Le,Ne=a_(K,J);if(!Ne.route.action&&!Ne.route.lazy)Le={type:Lr.error,error:wo(405,{method:H.method,pathname:J.pathname,routeId:Ne.route.id})};else if(Le=await K0("action",H,Ne,K,n,e,s),H.signal.aborted)return{shortCircuited:!0};if(lf(Le)){let Be;return oe&&oe.replace!=null?Be=oe.replace:Be=Le.location===g.location.pathname+g.location.search,await Te(g,Le,{submission:N,replace:Be}),{shortCircuited:!0}}if(j1(Le)){let Be=Uh(K,Ne.route.id);return(oe&&oe.replace)!==!0&&(S=Er.Push),{pendingActionData:{},pendingActionError:{[Be.route.id]:Le.error}}}if(bc(Le))throw wo(400,{type:"defer-action"});return{pendingActionData:{[Ne.route.id]:Le.data}}}async function j(H,J,N,K,oe,xe,Le,Ne,Be){let W=K;W||(W=fn({state:"loading",location:J,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},oe));let ue=oe||xe?oe||xe:W.formMethod&&W.formAction&&W.formData&&W.formEncType?{formMethod:W.formMethod,formAction:W.formAction,formData:W.formData,formEncType:W.formEncType}:void 0,Ee=i||r,[Fe,$e]=pC(t.history,g,N,ue,J,A,R,L,Z,Ee,s,Ne,Be);if(Ie(un=>!(N&&N.some(Gr=>Gr.route.id===un))||Fe&&Fe.some(Gr=>Gr.route.id===un)),Fe.length===0&&$e.length===0){let un=ot();return ce(J,fn({matches:N,loaderData:{},errors:Be||null},Ne?{actionData:Ne}:{},un?{fetchers:new Map(g.fetchers)}:{})),{shortCircuited:!0}}if(!M){$e.forEach(Gr=>{let F=g.fetchers.get(Gr.key),de={state:"loading",data:F&&F.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Gr.key,de)});let un=Ne||g.actionData;ae(fn({navigation:W},un?Object.keys(un).length===0?{actionData:null}:{actionData:un}:{},$e.length>0?{fetchers:new Map(g.fetchers)}:{}))}$=++k,$e.forEach(un=>{un.controller&&C.set(un.key,un.controller)});let _t=()=>$e.forEach(un=>st(un.key));b&&b.signal.addEventListener("abort",_t);let{results:Gt,loaderResults:On,fetcherResults:Hr}=await ve(g.matches,N,Fe,$e,H);if(H.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",_t),$e.forEach(un=>C.delete(un.key));let Kt=xC(Gt);if(Kt)return await Te(g,Kt,{replace:Le}),{shortCircuited:!0};let{loaderData:Jn,errors:Pn}=yC(g,N,Fe,On,Be,$e,Hr,ie);ie.forEach((un,Gr)=>{un.subscribe(F=>{(F||un.done)&&ie.delete(Gr)})});let Fs=ot(),Bo=pt($),co=Fs||Bo||$e.length>0;return fn({loaderData:Jn,errors:Pn},co?{fetchers:new Map(g.fetchers)}:{})}function Ze(H){return g.fetchers.get(H)||jX}function nt(H,J,N,K){if(qX)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(H)&&st(H);let oe=i||r,xe=o_(g.location,g.matches,s,o.v7_prependBasename,N,J,K==null?void 0:K.relative),Le=Oh(oe,xe,s);if(!Le){Ye(H,J,wo(404,{pathname:xe}));return}let{path:Ne,submission:Be}=fC(o.v7_normalizeFormMethod,!0,xe,K),W=a_(Le,Ne);if(w=(K&&K.preventScrollReset)===!0,Be&&Ua(Be.formMethod)){Re(H,J,Ne,W,Le,Be);return}Z.set(H,{routeId:J,path:Ne}),He(H,J,Ne,W,Le,Be)}async function Re(H,J,N,K,oe,xe){if(Ce(),Z.delete(H),!K.route.action&&!K.route.lazy){let _e=wo(405,{method:xe.formMethod,pathname:N,routeId:J});Ye(H,J,_e);return}let Le=g.fetchers.get(H),Ne=fn({state:"submitting"},xe,{data:Le&&Le.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(H,Ne),ae({fetchers:new Map(g.fetchers)});let Be=new AbortController,W=Q0(t.history,N,Be.signal,xe);C.set(H,Be);let ue=await K0("action",W,K,oe,n,e,s);if(W.signal.aborted){C.get(H)===Be&&C.delete(H);return}if(lf(ue)){C.delete(H),q.add(H);let _e=fn({state:"loading"},xe,{data:void 0," _hasFetcherDoneAnything ":!0});return g.fetchers.set(H,_e),ae({fetchers:new Map(g.fetchers)}),Te(g,ue,{submission:xe,isFetchActionRedirect:!0})}if(j1(ue)){Ye(H,J,ue.error);return}if(bc(ue))throw wo(400,{type:"defer-action"});let Ee=g.navigation.location||g.location,Fe=Q0(t.history,Ee,Be.signal),$e=i||r,_t=g.navigation.state!=="idle"?Oh($e,g.navigation.location,s):g.matches;Xt(_t,"Didn't find any matches after fetcher action");let Gt=++k;ee.set(H,Gt);let On=fn({state:"loading",data:ue.data},xe,{" _hasFetcherDoneAnything ":!0});g.fetchers.set(H,On);let[Hr,Kt]=pC(t.history,g,_t,xe,Ee,A,R,L,Z,$e,s,{[K.route.id]:ue.data},void 0);Kt.filter(_e=>_e.key!==H).forEach(_e=>{let le=_e.key,be=g.fetchers.get(le),ut={state:"loading",data:be&&be.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(le,ut),_e.controller&&C.set(le,_e.controller)}),ae({fetchers:new Map(g.fetchers)});let Jn=()=>Kt.forEach(_e=>st(_e.key));Be.signal.addEventListener("abort",Jn);let{results:Pn,loaderResults:Fs,fetcherResults:Bo}=await ve(g.matches,_t,Hr,Kt,Fe);if(Be.signal.aborted)return;Be.signal.removeEventListener("abort",Jn),ee.delete(H),C.delete(H),Kt.forEach(_e=>C.delete(_e.key));let co=xC(Pn);if(co)return Te(g,co);let{loaderData:un,errors:Gr}=yC(g,g.matches,Hr,Fs,void 0,Kt,Bo,ie),F={state:"idle",data:ue.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(H,F);let de=pt(Gt);g.navigation.state==="loading"&&Gt>$?(Xt(S,"Expected pending action"),b&&b.abort(),ce(g.navigation.location,{matches:_t,loaderData:un,errors:Gr,fetchers:new Map(g.fetchers)})):(ae(fn({errors:Gr,loaderData:vC(g.loaderData,un,_t,Gr)},de?{fetchers:new Map(g.fetchers)}:{})),A=!1)}async function He(H,J,N,K,oe,xe){let Le=g.fetchers.get(H),Ne=fn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},xe,{data:Le&&Le.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(H,Ne),ae({fetchers:new Map(g.fetchers)});let Be=new AbortController,W=Q0(t.history,N,Be.signal);C.set(H,Be);let ue=await K0("loader",W,K,oe,n,e,s);if(bc(ue)&&(ue=await CF(ue,W.signal,!0)||ue),C.get(H)===Be&&C.delete(H),W.signal.aborted)return;if(lf(ue)){q.add(H),await Te(g,ue);return}if(j1(ue)){let Fe=Uh(g.matches,J);g.fetchers.delete(H),ae({fetchers:new Map(g.fetchers),errors:{[Fe.route.id]:ue.error}});return}Xt(!bc(ue),"Unhandled fetcher deferred data");let Ee={state:"idle",data:ue.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(H,Ee),ae({fetchers:new Map(g.fetchers)})}async function Te(H,J,N){var K;let{submission:oe,replace:xe,isFetchActionRedirect:Le}=N===void 0?{}:N;J.revalidate&&(A=!0);let Ne=Lp(H.location,J.location,fn({_isRedirect:!0},Le?{_isFetchActionRedirect:!0}:{}));if(Xt(Ne,"Expected a location on the redirect navigation"),EF.test(J.location)&&bF&&typeof((K=window)==null?void 0:K.location)<"u"){let $e=t.history.createURL(J.location),_t=r0($e.pathname,s)==null;if(window.location.origin!==$e.origin||_t){xe?window.location.replace(J.location):window.location.assign(J.location);return}}b=null;let Be=xe===!0?Er.Replace:Er.Push,{formMethod:W,formAction:ue,formEncType:Ee,formData:Fe}=H.navigation;!oe&&W&&ue&&Fe&&Ee&&(oe={formMethod:W,formAction:ue,formEncType:Ee,formData:Fe}),WX.has(J.status)&&oe&&Ua(oe.formMethod)?await Pe(Be,Ne,{submission:fn({},oe,{formAction:J.location}),preventScrollReset:w}):Le?await Pe(Be,Ne,{overrideNavigation:{state:"loading",location:Ne,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:oe,preventScrollReset:w}):await Pe(Be,Ne,{overrideNavigation:{state:"loading",location:Ne,formMethod:oe?oe.formMethod:void 0,formAction:oe?oe.formAction:void 0,formEncType:oe?oe.formEncType:void 0,formData:oe?oe.formData:void 0},preventScrollReset:w})}async function ve(H,J,N,K,oe){let xe=await Promise.all([...N.map(Be=>K0("loader",oe,Be,J,n,e,s)),...K.map(Be=>Be.matches&&Be.match&&Be.controller?K0("loader",Q0(t.history,Be.path,Be.controller.signal),Be.match,Be.matches,n,e,s):{type:Lr.error,error:wo(404,{pathname:Be.path})})]),Le=xe.slice(0,N.length),Ne=xe.slice(N.length);return await Promise.all([SC(H,N,Le,Le.map(()=>oe.signal),!1,g.loaderData),SC(H,K.map(Be=>Be.match),Ne,K.map(Be=>Be.controller?Be.controller.signal:null),!0)]),{results:xe,loaderResults:Le,fetcherResults:Ne}}function Ce(){A=!0,R.push(...Ie()),Z.forEach((H,J)=>{C.has(J)&&(L.push(J),st(J))})}function Ye(H,J,N){let K=Uh(g.matches,J);Ve(H),ae({errors:{[K.route.id]:N},fetchers:new Map(g.fetchers)})}function Ve(H){C.has(H)&&st(H),Z.delete(H),ee.delete(H),q.delete(H),g.fetchers.delete(H)}function st(H){let J=C.get(H);Xt(J,"Expected fetch controller: "+H),J.abort(),C.delete(H)}function at(H){for(let J of H){let K={state:"idle",data:Ze(J).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(J,K)}}function ot(){let H=[],J=!1;for(let N of q){let K=g.fetchers.get(N);Xt(K,"Expected fetcher: "+N),K.state==="loading"&&(q.delete(N),H.push(N),J=!0)}return at(H),J}function pt(H){let J=[];for(let[N,K]of ee)if(K<H){let oe=g.fetchers.get(N);Xt(oe,"Expected fetcher: "+N),oe.state==="loading"&&(st(N),ee.delete(N),J.push(N))}return at(J),J.length>0}function It(H,J){let N=g.blockers.get(H)||hC;return fe.get(H)!==J&&fe.set(H,J),N}function B(H){g.blockers.delete(H),fe.delete(H)}function D(H,J){let N=g.blockers.get(H)||hC;Xt(N.state==="unblocked"&&J.state==="blocked"||N.state==="blocked"&&J.state==="blocked"||N.state==="blocked"&&J.state==="proceeding"||N.state==="blocked"&&J.state==="unblocked"||N.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+J.state),g.blockers.set(H,J),ae({blockers:new Map(g.blockers)})}function ge(H){let{currentLocation:J,nextLocation:N,historyAction:K}=H;if(fe.size===0)return;fe.size>1&&rd(!1,"A router only supports one blocker at a time");let oe=Array.from(fe.entries()),[xe,Le]=oe[oe.length-1],Ne=g.blockers.get(xe);if(!(Ne&&Ne.state==="proceeding")&&Le({currentLocation:J,nextLocation:N,historyAction:K}))return xe}function Ie(H){let J=[];return ie.forEach((N,K)=>{(!H||H(K))&&(N.cancel(),J.push(K),ie.delete(K))}),J}function ke(H,J,N){if(u=H,f=J,c=N||(K=>K.key),!p&&g.navigation===Sg){p=!0;let K=lt(g.location,g.matches);K!=null&&ae({restoreScrollPosition:K})}return()=>{u=null,f=null,c=null}}function Ge(H,J){if(u&&c&&f){let N=J.map(oe=>wC(oe,g.loaderData)),K=c(H,N)||H.key;u[K]=f()}}function lt(H,J){if(u&&c&&f){let N=J.map(xe=>wC(xe,g.loaderData)),K=c(H,N)||H.key,oe=u[K];if(typeof oe=="number")return oe}return null}function qe(H){n={},i=s_(H,e,void 0,n)}return x={get basename(){return s},get state(){return g},get routes(){return r},initialize:G,subscribe:X,enableScrollRestoration:ke,navigate:re,fetch:nt,revalidate:he,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Ze,deleteFetcher:Ve,dispose:Y,getBlocker:It,deleteBlocker:B,_internalFetchControllers:C,_internalActiveDeferreds:ie,_internalSetRoutes:qe},x}function KX(t){return t!=null&&"formData"in t}function o_(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=Sw(i||".",S7(a).map(c=>c.pathnameBase),r0(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Ew(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Qa([n,u.pathname])),id(u)}function fC(t,e,n,r){if(!r||!KX(r))return{path:n};if(r.formMethod&&!rY(r.formMethod))return{path:n,error:wo(405,{method:r.formMethod})};let i;if(r.formData){let a=r.formMethod||"get";if(i={formMethod:t?a.toUpperCase():a.toLowerCase(),formAction:AF(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},Ua(i.formMethod))return{path:n,submission:i}}let s=ya(n),o=MF(r.formData);return e&&s.search&&Ew(s.search)&&o.append("index",""),s.search="?"+o,{path:id(s),submission:i}}function QX(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function pC(t,e,n,r,i,s,o,a,l,u,c,f,p){let m=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,y=t.createURL(e.location),_=t.createURL(i),x=p?Object.keys(p)[0]:void 0,S=QX(n,x).filter((b,M)=>{if(b.route.lazy)return!0;if(b.route.loader==null)return!1;if(ZX(e.loaderData,e.matches[M],b)||o.some(L=>L===b.route.id))return!0;let A=e.matches[M],R=b;return mC(b,fn({currentUrl:y,currentParams:A.params,nextUrl:_,nextParams:R.params},r,{actionResult:m,defaultShouldRevalidate:s||y.pathname+y.search===_.pathname+_.search||y.search!==_.search||TF(A,R)}))}),w=[];return l.forEach((b,M)=>{if(!n.some(C=>C.route.id===b.routeId))return;let A=Oh(u,b.path,c);if(!A){w.push({key:M,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let R=a_(A,b.path);if(a.includes(M)){w.push({key:M,routeId:b.routeId,path:b.path,matches:A,match:R,controller:new AbortController});return}mC(R,fn({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:s}))&&w.push({key:M,routeId:b.routeId,path:b.path,matches:A,match:R,controller:new AbortController})}),[S,w]}function ZX(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function TF(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function mC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function gC(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Xt(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";rd(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!xX.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,fn({},e(i),{lazy:void 0}))}async function K0(t,e,n,r,i,s,o,a,l,u){a===void 0&&(a=!1),l===void 0&&(l=!1);let c,f,p,m=x=>{let g,S=new Promise((w,b)=>g=b);return p=()=>g(),e.signal.addEventListener("abort",p),Promise.race([x({request:e,params:n.params,context:u}),S])};try{let x=n.route[t];if(n.route.lazy)if(x)f=(await Promise.all([m(x),gC(n.route,s,i)]))[0];else if(await gC(n.route,s,i),x=n.route[t],x)f=await m(x);else if(t==="action"){let g=new URL(e.url),S=g.pathname+g.search;throw wo(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:Lr.data,data:void 0};else if(x)f=await m(x);else{let g=new URL(e.url),S=g.pathname+g.search;throw wo(404,{pathname:S})}Xt(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(x){c=Lr.error,f=x}finally{p&&e.signal.removeEventListener("abort",p)}if(nY(f)){let x=f.status;if($X.has(x)){let w=f.headers.get("Location");if(Xt(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!EF.test(w))w=o_(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,w);else if(!a){let b=new URL(e.url),M=w.startsWith("//")?new URL(b.protocol+w):new URL(w),A=r0(M.pathname,o)!=null;M.origin===b.origin&&A&&(w=M.pathname+M.search+M.hash)}if(a)throw f.headers.set("Location",w),f;return{type:Lr.redirect,status:x,location:w,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||Lr.data,response:f};let g,S=f.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?g=await f.json():g=await f.text(),c===Lr.error?{type:c,error:new ww(x,f.statusText,g),headers:f.headers}:{type:Lr.data,data:g,statusCode:f.status,headers:f.headers}}if(c===Lr.error)return{type:c,error:f};if(tY(f)){var y,_;return{type:Lr.deferred,deferredData:f,statusCode:(y=f.init)==null?void 0:y.status,headers:((_=f.init)==null?void 0:_.headers)&&new Headers(f.init.headers)}}return{type:Lr.data,data:f}}function Q0(t,e,n,r){let i=t.createURL(AF(e)).toString(),s={signal:n};if(r&&Ua(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?MF(l):l}return new Request(i,s)}function MF(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function JX(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,f)=>{let p=e[f].route.id;if(Xt(!lf(c),"Cannot handle redirect results in processLoaderData"),j1(c)){let m=Uh(t,p),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=y),s[p]=void 0,l||(l=!0,a=SF(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else bc(c)?(i.set(p,c.deferredData),s[p]=c.deferredData.data):s[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function yC(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=JX(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:f,match:p,controller:m}=s[c];Xt(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let y=o[c];if(!(m&&m.signal.aborted))if(j1(y)){let _=Uh(t.matches,p==null?void 0:p.route.id);u&&u[_.route.id]||(u=fn({},u,{[_.route.id]:y.error})),t.fetchers.delete(f)}else if(lf(y))Xt(!1,"Unhandled fetcher revalidation redirect");else if(bc(y))Xt(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,_)}}return{loaderData:l,errors:u}}function vC(t,e,n,r){let i=fn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Uh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _C(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wo(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ww(t||500,o,new Error(a),!0)}function xC(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(lf(n))return n}}function AF(t){let e=typeof t=="string"?ya(t):t;return id(fn({},e,{hash:""}))}function eY(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bc(t){return t.type===Lr.deferred}function j1(t){return t.type===Lr.error}function lf(t){return(t&&t.type)===Lr.redirect}function tY(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function nY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rY(t){return GX.has(t.toLowerCase())}function Ua(t){return VX.has(t.toLowerCase())}async function SC(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!TF(u,l)&&(s&&s[l.route.id])!==void 0;if(bc(a)&&(i||c)){let f=r[o];Xt(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await CF(a,f,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function CF(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Lr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Lr.error,error:i}}return{type:Lr.data,data:t.deferredData.data}}}function Ew(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wC(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function a_(t,e){let n=typeof e=="string"?ya(e).search:e.search;if(t[t.length-1].route.index&&Ew(n||""))return t[t.length-1];let r=S7(t);return r[r.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f6(){return f6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f6.apply(this,arguments)}const w7=I.createContext(null),PF=I.createContext(null),i0=I.createContext(null),E7=I.createContext(null),Ru=I.createContext({outlet:null,matches:[],isDataRoute:!1}),RF=I.createContext(null);function iY(t,e){let{relative:n}=e===void 0?{}:e;z2()||Xt(!1);let{basename:r,navigator:i}=I.useContext(i0),{hash:s,pathname:o,search:a}=LF(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qa([r,o])),i.createHref({pathname:l,search:a,hash:s})}function z2(){return I.useContext(E7)!=null}function gd(){return z2()||Xt(!1),I.useContext(E7).location}function IF(t){I.useContext(i0).static||I.useLayoutEffect(t)}function bw(){let{isDataRoute:t}=I.useContext(Ru);return t?vY():sY()}function sY(){z2()||Xt(!1);let t=I.useContext(w7),{basename:e,navigator:n}=I.useContext(i0),{matches:r}=I.useContext(Ru),{pathname:i}=gd(),s=JSON.stringify(S7(r).map(l=>l.pathnameBase)),o=I.useRef(!1);return IF(()=>{o.current=!0}),I.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Sw(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Qa([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const oY=I.createContext(null);function aY(t){let e=I.useContext(Ru).outlet;return e&&I.createElement(oY.Provider,{value:t},e)}function LF(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=I.useContext(Ru),{pathname:i}=gd(),s=JSON.stringify(S7(r).map(o=>o.pathnameBase));return I.useMemo(()=>Sw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function lY(t,e,n){z2()||Xt(!1);let{navigator:r}=I.useContext(i0),{matches:i}=I.useContext(Ru),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=gd(),u;if(e){var c;let _=typeof e=="string"?ya(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Xt(!1),u=_}else u=l;let f=u.pathname||"/",p=a==="/"?f:f.slice(a.length)||"/",m=Oh(t,{pathname:p}),y=fY(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Qa([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Qa([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&y?I.createElement(E7.Provider,{value:{location:f6({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Er.Pop}},y):y}function uY(){let t=yY(),e=SF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,s)}const cY=I.createElement(uY,null);class dY extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?I.createElement(Ru.Provider,{value:this.props.routeContext},I.createElement(RF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hY(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(w7);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ru.Provider,{value:e},r)}function fY(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Xt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||cY);let p=e.concat(s.slice(0,u+1)),m=()=>{let y;return c?y=f:l.route.Component?y=I.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,I.createElement(hY,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?I.createElement(dY,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var l_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(l_||(l_={}));var kp;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(kp||(kp={}));function pY(t){let e=I.useContext(w7);return e||Xt(!1),e}function mY(t){let e=I.useContext(PF);return e||Xt(!1),e}function gY(t){let e=I.useContext(Ru);return e||Xt(!1),e}function kF(t){let e=gY(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function yY(){var t;let e=I.useContext(RF),n=mY(kp.UseRouteError),r=kF(kp.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function vY(){let{router:t}=pY(l_.UseNavigateStable),e=kF(kp.UseNavigateStable),n=I.useRef(!1);return IF(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,f6({fromRouteId:e},s)))},[t,e])}function _Y(t){let{fallbackElement:e,router:n}=t,[r,i]=I.useState(n.state);I.useLayoutEffect(()=>n.subscribe(i),[n,i]);let s=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=I.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return I.createElement(I.Fragment,null,I.createElement(w7.Provider,{value:a},I.createElement(PF.Provider,{value:r},I.createElement(SY,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?I.createElement(xY,{routes:n.routes,state:r}):e))),null)}function xY(t){let{routes:e,state:n}=t;return lY(e,void 0,n)}function DF(t){return aY(t.context)}function SY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Er.Pop,navigator:s,static:o=!1}=t;z2()&&Xt(!1);let a=e.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ya(r));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:m="default"}=r,y=I.useMemo(()=>{let _=r0(u,a);return _==null?null:{location:{pathname:_,search:c,hash:f,state:p,key:m},navigationType:i}},[a,u,c,f,p,m,i]);return y==null?null:I.createElement(i0.Provider,{value:l},I.createElement(E7.Provider,{children:n,value:y}))}var EC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(EC||(EC={}));new Promise(()=>{});function wY(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function EY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TY(t,e){return t.button===0&&(!e||e==="_self")&&!bY(t)}function u_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function MY(t,e){let n=u_(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const AY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function CY(t,e){return YX({basename:e==null?void 0:e.basename,future:Dp({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:yX({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||PY(),routes:t,mapRouteProperties:wY}).initialize()}function PY(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Dp({},e,{errors:RY(e.errors)})),e}function RY(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ww(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const IY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h5=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=EY(e,AY),{basename:p}=I.useContext(i0),m,y=!1;if(typeof u=="string"&&LY.test(u)&&(m=u,IY))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),b=r0(w.pathname,p);w.origin===S.origin&&b!=null?u=b+w.search+w.hash:y=!0}catch{}let _=iY(u,{relative:i}),x=kY(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function g(S){r&&r(S),S.defaultPrevented||x(S)}return I.createElement("a",Dp({},f,{href:m||_,onClick:y||s?r:g,ref:n,target:l}))});var bC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(bC||(bC={}));var TC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TC||(TC={}));function kY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=bw(),l=gd(),u=LF(t,{relative:o});return I.useCallback(c=>{if(TY(c,n)){c.preventDefault();let f=r!==void 0?r:id(l)===id(u);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function DY(t){let e=I.useRef(u_(t)),n=I.useRef(!1),r=gd(),i=I.useMemo(()=>MY(r.search,n.current?null:e.current),[r.search]),s=bw(),o=I.useCallback((a,l)=>{const u=u_(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function NY(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function FY(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var OY=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FY(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=NY(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ei="-ms-",p6="-moz-",dn="-webkit-",NF="comm",Tw="rule",Mw="decl",UY="@import",FF="@keyframes",zY="@layer",BY=Math.abs,b7=String.fromCharCode,VY=Object.assign;function HY(t,e){return ai(t,0)^45?(((e<<2^ai(t,0))<<2^ai(t,1))<<2^ai(t,2))<<2^ai(t,3):0}function OF(t){return t.trim()}function GY(t,e){return(t=e.exec(t))?t[0]:t}function hn(t,e,n){return t.replace(e,n)}function c_(t,e){return t.indexOf(e)}function ai(t,e){return t.charCodeAt(e)|0}function Np(t,e,n){return t.slice(e,n)}function Zo(t){return t.length}function Aw(t){return t.length}function Um(t,e){return e.push(t),t}function $Y(t,e){return t.map(e).join("")}var T7=1,Df=1,UF=0,as=0,Tr=0,s0="";function M7(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:T7,column:Df,length:o,return:""}}function Z0(t,e){return VY(M7("",null,null,"",null,null,0),t,{length:-t.length},e)}function WY(){return Tr}function jY(){return Tr=as>0?ai(s0,--as):0,Df--,Tr===10&&(Df=1,T7--),Tr}function Ms(){return Tr=as<UF?ai(s0,as++):0,Df++,Tr===10&&(Df=1,T7++),Tr}function ua(){return ai(s0,as)}function f5(){return as}function B2(t,e){return Np(s0,t,e)}function Fp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zF(t){return T7=Df=1,UF=Zo(s0=t),as=0,[]}function BF(t){return s0="",t}function p5(t){return OF(B2(as-1,d_(t===91?t+2:t===40?t+1:t)))}function qY(t){for(;(Tr=ua())&&Tr<33;)Ms();return Fp(t)>2||Fp(Tr)>3?"":" "}function XY(t,e){for(;--e&&Ms()&&!(Tr<48||Tr>102||Tr>57&&Tr<65||Tr>70&&Tr<97););return B2(t,f5()+(e<6&&ua()==32&&Ms()==32))}function d_(t){for(;Ms();)switch(Tr){case t:return as;case 34:case 39:t!==34&&t!==39&&d_(Tr);break;case 40:t===41&&d_(t);break;case 92:Ms();break}return as}function YY(t,e){for(;Ms()&&t+Tr!==47+10;)if(t+Tr===42+42&&ua()===47)break;return"/*"+B2(e,as-1)+"*"+b7(t===47?t:Ms())}function KY(t){for(;!Fp(ua());)Ms();return B2(t,as)}function QY(t){return BF(m5("",null,null,null,[""],t=zF(t),0,[0],t))}function m5(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,f=o,p=0,m=0,y=0,_=1,x=1,g=1,S=0,w="",b=i,M=s,A=r,R=w;x;)switch(y=S,S=Ms()){case 40:if(y!=108&&ai(R,f-1)==58){c_(R+=hn(p5(S),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:R+=p5(S);break;case 9:case 10:case 13:case 32:R+=qY(y);break;case 92:R+=XY(f5()-1,7);continue;case 47:switch(ua()){case 42:case 47:Um(ZY(YY(Ms(),f5()),e,n),l);break;default:R+="/"}break;case 123*_:a[u++]=Zo(R)*g;case 125*_:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+c:g==-1&&(R=hn(R,/\f/g,"")),m>0&&Zo(R)-f&&Um(m>32?AC(R+";",r,n,f-1):AC(hn(R," ","")+";",r,n,f-2),l);break;case 59:R+=";";default:if(Um(A=MC(R,e,n,u,c,i,a,w,b=[],M=[],f),s),S===123)if(c===0)m5(R,e,A,A,b,s,f,a,M);else switch(p===99&&ai(R,3)===110?100:p){case 100:case 108:case 109:case 115:m5(t,A,A,r&&Um(MC(t,A,A,0,0,i,a,w,i,b=[],f),M),i,M,f,a,r?b:M);break;default:m5(R,A,A,A,[""],M,0,a,M)}}u=c=m=0,_=g=1,w=R="",f=o;break;case 58:f=1+Zo(R),m=y;default:if(_<1){if(S==123)--_;else if(S==125&&_++==0&&jY()==125)continue}switch(R+=b7(S),S*_){case 38:g=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(Zo(R)-1)*g,g=1;break;case 64:ua()===45&&(R+=p5(Ms())),p=ua(),c=f=Zo(w=R+=KY(f5())),S++;break;case 45:y===45&&Zo(R)==2&&(_=0)}}return s}function MC(t,e,n,r,i,s,o,a,l,u,c){for(var f=i-1,p=i===0?s:[""],m=Aw(p),y=0,_=0,x=0;y<r;++y)for(var g=0,S=Np(t,f+1,f=BY(_=o[y])),w=t;g<m;++g)(w=OF(_>0?p[g]+" "+S:hn(S,/&\f/g,p[g])))&&(l[x++]=w);return M7(t,e,n,i===0?Tw:a,l,u,c)}function ZY(t,e,n){return M7(t,e,n,NF,b7(WY()),Np(t,2,-2),0)}function AC(t,e,n,r){return M7(t,e,n,Mw,Np(t,0,r),Np(t,r+1,-1),r)}function uf(t,e){for(var n="",r=Aw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function JY(t,e,n,r){switch(t.type){case zY:if(t.children.length)break;case UY:case Mw:return t.return=t.return||t.value;case NF:return"";case FF:return t.return=t.value+"{"+uf(t.children,r)+"}";case Tw:t.value=t.props.join(",")}return Zo(n=uf(t.children,r))?t.return=t.value+"{"+n+"}":""}function eK(t){var e=Aw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function tK(t){return function(e){e.root||(e=e.return)&&t(e)}}var CC=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function VF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var nK=function(e,n,r){for(var i=0,s=0;i=s,s=ua(),i===38&&s===12&&(n[r]=1),!Fp(s);)Ms();return B2(e,as)},rK=function(e,n){var r=-1,i=44;do switch(Fp(i)){case 0:i===38&&ua()===12&&(n[r]=1),e[r]+=nK(as-1,n,r);break;case 2:e[r]+=p5(i);break;case 4:if(i===44){e[++r]=ua()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=b7(i)}while(i=Ms());return e},iK=function(e,n){return BF(rK(zF(e),n))},PC=new WeakMap,sK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!PC.get(r))&&!i){PC.set(e,!0);for(var s=[],o=iK(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},oK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function HF(t,e){switch(HY(t,e)){case 5103:return dn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dn+t+p6+t+Ei+t+t;case 6828:case 4268:return dn+t+Ei+t+t;case 6165:return dn+t+Ei+"flex-"+t+t;case 5187:return dn+t+hn(t,/(\w+).+(:[^]+)/,dn+"box-$1$2"+Ei+"flex-$1$2")+t;case 5443:return dn+t+Ei+"flex-item-"+hn(t,/flex-|-self/,"")+t;case 4675:return dn+t+Ei+"flex-line-pack"+hn(t,/align-content|flex-|-self/,"")+t;case 5548:return dn+t+Ei+hn(t,"shrink","negative")+t;case 5292:return dn+t+Ei+hn(t,"basis","preferred-size")+t;case 6060:return dn+"box-"+hn(t,"-grow","")+dn+t+Ei+hn(t,"grow","positive")+t;case 4554:return dn+hn(t,/([^-])(transform)/g,"$1"+dn+"$2")+t;case 6187:return hn(hn(hn(t,/(zoom-|grab)/,dn+"$1"),/(image-set)/,dn+"$1"),t,"")+t;case 5495:case 3959:return hn(t,/(image-set\([^]*)/,dn+"$1$`$1");case 4968:return hn(hn(t,/(.+:)(flex-)?(.*)/,dn+"box-pack:$3"+Ei+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dn+t+t;case 4095:case 3583:case 4068:case 2532:return hn(t,/(.+)-inline(.+)/,dn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zo(t)-1-e>6)switch(ai(t,e+1)){case 109:if(ai(t,e+4)!==45)break;case 102:return hn(t,/(.+:)(.+)-([^]+)/,"$1"+dn+"$2-$3$1"+p6+(ai(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~c_(t,"stretch")?HF(hn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ai(t,e+1)!==115)break;case 6444:switch(ai(t,Zo(t)-3-(~c_(t,"!important")&&10))){case 107:return hn(t,":",":"+dn)+t;case 101:return hn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dn+(ai(t,14)===45?"inline-":"")+"box$3$1"+dn+"$2$3$1"+Ei+"$2box$3")+t}break;case 5936:switch(ai(t,e+11)){case 114:return dn+t+Ei+hn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dn+t+Ei+hn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dn+t+Ei+hn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dn+t+Ei+t+t}return t}var aK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Mw:e.return=HF(e.value,e.length);break;case FF:return uf([Z0(e,{value:hn(e.value,"@","@"+dn)})],i);case Tw:if(e.length)return $Y(e.props,function(s){switch(GY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uf([Z0(e,{props:[hn(s,/:(read-\w+)/,":"+p6+"$1")]})],i);case"::placeholder":return uf([Z0(e,{props:[hn(s,/:(plac\w+)/,":"+dn+"input-$1")]}),Z0(e,{props:[hn(s,/:(plac\w+)/,":"+p6+"$1")]}),Z0(e,{props:[hn(s,/:(plac\w+)/,Ei+"input-$1")]})],i)}return""})}},lK=[aK],uK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var x=_.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||lK,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var x=_.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(_)});var l,u=[sK,oK];{var c,f=[JY,tK(function(_){c.insert(_)})],p=eK(u.concat(i,f)),m=function(x){return uf(QY(x),p)};l=function(x,g,S,w){c=S,m(x?x+"{"+g.styles+"}":g.styles),w&&(y.inserted[g.name]=!0)}}var y={key:n,sheet:new OY({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var GF={exports:{}},Mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=typeof Symbol=="function"&&Symbol.for,Cw=ei?Symbol.for("react.element"):60103,Pw=ei?Symbol.for("react.portal"):60106,A7=ei?Symbol.for("react.fragment"):60107,C7=ei?Symbol.for("react.strict_mode"):60108,P7=ei?Symbol.for("react.profiler"):60114,R7=ei?Symbol.for("react.provider"):60109,I7=ei?Symbol.for("react.context"):60110,Rw=ei?Symbol.for("react.async_mode"):60111,L7=ei?Symbol.for("react.concurrent_mode"):60111,k7=ei?Symbol.for("react.forward_ref"):60112,D7=ei?Symbol.for("react.suspense"):60113,cK=ei?Symbol.for("react.suspense_list"):60120,N7=ei?Symbol.for("react.memo"):60115,F7=ei?Symbol.for("react.lazy"):60116,dK=ei?Symbol.for("react.block"):60121,hK=ei?Symbol.for("react.fundamental"):60117,fK=ei?Symbol.for("react.responder"):60118,pK=ei?Symbol.for("react.scope"):60119;function Ds(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cw:switch(t=t.type,t){case Rw:case L7:case A7:case P7:case C7:case D7:return t;default:switch(t=t&&t.$$typeof,t){case I7:case k7:case F7:case N7:case R7:return t;default:return e}}case Pw:return e}}}function $F(t){return Ds(t)===L7}Mn.AsyncMode=Rw;Mn.ConcurrentMode=L7;Mn.ContextConsumer=I7;Mn.ContextProvider=R7;Mn.Element=Cw;Mn.ForwardRef=k7;Mn.Fragment=A7;Mn.Lazy=F7;Mn.Memo=N7;Mn.Portal=Pw;Mn.Profiler=P7;Mn.StrictMode=C7;Mn.Suspense=D7;Mn.isAsyncMode=function(t){return $F(t)||Ds(t)===Rw};Mn.isConcurrentMode=$F;Mn.isContextConsumer=function(t){return Ds(t)===I7};Mn.isContextProvider=function(t){return Ds(t)===R7};Mn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cw};Mn.isForwardRef=function(t){return Ds(t)===k7};Mn.isFragment=function(t){return Ds(t)===A7};Mn.isLazy=function(t){return Ds(t)===F7};Mn.isMemo=function(t){return Ds(t)===N7};Mn.isPortal=function(t){return Ds(t)===Pw};Mn.isProfiler=function(t){return Ds(t)===P7};Mn.isStrictMode=function(t){return Ds(t)===C7};Mn.isSuspense=function(t){return Ds(t)===D7};Mn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===A7||t===L7||t===P7||t===C7||t===D7||t===cK||typeof t=="object"&&t!==null&&(t.$$typeof===F7||t.$$typeof===N7||t.$$typeof===R7||t.$$typeof===I7||t.$$typeof===k7||t.$$typeof===hK||t.$$typeof===fK||t.$$typeof===pK||t.$$typeof===dK)};Mn.typeOf=Ds;GF.exports=Mn;var mK=GF.exports,WF=mK,gK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jF={};jF[WF.ForwardRef]=gK;jF[WF.Memo]=yK;var vK=!0;function _K(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var qF=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||vK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},XF=function(e,n,r){qF(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function xK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var SK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wK=/[A-Z]|^ms/g,EK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YF=function(e){return e.charCodeAt(1)===45},RC=function(e){return e!=null&&typeof e!="boolean"},wg=VF(function(t){return YF(t)?t:t.replace(wK,"-$&").toLowerCase()}),IC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(EK,function(r,i,s){return Jo={name:i,styles:s,next:Jo},i})}return SK[e]!==1&&!YF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Op(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Jo={name:n.name,styles:n.styles,next:Jo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Jo={name:r.name,styles:r.styles,next:Jo},r=r.next;var i=n.styles+";";return i}return bK(t,e,n)}case"function":{if(t!==void 0){var s=Jo,o=n(t);return Jo=s,Op(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function bK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Op(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":RC(o)&&(r+=wg(s)+":"+IC(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)RC(o[a])&&(r+=wg(s)+":"+IC(s,o[a])+";");else{var l=Op(t,e,o);switch(s){case"animation":case"animationName":{r+=wg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var LC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jo,Iw=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Jo=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Op(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Op(r,n,e[a]),i&&(s+=o[a]);LC.lastIndex=0;for(var l="",u;(u=LC.exec(s))!==null;)l+="-"+u[1];var c=xK(s)+l;return{name:c,styles:s,next:Jo}},TK=function(e){return e()},KF=nA["useInsertionEffect"]?nA["useInsertionEffect"]:!1,MK=KF||TK,kC=KF||I.useLayoutEffect,QF=I.createContext(typeof HTMLElement<"u"?uK({key:"css"}):null);QF.Provider;var ZF=function(e){return I.forwardRef(function(n,r){var i=I.useContext(QF);return e(n,i,r)})},Up=I.createContext({}),AK=function(e,n){if(typeof n=="function"){var r=n(e);return r}return sd({},e,n)},CK=CC(function(t){return CC(function(e){return AK(t,e)})}),PK=function(e){var n=I.useContext(Up);return e.theme!==n&&(n=CK(n)(e.theme)),I.createElement(Up.Provider,{value:n},e.children)},O7=ZF(function(t,e){var n=t.styles,r=Iw([n],void 0,I.useContext(Up)),i=I.useRef();return kC(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),kC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&XF(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function RK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Iw(e)}var IK=function(){var e=RK.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},JF=String.raw,eO=JF`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,LK=()=>z.jsx(O7,{styles:eO}),kK=({scope:t=""})=>z.jsx(O7,{styles:JF`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${eO}
    `});function DK(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ns(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,a=I.createContext(o);a.displayName=e;function l(){var u;const c=I.useContext(a);if(!c&&n){const f=new Error(s??DK(r,i));throw f.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,f,l),f}return c}return[a.Provider,l,a]}var[NK,FK]=Ns({strict:!1,name:"PortalManagerContext"});function tO(t){const{children:e,zIndex:n}=t;return z.jsx(NK,{value:{zIndex:n},children:e})}tO.displayName="PortalManager";var zp=globalThis!=null&&globalThis.document?I.useLayoutEffect:I.useEffect,[nO,OK]=Ns({strict:!1,name:"PortalContext"}),Lw="chakra-portal",UK=".chakra-portal",zK=t=>z.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),BK=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=I.useState(null),s=I.useRef(null),[,o]=I.useState({});I.useEffect(()=>o({}),[]);const a=OK(),l=FK();zp(()=>{if(!r)return;const c=r.ownerDocument,f=e?a??c.body:c.body;if(!f)return;s.current=c.createElement("div"),s.current.className=Lw,f.appendChild(s.current),o({});const p=s.current;return()=>{f.contains(p)&&f.removeChild(p)}},[r]);const u=l!=null&&l.zIndex?z.jsx(zK,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?xw.createPortal(z.jsx(nO,{value:s.current,children:u}),s.current):z.jsx("span",{ref:c=>{c&&i(c)}})},VK=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i??(typeof window<"u"?document.body:void 0),o=I.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=Lw),l},[i]),[,a]=I.useState({});return zp(()=>a({}),[]),zp(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?xw.createPortal(z.jsx(nO,{value:r?o:null,children:e}),o):null};function V2(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?z.jsx(VK,{containerRef:n,...r}):z.jsx(BK,{...r})}V2.className=Lw;V2.selector=UK;V2.displayName="Portal";function rO(){const t=I.useContext(Up);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var kw=I.createContext({});kw.displayName="ColorModeContext";function Dw(){const t=I.useContext(kw);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var zm={light:"chakra-ui-light",dark:"chakra-ui-dark"};function HK(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?zm.dark:zm.light),document.body.classList.remove(r?zm.light:zm.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=n.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var GK="chakra-ui-color-mode";function $K(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var WK=$K(GK),DC=()=>{};function NC(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function iO(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=WK}=t,a=i==="dark"?"dark":"light",[l,u]=I.useState(()=>NC(o,a)),[c,f]=I.useState(()=>NC(o)),{getSystemTheme:p,setClassName:m,setDataset:y,addListener:_}=I.useMemo(()=>HK({preventTransition:s}),[s]),x=i==="system"&&!l?c:l,g=I.useCallback(b=>{const M=b==="system"?p():b;u(M),m(M==="dark"),y(M),o.set(M)},[o,p,m,y]);zp(()=>{i==="system"&&f(p())},[]),I.useEffect(()=>{const b=o.get();if(b){g(b);return}if(i==="system"){g("system");return}g(a)},[o,a,i,g]);const S=I.useCallback(()=>{g(x==="dark"?"light":"dark")},[x,g]);I.useEffect(()=>{if(r)return _(g)},[r,_,g]);const w=I.useMemo(()=>({colorMode:e??x,toggleColorMode:e?DC:S,setColorMode:e?DC:g,forced:e!==void 0}),[x,S,g,e]);return z.jsx(kw.Provider,{value:w,children:n})}iO.displayName="ColorModeProvider";function jK(){const t=Dw(),e=rO();return{...t,theme:e}}var Gn=(...t)=>t.filter(Boolean).join(" ");function qK(){return!1}function Ro(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}var H2=t=>{const{condition:e,message:n}=t;e&&qK()&&console.warn(n)};function Xl(t,...e){return XK(t)?t(...e):t}var XK=t=>typeof t=="function",FC=t=>t?"":void 0;function Yl(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var m6={exports:{}};m6.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",y="[object GeneratorFunction]",_="[object Map]",x="[object Number]",g="[object Null]",S="[object Object]",w="[object Proxy]",b="[object RegExp]",M="[object Set]",A="[object String]",R="[object Undefined]",L="[object WeakMap]",C="[object ArrayBuffer]",k="[object DataView]",$="[object Float32Array]",ee="[object Float64Array]",q="[object Int8Array]",Z="[object Int16Array]",ie="[object Int32Array]",fe="[object Uint8Array]",me="[object Uint8ClampedArray]",G="[object Uint16Array]",Y="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,re={};re[$]=re[ee]=re[q]=re[Z]=re[ie]=re[fe]=re[me]=re[G]=re[Y]=!0,re[a]=re[l]=re[C]=re[c]=re[k]=re[f]=re[p]=re[m]=re[_]=re[x]=re[S]=re[b]=re[M]=re[A]=re[L]=!1;var he=typeof xm=="object"&&xm&&xm.Object===Object&&xm,Pe=typeof self=="object"&&self&&self.Object===Object&&self,Ae=he||Pe||Function("return this")(),j=e&&!e.nodeType&&e,Ze=j&&!0&&t&&!t.nodeType&&t,nt=Ze&&Ze.exports===j,Re=nt&&he.process,He=function(){try{var U=Ze&&Ze.require&&Ze.require("util").types;return U||Re&&Re.binding&&Re.binding("util")}catch{}}(),Te=He&&He.isTypedArray;function ve(U,Q,ye){switch(ye.length){case 0:return U.call(Q);case 1:return U.call(Q,ye[0]);case 2:return U.call(Q,ye[0],ye[1]);case 3:return U.call(Q,ye[0],ye[1],ye[2])}return U.apply(Q,ye)}function Ce(U,Q){for(var ye=-1,Je=Array(U);++ye<U;)Je[ye]=Q(ye);return Je}function Ye(U){return function(Q){return U(Q)}}function Ve(U,Q){return U==null?void 0:U[Q]}function st(U,Q){return function(ye){return U(Q(ye))}}var at=Array.prototype,ot=Function.prototype,pt=Object.prototype,It=Ae["__core-js_shared__"],B=ot.toString,D=pt.hasOwnProperty,ge=function(){var U=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}(),Ie=pt.toString,ke=B.call(Object),Ge=RegExp("^"+B.call(D).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=nt?Ae.Buffer:void 0,qe=Ae.Symbol,H=Ae.Uint8Array,J=lt?lt.allocUnsafe:void 0,N=st(Object.getPrototypeOf,Object),K=Object.create,oe=pt.propertyIsEnumerable,xe=at.splice,Le=qe?qe.toStringTag:void 0,Ne=function(){try{var U=Cd(Object,"defineProperty");return U({},"",{}),U}catch{}}(),Be=lt?lt.isBuffer:void 0,W=Math.max,ue=Date.now,Ee=Cd(Ae,"Map"),Fe=Cd(Object,"create"),$e=function(){function U(){}return function(Q){if(!fo(Q))return{};if(K)return K(Q);U.prototype=Q;var ye=new U;return U.prototype=void 0,ye}}();function _t(U){var Q=-1,ye=U==null?0:U.length;for(this.clear();++Q<ye;){var Je=U[Q];this.set(Je[0],Je[1])}}function Gt(){this.__data__=Fe?Fe(null):{},this.size=0}function On(U){var Q=this.has(U)&&delete this.__data__[U];return this.size-=Q?1:0,Q}function Hr(U){var Q=this.__data__;if(Fe){var ye=Q[U];return ye===r?void 0:ye}return D.call(Q,U)?Q[U]:void 0}function Kt(U){var Q=this.__data__;return Fe?Q[U]!==void 0:D.call(Q,U)}function Jn(U,Q){var ye=this.__data__;return this.size+=this.has(U)?0:1,ye[U]=Fe&&Q===void 0?r:Q,this}_t.prototype.clear=Gt,_t.prototype.delete=On,_t.prototype.get=Hr,_t.prototype.has=Kt,_t.prototype.set=Jn;function Pn(U){var Q=-1,ye=U==null?0:U.length;for(this.clear();++Q<ye;){var Je=U[Q];this.set(Je[0],Je[1])}}function Fs(){this.__data__=[],this.size=0}function Bo(U){var Q=this.__data__,ye=hi(Q,U);if(ye<0)return!1;var Je=Q.length-1;return ye==Je?Q.pop():xe.call(Q,ye,1),--this.size,!0}function co(U){var Q=this.__data__,ye=hi(Q,U);return ye<0?void 0:Q[ye][1]}function un(U){return hi(this.__data__,U)>-1}function Gr(U,Q){var ye=this.__data__,Je=hi(ye,U);return Je<0?(++this.size,ye.push([U,Q])):ye[Je][1]=Q,this}Pn.prototype.clear=Fs,Pn.prototype.delete=Bo,Pn.prototype.get=co,Pn.prototype.has=un,Pn.prototype.set=Gr;function F(U){var Q=-1,ye=U==null?0:U.length;for(this.clear();++Q<ye;){var Je=U[Q];this.set(Je[0],Je[1])}}function de(){this.size=0,this.__data__={hash:new _t,map:new(Ee||Pn),string:new _t}}function _e(U){var Q=wa(this,U).delete(U);return this.size-=Q?1:0,Q}function le(U){return wa(this,U).get(U)}function be(U){return wa(this,U).has(U)}function ut(U,Q){var ye=wa(this,U),Je=ye.size;return ye.set(U,Q),this.size+=ye.size==Je?0:1,this}F.prototype.clear=de,F.prototype.delete=_e,F.prototype.get=le,F.prototype.has=be,F.prototype.set=ut;function ct(U){var Q=this.__data__=new Pn(U);this.size=Q.size}function St(){this.__data__=new Pn,this.size=0}function bt(U){var Q=this.__data__,ye=Q.delete(U);return this.size=Q.size,ye}function Dt(U){return this.__data__.get(U)}function Nt(U){return this.__data__.has(U)}function Ot(U,Q){var ye=this.__data__;if(ye instanceof Pn){var Je=ye.__data__;if(!Ee||Je.length<n-1)return Je.push([U,Q]),this.size=++ye.size,this;ye=this.__data__=new F(Je)}return ye.set(U,Q),this.size=ye.size,this}ct.prototype.clear=St,ct.prototype.delete=bt,ct.prototype.get=Dt,ct.prototype.has=Nt,ct.prototype.set=Ot;function nn(U,Q){var ye=Ld(U),Je=!ye&&jt(U),wt=!ye&&!Je&&D3(U),Sn=!ye&&!Je&&!wt&&N3(U),wn=ye||Je||wt||Sn,$t=wn?Ce(U.length,String):[],qt=$t.length;for(var ni in U)(Q||D.call(U,ni))&&!(wn&&(ni=="length"||wt&&(ni=="offset"||ni=="parent")||Sn&&(ni=="buffer"||ni=="byteLength"||ni=="byteOffset")||L3(ni,qt)))&&$t.push(ni);return $t}function ur(U,Q,ye){(ye!==void 0&&!vl(U[Q],ye)||ye===void 0&&!(Q in U))&&mn(U,Q,ye)}function Di(U,Q,ye){var Je=U[Q];(!(D.call(U,Q)&&vl(Je,ye))||ye===void 0&&!(Q in U))&&mn(U,Q,ye)}function hi(U,Q){for(var ye=U.length;ye--;)if(vl(U[ye][0],Q))return ye;return-1}function mn(U,Q,ye){Q=="__proto__"&&Ne?Ne(U,Q,{configurable:!0,enumerable:!0,value:ye,writable:!0}):U[Q]=ye}var Ut=I3();function Os(U){return U==null?U===void 0?R:g:Le&&Le in Object(U)?hs(U):X8(U)}function Wn(U){return Hu(U)&&Os(U)==a}function cs(U){if(!fo(U)||Rd(U))return!1;var Q=w0(U)?Ge:ae;return Q.test(K8(U))}function ho(U){return Hu(U)&&cr(U.length)&&!!re[Os(U)]}function fi(U){if(!fo(U))return Id(U);var Q=yl(U),ye=[];for(var Je in U)Je=="constructor"&&(Q||!D.call(U,Je))||ye.push(Je);return ye}function rn(U,Q,ye,Je,wt){U!==Q&&Ut(Q,function(Sn,wn){if(wt||(wt=new ct),fo(Sn))Tt(U,Q,wn,ye,rn,Je,wt);else{var $t=Je?Je(zu(U,wn),Sn,wn+"",U,Q,wt):void 0;$t===void 0&&($t=Sn),ur(U,wn,$t)}},fs)}function Tt(U,Q,ye,Je,wt,Sn,wn){var $t=zu(U,ye),qt=zu(Q,ye),ni=wn.get(qt);if(ni){ur(U,ye,ni);return}var Wr=Sn?Sn($t,qt,ye+"",U,Q,wn):void 0,Us=Wr===void 0;if(Us){var Gu=Ld(qt),$u=!Gu&&D3(qt),b0=!Gu&&!$u&&N3(qt);Wr=qt,Gu||$u||b0?Ld($t)?Wr=$t:k3($t)?Wr=Rr($t):$u?(Us=!1,Wr=gn(qt,!0)):b0?(Us=!1,Wr=Vo(qt,!0)):Wr=[]:E0(qt)||jt(qt)?(Wr=$t,jt($t)?Wr=kd($t):(!fo($t)||w0($t))&&(Wr=j8(qt))):Us=!1}Us&&(wn.set(qt,Wr),wt(Wr,qt,Je,Sn,wn),wn.delete(qt)),ur(U,ye,Wr)}function $r(U,Q){return S0(Y8(U,Q,ps),U+"")}var er=Ne?function(U,Q){return Ne(U,"toString",{configurable:!0,enumerable:!1,value:Z8(Q),writable:!0})}:ps;function gn(U,Q){if(Q)return U.slice();var ye=U.length,Je=J?J(ye):new U.constructor(ye);return U.copy(Je),Je}function ds(U){var Q=new U.constructor(U.byteLength);return new H(Q).set(new H(U)),Q}function Vo(U,Q){var ye=Q?ds(U.buffer):U.buffer;return new U.constructor(ye,U.byteOffset,U.length)}function Rr(U,Q){var ye=-1,Je=U.length;for(Q||(Q=Array(Je));++ye<Je;)Q[ye]=U[ye];return Q}function Ad(U,Q,ye,Je){var wt=!ye;ye||(ye={});for(var Sn=-1,wn=Q.length;++Sn<wn;){var $t=Q[Sn],qt=Je?Je(ye[$t],U[$t],$t,ye,U):void 0;qt===void 0&&(qt=U[$t]),wt?mn(ye,$t,qt):Di(ye,$t,qt)}return ye}function R3(U){return $r(function(Q,ye){var Je=-1,wt=ye.length,Sn=wt>1?ye[wt-1]:void 0,wn=wt>2?ye[2]:void 0;for(Sn=U.length>3&&typeof Sn=="function"?(wt--,Sn):void 0,wn&&q8(ye[0],ye[1],wn)&&(Sn=wt<3?void 0:Sn,wt=1),Q=Object(Q);++Je<wt;){var $t=ye[Je];$t&&U(Q,$t,Je,Sn)}return Q})}function I3(U){return function(Q,ye,Je){for(var wt=-1,Sn=Object(Q),wn=Je(Q),$t=wn.length;$t--;){var qt=wn[U?$t:++wt];if(ye(Sn[qt],qt,Sn)===!1)break}return Q}}function wa(U,Q){var ye=U.__data__;return Pd(Q)?ye[typeof Q=="string"?"string":"hash"]:ye.map}function Cd(U,Q){var ye=Ve(U,Q);return cs(ye)?ye:void 0}function hs(U){var Q=D.call(U,Le),ye=U[Le];try{U[Le]=void 0;var Je=!0}catch{}var wt=Ie.call(U);return Je&&(Q?U[Le]=ye:delete U[Le]),wt}function j8(U){return typeof U.constructor=="function"&&!yl(U)?$e(N(U)):{}}function L3(U,Q){var ye=typeof U;return Q=Q??o,!!Q&&(ye=="number"||ye!="symbol"&&ce.test(U))&&U>-1&&U%1==0&&U<Q}function q8(U,Q,ye){if(!fo(ye))return!1;var Je=typeof Q;return(Je=="number"?Vu(ye)&&L3(Q,ye.length):Je=="string"&&Q in ye)?vl(ye[Q],U):!1}function Pd(U){var Q=typeof U;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?U!=="__proto__":U===null}function Rd(U){return!!ge&&ge in U}function yl(U){var Q=U&&U.constructor,ye=typeof Q=="function"&&Q.prototype||pt;return U===ye}function Id(U){var Q=[];if(U!=null)for(var ye in Object(U))Q.push(ye);return Q}function X8(U){return Ie.call(U)}function Y8(U,Q,ye){return Q=W(Q===void 0?U.length-1:Q,0),function(){for(var Je=arguments,wt=-1,Sn=W(Je.length-Q,0),wn=Array(Sn);++wt<Sn;)wn[wt]=Je[Q+wt];wt=-1;for(var $t=Array(Q+1);++wt<Q;)$t[wt]=Je[wt];return $t[Q]=ye(wn),ve(U,this,$t)}}function zu(U,Q){if(!(Q==="constructor"&&typeof U[Q]=="function")&&Q!="__proto__")return U[Q]}var S0=Bu(er);function Bu(U){var Q=0,ye=0;return function(){var Je=ue(),wt=s-(Je-ye);if(ye=Je,wt>0){if(++Q>=i)return arguments[0]}else Q=0;return U.apply(void 0,arguments)}}function K8(U){if(U!=null){try{return B.call(U)}catch{}try{return U+""}catch{}}return""}function vl(U,Q){return U===Q||U!==U&&Q!==Q}var jt=Wn(function(){return arguments}())?Wn:function(U){return Hu(U)&&D.call(U,"callee")&&!oe.call(U,"callee")},Ld=Array.isArray;function Vu(U){return U!=null&&cr(U.length)&&!w0(U)}function k3(U){return Hu(U)&&Vu(U)}var D3=Be||po;function w0(U){if(!fo(U))return!1;var Q=Os(U);return Q==m||Q==y||Q==u||Q==w}function cr(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=o}function fo(U){var Q=typeof U;return U!=null&&(Q=="object"||Q=="function")}function Hu(U){return U!=null&&typeof U=="object"}function E0(U){if(!Hu(U)||Os(U)!=S)return!1;var Q=N(U);if(Q===null)return!0;var ye=D.call(Q,"constructor")&&Q.constructor;return typeof ye=="function"&&ye instanceof ye&&B.call(ye)==ke}var N3=Te?Ye(Te):ho;function kd(U){return Ad(U,fs(U))}function fs(U){return Vu(U)?nn(U,!0):fi(U)}var Q8=R3(function(U,Q,ye,Je){rn(U,Q,ye,Je)});function Z8(U){return function(){return U}}function ps(U){return U}function po(){return!1}t.exports=Q8})(m6,m6.exports);var YK=m6.exports;const so=k2(YK);var KK=t=>/!(important)?$/.test(t),OC=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,QK=(t,e)=>n=>{const r=String(e),i=KK(r),s=OC(r),o=t?`${t}.${s}`:s;let a=Ro(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=OC(a),i?`${a} !important`:a};function Nw(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var a;const l=QK(e,s)(o);let u=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(u=r(u,o)),u}}var Bm=(...t)=>e=>t.reduce((n,r)=>r(n),e);function qs(t,e){return n=>{const r={property:n,scale:t};return r.transform=Nw({scale:t,transform:e}),r}}var ZK=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function JK(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:ZK(e),transform:n?Nw({scale:n,compose:r}):r}}var sO=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function eQ(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...sO].join(" ")}function tQ(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...sO].join(" ")}var nQ={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},rQ={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function iQ(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var sQ={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},h_={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},oQ=new Set(Object.values(h_)),f_=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),aQ=t=>t.trim();function lQ(t,e){if(t==null||f_.has(t))return t;if(!(p_(t)||f_.has(t)))return`url('${t}')`;const i=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),s=i==null?void 0:i[1],o=i==null?void 0:i[2];if(!s||!o)return t;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...u]=o.split(",").map(aQ).filter(Boolean);if((u==null?void 0:u.length)===0)return t;const c=l in h_?h_[l]:l;u.unshift(c);const f=u.map(p=>{if(oQ.has(p))return p;const m=p.indexOf(" "),[y,_]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],x=p_(_)?_:_&&_.split(" "),g=`colors.${y}`,S=g in e.__cssMap?e.__cssMap[g].varRef:y;return x?[S,...Array.isArray(x)?x:[x]].join(" "):S});return`${a}(${f.join(", ")})`}var p_=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),uQ=(t,e)=>lQ(t,e??{});function cQ(t){return/^var\(--.+\)$/.test(t)}var dQ=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},qo=t=>e=>`${t}(${e})`,an={filter(t){return t!=="auto"?t:nQ},backdropFilter(t){return t!=="auto"?t:rQ},ring(t){return iQ(an.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?eQ():t==="auto-gpu"?tQ():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=dQ(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(cQ(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:uQ,blur:qo("blur"),opacity:qo("opacity"),brightness:qo("brightness"),contrast:qo("contrast"),dropShadow:qo("drop-shadow"),grayscale:qo("grayscale"),hueRotate:qo("hue-rotate"),invert:qo("invert"),saturate:qo("saturate"),sepia:qo("sepia"),bgImage(t){return t==null||p_(t)||f_.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=sQ[t])!=null?e:{},i={flexDirection:t};return n&&(i[n]=1),r&&(i[r]=1),i}},ne={borderWidths:qs("borderWidths"),borderStyles:qs("borderStyles"),colors:qs("colors"),borders:qs("borders"),gradients:qs("gradients",an.gradient),radii:qs("radii",an.px),space:qs("space",Bm(an.vh,an.px)),spaceT:qs("space",Bm(an.vh,an.px)),degreeT(t){return{property:t,transform:an.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Nw({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:qs("sizes",Bm(an.vh,an.px)),sizesT:qs("sizes",Bm(an.vh,an.fraction)),shadows:qs("shadows"),logical:JK,blur:qs("blur",an.blur)},g5={background:ne.colors("background"),backgroundColor:ne.colors("backgroundColor"),backgroundImage:ne.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:an.bgClip},bgSize:ne.prop("backgroundSize"),bgPosition:ne.prop("backgroundPosition"),bg:ne.colors("background"),bgColor:ne.colors("backgroundColor"),bgPos:ne.prop("backgroundPosition"),bgRepeat:ne.prop("backgroundRepeat"),bgAttachment:ne.prop("backgroundAttachment"),bgGradient:ne.gradients("backgroundImage"),bgClip:{transform:an.bgClip}};Object.assign(g5,{bgImage:g5.backgroundImage,bgImg:g5.backgroundImage});var cn={border:ne.borders("border"),borderWidth:ne.borderWidths("borderWidth"),borderStyle:ne.borderStyles("borderStyle"),borderColor:ne.colors("borderColor"),borderRadius:ne.radii("borderRadius"),borderTop:ne.borders("borderTop"),borderBlockStart:ne.borders("borderBlockStart"),borderTopLeftRadius:ne.radii("borderTopLeftRadius"),borderStartStartRadius:ne.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:ne.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:ne.radii("borderTopRightRadius"),borderStartEndRadius:ne.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:ne.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:ne.borders("borderRight"),borderInlineEnd:ne.borders("borderInlineEnd"),borderBottom:ne.borders("borderBottom"),borderBlockEnd:ne.borders("borderBlockEnd"),borderBottomLeftRadius:ne.radii("borderBottomLeftRadius"),borderBottomRightRadius:ne.radii("borderBottomRightRadius"),borderLeft:ne.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:ne.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:ne.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:ne.borders(["borderLeft","borderRight"]),borderInline:ne.borders("borderInline"),borderY:ne.borders(["borderTop","borderBottom"]),borderBlock:ne.borders("borderBlock"),borderTopWidth:ne.borderWidths("borderTopWidth"),borderBlockStartWidth:ne.borderWidths("borderBlockStartWidth"),borderTopColor:ne.colors("borderTopColor"),borderBlockStartColor:ne.colors("borderBlockStartColor"),borderTopStyle:ne.borderStyles("borderTopStyle"),borderBlockStartStyle:ne.borderStyles("borderBlockStartStyle"),borderBottomWidth:ne.borderWidths("borderBottomWidth"),borderBlockEndWidth:ne.borderWidths("borderBlockEndWidth"),borderBottomColor:ne.colors("borderBottomColor"),borderBlockEndColor:ne.colors("borderBlockEndColor"),borderBottomStyle:ne.borderStyles("borderBottomStyle"),borderBlockEndStyle:ne.borderStyles("borderBlockEndStyle"),borderLeftWidth:ne.borderWidths("borderLeftWidth"),borderInlineStartWidth:ne.borderWidths("borderInlineStartWidth"),borderLeftColor:ne.colors("borderLeftColor"),borderInlineStartColor:ne.colors("borderInlineStartColor"),borderLeftStyle:ne.borderStyles("borderLeftStyle"),borderInlineStartStyle:ne.borderStyles("borderInlineStartStyle"),borderRightWidth:ne.borderWidths("borderRightWidth"),borderInlineEndWidth:ne.borderWidths("borderInlineEndWidth"),borderRightColor:ne.colors("borderRightColor"),borderInlineEndColor:ne.colors("borderInlineEndColor"),borderRightStyle:ne.borderStyles("borderRightStyle"),borderInlineEndStyle:ne.borderStyles("borderInlineEndStyle"),borderTopRadius:ne.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:ne.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:ne.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:ne.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(cn,{rounded:cn.borderRadius,roundedTop:cn.borderTopRadius,roundedTopLeft:cn.borderTopLeftRadius,roundedTopRight:cn.borderTopRightRadius,roundedTopStart:cn.borderStartStartRadius,roundedTopEnd:cn.borderStartEndRadius,roundedBottom:cn.borderBottomRadius,roundedBottomLeft:cn.borderBottomLeftRadius,roundedBottomRight:cn.borderBottomRightRadius,roundedBottomStart:cn.borderEndStartRadius,roundedBottomEnd:cn.borderEndEndRadius,roundedLeft:cn.borderLeftRadius,roundedRight:cn.borderRightRadius,roundedStart:cn.borderInlineStartRadius,roundedEnd:cn.borderInlineEndRadius,borderStart:cn.borderInlineStart,borderEnd:cn.borderInlineEnd,borderTopStartRadius:cn.borderStartStartRadius,borderTopEndRadius:cn.borderStartEndRadius,borderBottomStartRadius:cn.borderEndStartRadius,borderBottomEndRadius:cn.borderEndEndRadius,borderStartRadius:cn.borderInlineStartRadius,borderEndRadius:cn.borderInlineEndRadius,borderStartWidth:cn.borderInlineStartWidth,borderEndWidth:cn.borderInlineEndWidth,borderStartColor:cn.borderInlineStartColor,borderEndColor:cn.borderInlineEndColor,borderStartStyle:cn.borderInlineStartStyle,borderEndStyle:cn.borderInlineEndStyle});var hQ={color:ne.colors("color"),textColor:ne.colors("color"),fill:ne.colors("fill"),stroke:ne.colors("stroke")},m_={boxShadow:ne.shadows("boxShadow"),mixBlendMode:!0,blendMode:ne.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:ne.prop("backgroundBlendMode"),opacity:!0};Object.assign(m_,{shadow:m_.boxShadow});var fQ={filter:{transform:an.filter},blur:ne.blur("--chakra-blur"),brightness:ne.propT("--chakra-brightness",an.brightness),contrast:ne.propT("--chakra-contrast",an.contrast),hueRotate:ne.degreeT("--chakra-hue-rotate"),invert:ne.propT("--chakra-invert",an.invert),saturate:ne.propT("--chakra-saturate",an.saturate),dropShadow:ne.propT("--chakra-drop-shadow",an.dropShadow),backdropFilter:{transform:an.backdropFilter},backdropBlur:ne.blur("--chakra-backdrop-blur"),backdropBrightness:ne.propT("--chakra-backdrop-brightness",an.brightness),backdropContrast:ne.propT("--chakra-backdrop-contrast",an.contrast),backdropHueRotate:ne.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:ne.propT("--chakra-backdrop-invert",an.invert),backdropSaturate:ne.propT("--chakra-backdrop-saturate",an.saturate)},g6={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:an.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:ne.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:ne.space("gap"),rowGap:ne.space("rowGap"),columnGap:ne.space("columnGap")};Object.assign(g6,{flexDir:g6.flexDirection});var oO={gridGap:ne.space("gridGap"),gridColumnGap:ne.space("gridColumnGap"),gridRowGap:ne.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},pQ={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:an.outline},outlineOffset:!0,outlineColor:ne.colors("outlineColor")},Zs={width:ne.sizesT("width"),inlineSize:ne.sizesT("inlineSize"),height:ne.sizes("height"),blockSize:ne.sizes("blockSize"),boxSize:ne.sizes(["width","height"]),minWidth:ne.sizes("minWidth"),minInlineSize:ne.sizes("minInlineSize"),minHeight:ne.sizes("minHeight"),minBlockSize:ne.sizes("minBlockSize"),maxWidth:ne.sizes("maxWidth"),maxInlineSize:ne.sizes("maxInlineSize"),maxHeight:ne.sizes("maxHeight"),maxBlockSize:ne.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (min-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?i:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,i;return{[`@media screen and (max-width: ${(i=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?i:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:ne.propT("float",an.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Zs,{w:Zs.width,h:Zs.height,minW:Zs.minWidth,maxW:Zs.maxWidth,minH:Zs.minHeight,maxH:Zs.maxHeight,overscroll:Zs.overscrollBehavior,overscrollX:Zs.overscrollBehaviorX,overscrollY:Zs.overscrollBehaviorY});var mQ={listStyleType:!0,listStylePosition:!0,listStylePos:ne.prop("listStylePosition"),listStyleImage:!0,listStyleImg:ne.prop("listStyleImage")};function gQ(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var yQ=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},vQ=yQ(gQ),_Q={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},xQ={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Eg=(t,e,n)=>{const r={},i=vQ(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},SQ={srOnly:{transform(t){return t===!0?_Q:t==="focusable"?xQ:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>Eg(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>Eg(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>Eg(e,t,n)}},q1={position:!0,pos:ne.prop("position"),zIndex:ne.prop("zIndex","zIndices"),inset:ne.spaceT("inset"),insetX:ne.spaceT(["left","right"]),insetInline:ne.spaceT("insetInline"),insetY:ne.spaceT(["top","bottom"]),insetBlock:ne.spaceT("insetBlock"),top:ne.spaceT("top"),insetBlockStart:ne.spaceT("insetBlockStart"),bottom:ne.spaceT("bottom"),insetBlockEnd:ne.spaceT("insetBlockEnd"),left:ne.spaceT("left"),insetInlineStart:ne.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:ne.spaceT("right"),insetInlineEnd:ne.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(q1,{insetStart:q1.insetInlineStart,insetEnd:q1.insetInlineEnd});var wQ={ring:{transform:an.ring},ringColor:ne.colors("--chakra-ring-color"),ringOffset:ne.prop("--chakra-ring-offset-width"),ringOffsetColor:ne.colors("--chakra-ring-offset-color"),ringInset:ne.prop("--chakra-ring-inset")},kn={margin:ne.spaceT("margin"),marginTop:ne.spaceT("marginTop"),marginBlockStart:ne.spaceT("marginBlockStart"),marginRight:ne.spaceT("marginRight"),marginInlineEnd:ne.spaceT("marginInlineEnd"),marginBottom:ne.spaceT("marginBottom"),marginBlockEnd:ne.spaceT("marginBlockEnd"),marginLeft:ne.spaceT("marginLeft"),marginInlineStart:ne.spaceT("marginInlineStart"),marginX:ne.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:ne.spaceT("marginInline"),marginY:ne.spaceT(["marginTop","marginBottom"]),marginBlock:ne.spaceT("marginBlock"),padding:ne.space("padding"),paddingTop:ne.space("paddingTop"),paddingBlockStart:ne.space("paddingBlockStart"),paddingRight:ne.space("paddingRight"),paddingBottom:ne.space("paddingBottom"),paddingBlockEnd:ne.space("paddingBlockEnd"),paddingLeft:ne.space("paddingLeft"),paddingInlineStart:ne.space("paddingInlineStart"),paddingInlineEnd:ne.space("paddingInlineEnd"),paddingX:ne.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:ne.space("paddingInline"),paddingY:ne.space(["paddingTop","paddingBottom"]),paddingBlock:ne.space("paddingBlock")};Object.assign(kn,{m:kn.margin,mt:kn.marginTop,mr:kn.marginRight,me:kn.marginInlineEnd,marginEnd:kn.marginInlineEnd,mb:kn.marginBottom,ml:kn.marginLeft,ms:kn.marginInlineStart,marginStart:kn.marginInlineStart,mx:kn.marginX,my:kn.marginY,p:kn.padding,pt:kn.paddingTop,py:kn.paddingY,px:kn.paddingX,pb:kn.paddingBottom,pl:kn.paddingLeft,ps:kn.paddingInlineStart,paddingStart:kn.paddingInlineStart,pr:kn.paddingRight,pe:kn.paddingInlineEnd,paddingEnd:kn.paddingInlineEnd});var EQ={textDecorationColor:ne.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:ne.shadows("textShadow")},bQ={clipPath:!0,transform:ne.propT("transform",an.transform),transformOrigin:!0,translateX:ne.spaceT("--chakra-translate-x"),translateY:ne.spaceT("--chakra-translate-y"),skewX:ne.degreeT("--chakra-skew-x"),skewY:ne.degreeT("--chakra-skew-y"),scaleX:ne.prop("--chakra-scale-x"),scaleY:ne.prop("--chakra-scale-y"),scale:ne.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:ne.degreeT("--chakra-rotate")},TQ={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:ne.prop("transitionDuration","transition.duration"),transitionProperty:ne.prop("transitionProperty","transition.property"),transitionTimingFunction:ne.prop("transitionTimingFunction","transition.easing")},MQ={fontFamily:ne.prop("fontFamily","fonts"),fontSize:ne.prop("fontSize","fontSizes",an.px),fontWeight:ne.prop("fontWeight","fontWeights"),lineHeight:ne.prop("lineHeight","lineHeights"),letterSpacing:ne.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},AQ={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:ne.spaceT("scrollMargin"),scrollMarginTop:ne.spaceT("scrollMarginTop"),scrollMarginBottom:ne.spaceT("scrollMarginBottom"),scrollMarginLeft:ne.spaceT("scrollMarginLeft"),scrollMarginRight:ne.spaceT("scrollMarginRight"),scrollMarginX:ne.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:ne.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:ne.spaceT("scrollPadding"),scrollPaddingTop:ne.spaceT("scrollPaddingTop"),scrollPaddingBottom:ne.spaceT("scrollPaddingBottom"),scrollPaddingLeft:ne.spaceT("scrollPaddingLeft"),scrollPaddingRight:ne.spaceT("scrollPaddingRight"),scrollPaddingX:ne.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:ne.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function aO(t){return Ro(t)&&t.reference?t.reference:String(t)}var U7=(t,...e)=>e.map(aO).join(` ${t} `).replace(/calc/g,""),UC=(...t)=>`calc(${U7("+",...t)})`,zC=(...t)=>`calc(${U7("-",...t)})`,g_=(...t)=>`calc(${U7("*",...t)})`,BC=(...t)=>`calc(${U7("/",...t)})`,VC=t=>{const e=aO(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:g_(e,-1)},yc=Object.assign(t=>({add:(...e)=>yc(UC(t,...e)),subtract:(...e)=>yc(zC(t,...e)),multiply:(...e)=>yc(g_(t,...e)),divide:(...e)=>yc(BC(t,...e)),negate:()=>yc(VC(t)),toString:()=>t.toString()}),{add:UC,subtract:zC,multiply:g_,divide:BC,negate:VC});function CQ(t,e="-"){return t.replace(/\s+/g,e)}function PQ(t){const e=CQ(t.toString());return IQ(RQ(e))}function RQ(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function IQ(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function LQ(t,e=""){return[e,t].filter(Boolean).join("-")}function kQ(t,e){return`var(${t}${e?`, ${e}`:""})`}function DQ(t,e=""){return PQ(`--${LQ(t,e)}`)}function vt(t,e,n){const r=DQ(t,n);return{variable:r,reference:kQ(r,e)}}function NQ(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[i,s]=r;n[i]=vt(`${t}-${i}`,s);continue}n[r]=vt(`${t}-${r}`)}return n}function FQ(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function OQ(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function y_(t){if(t==null)return t;const{unitless:e}=OQ(t);return e||typeof t=="number"?`${t}px`:t}var lO=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Fw=t=>Object.fromEntries(Object.entries(t).sort(lO));function HC(t){const e=Fw(t);return Object.assign(Object.values(e),e)}function UQ(t){const e=Object.keys(Fw(t));return new Set(e)}function GC(t){var e;if(!t)return t;t=(e=y_(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function E1(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${y_(t)})`),e&&n.push("and",`(max-width: ${y_(e)})`),n.join(" ")}function zQ(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=HC(t),r=Object.entries(t).sort(lO).map(([o,a],l,u)=>{var c;let[,f]=(c=u[l+1])!=null?c:[];return f=parseFloat(f)>0?GC(f):void 0,{_minW:GC(a),breakpoint:o,minW:a,maxW:f,maxWQuery:E1(null,f),minWQuery:E1(a),minMaxQuery:E1(a,f)}}),i=UQ(t),s=Array.from(i.values());return{keys:i,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:Fw(t),asArray:HC(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>E1(o)).slice(1)],toArrayValue(o){if(!Ro(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var u;return(u=o[l])!=null?u:null});for(;FQ(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,u)=>{const c=s[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var ii={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},Cl=t=>uO(e=>t(e,"&"),"[role=group]","[data-group]",".group"),Ca=t=>uO(e=>t(e,"~ &"),"[data-peer]",".peer"),uO=(t,...e)=>e.map(t).join(", "),z7={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Cl(ii.hover),_peerHover:Ca(ii.hover),_groupFocus:Cl(ii.focus),_peerFocus:Ca(ii.focus),_groupFocusVisible:Cl(ii.focusVisible),_peerFocusVisible:Ca(ii.focusVisible),_groupActive:Cl(ii.active),_peerActive:Ca(ii.active),_groupDisabled:Cl(ii.disabled),_peerDisabled:Ca(ii.disabled),_groupInvalid:Cl(ii.invalid),_peerInvalid:Ca(ii.invalid),_groupChecked:Cl(ii.checked),_peerChecked:Ca(ii.checked),_groupFocusWithin:Cl(ii.focusWithin),_peerFocusWithin:Ca(ii.focusWithin),_peerPlaceholderShown:Ca(ii.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},cO=Object.keys(z7);function $C(t,e){return vt(String(t).replace(/\./g,"-"),void 0,e)}function BQ(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:u}=$C(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const p=i.split("."),[m,...y]=p,_=`${m}.-${y.join(".")}`,x=yc.negate(a),g=yc.negate(u);r[_]={value:x,var:l,varRef:g}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=p=>{const y=[String(i).split(".")[0],p].join(".");if(!t[y])return p;const{reference:x}=$C(y,e==null?void 0:e.cssVarPrefix);return x},f=Ro(a)?a:{default:a};n=so(n,Object.entries(f).reduce((p,[m,y])=>{var _,x;if(!y)return p;const g=c(`${y}`);if(m==="default")return p[l]=g,p;const S=(x=(_=z7)==null?void 0:_[m])!=null?x:m;return p[S]={[l]:g},p},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function VQ(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function HQ(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function GQ(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function WC(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){var l;if(GQ(o)||Array.isArray(o)){const u={};for(const[c,f]of Object.entries(o)){const p=(l=i==null?void 0:i(c))!=null?l:c,m=[...a,p];if(r!=null&&r(o,m))return e(o,a);u[p]=s(f,m)}return u}return e(o,a)}return s(t)}var $Q=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function WQ(t){return HQ(t,$Q)}function jQ(t){return t.semanticTokens}function qQ(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}var XQ=t=>cO.includes(t)||t==="default";function YQ({tokens:t,semanticTokens:e}){const n={};return WC(t,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!1,value:r})}),WC(e,(r,i)=>{r!=null&&(n[i.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(XQ)}),n}function KQ(t){var e;const n=qQ(t),r=WQ(n),i=jQ(n),s=YQ({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=BQ(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:zQ(n.breakpoints)}),n}var Ow=so({},g5,cn,hQ,g6,Zs,fQ,wQ,pQ,oO,SQ,q1,m_,kn,AQ,MQ,EQ,bQ,mQ,TQ);Object.assign({},kn,Zs,g6,oO,q1);var QQ=[...Object.keys(Ow),...cO],ZQ={...Ow,...z7},JQ=t=>t in ZQ,eZ=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Xl(t[o],e);if(a==null)continue;if(a=Ro(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){s[o]=a[u];continue}s[c]=s[c]||{},a[u]!=null&&(s[c][o]=a[u])}}return s};function tZ(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function nZ(t){return/^var\(--.+\)$/.test(t)}var rZ=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!nZ(e),iZ=(t,e)=>{var n,r;if(e==null)return e;const i=l=>{var u,c;return(c=(u=t.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},s=l=>{var u;return(u=i(l))!=null?u:l},[o,a]=tZ(e);return e=(r=(n=i(o))!=null?n:s(a))!=null?r:s(e),e};function sZ(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var a,l,u;const c=Xl(s,r),f=eZ(c)(r);let p={};for(let m in f){const y=f[m];let _=Xl(y,r);m in n&&(m=n[m]),rZ(m,_)&&(_=iZ(r,_));let x=e[m];if(x===!0&&(x={property:m}),Ro(_)){p[m]=(a=p[m])!=null?a:{},p[m]=so({},p[m],i(_,!0));continue}let g=(u=(l=x==null?void 0:x.transform)==null?void 0:l.call(x,_,r,c))!=null?u:_;g=x!=null&&x.processResult?i(g,!0):g;const S=Xl(x==null?void 0:x.property,r);if(!o&&(x!=null&&x.static)){const w=Xl(x.static,r);p=so({},p,w)}if(S&&Array.isArray(S)){for(const w of S)p[w]=g;continue}if(S){S==="&"&&Ro(g)?p=so({},p,g):p[S]=g;continue}if(Ro(g)){p=so({},p,g);continue}p[m]=g}return p};return i}var dO=t=>e=>sZ({theme:e,pseudos:z7,configs:Ow})(t);function In(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function oZ(t,e){if(Array.isArray(t))return t;if(Ro(t))return e(t);if(t!=null)return[t]}function aZ(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function lZ(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const u={},c=oZ(s,e.toArrayValue);if(!c)return u;const f=c.length,p=f===1,m=!!r.parts;for(let y=0;y<f;y++){const _=e.details[y],x=e.details[aZ(c,y)],g=E1(_.minW,x==null?void 0:x._minW),S=Xl((a=r[i])==null?void 0:a[c[y]],o);if(S){if(m){(l=r.parts)==null||l.forEach(w=>{so(u,{[w]:p?S[w]:{[g]:S[w]}})});continue}if(!m){p?so(u,S):u[g]=S;continue}u[g]=S}}return u}}function uZ(t){return e=>{var n;const{variant:r,size:i,theme:s}=e,o=lZ(s);return so({},Xl((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",i,e),o(t,"variants",r,e))}}function Iu(t){return VQ(t,["styleConfig","size","variant","colorScheme"])}var cZ=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function dZ(t){return Ro(t)?cZ.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}var hZ={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},fZ={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},pZ={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},mZ={property:hZ,easing:fZ,duration:pZ},gZ=mZ,yZ={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},vZ=yZ,_Z={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},xZ=_Z,SZ={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},wZ=SZ,EZ={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},bZ=EZ,TZ={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},MZ=TZ,AZ={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},CZ=AZ,PZ={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},RZ=PZ,IZ={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},hO=IZ,fO={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},LZ={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},kZ={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},DZ={...fO,...LZ,container:kZ},pO=DZ,NZ={breakpoints:wZ,zIndices:vZ,radii:MZ,blur:RZ,colors:bZ,...hO,sizes:pO,shadows:CZ,space:fO,borders:xZ,transition:gZ},{defineMultiStyleConfig:FZ,definePartsStyle:b1}=In(["stepper","step","title","description","indicator","separator","icon","number"]),Ba=vt("stepper-indicator-size"),zh=vt("stepper-icon-size"),Bh=vt("stepper-title-font-size"),T1=vt("stepper-description-font-size"),J0=vt("stepper-accent-color"),OZ=b1(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[J0.variable]:`colors.${t}.500`,_dark:{[J0.variable]:`colors.${t}.200`}},title:{fontSize:Bh.reference,fontWeight:"medium"},description:{fontSize:T1.reference,color:"chakra-subtle-text"},number:{fontSize:Bh.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:zh.reference,height:zh.reference},indicator:{flexShrink:0,borderRadius:"full",width:Ba.reference,height:Ba.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:J0.reference},"&[data-status=complete]":{bg:J0.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:J0.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${Ba.reference} - 8px)`,top:`calc(${Ba.reference} + 4px)`,insetStart:`calc(${Ba.reference} / 2 - 1px)`}}})),UZ=FZ({baseStyle:OZ,sizes:{xs:b1({stepper:{[Ba.variable]:"sizes.4",[zh.variable]:"sizes.3",[Bh.variable]:"fontSizes.xs",[T1.variable]:"fontSizes.xs"}}),sm:b1({stepper:{[Ba.variable]:"sizes.6",[zh.variable]:"sizes.4",[Bh.variable]:"fontSizes.sm",[T1.variable]:"fontSizes.xs"}}),md:b1({stepper:{[Ba.variable]:"sizes.8",[zh.variable]:"sizes.5",[Bh.variable]:"fontSizes.md",[T1.variable]:"fontSizes.sm"}}),lg:b1({stepper:{[Ba.variable]:"sizes.10",[zh.variable]:"sizes.6",[Bh.variable]:"fontSizes.lg",[T1.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function _n(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const f of c)e[f]=l(f);return _n(t,e)}function s(...c){for(const f of c)f in e||(e[f]=l(f));return _n(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.className]))}function l(c){const m=`chakra-${(["container","root"].includes(c??"")?[t]:[t,c]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>c}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var zZ=_n("accordion").parts("root","container","button","panel").extend("icon"),BZ=_n("alert").parts("title","description","container").extend("icon","spinner"),VZ=_n("avatar").parts("label","badge","container").extend("excessLabel","group"),HZ=_n("breadcrumb").parts("link","item","container").extend("separator");_n("button").parts();var GZ=_n("checkbox").parts("control","icon","container").extend("label");_n("progress").parts("track","filledTrack").extend("label");var $Z=_n("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),WZ=_n("editable").parts("preview","input","textarea"),jZ=_n("form").parts("container","requiredIndicator","helperText"),qZ=_n("formError").parts("text","icon"),XZ=_n("input").parts("addon","field","element","group"),YZ=_n("list").parts("container","item","icon"),KZ=_n("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),QZ=_n("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),ZZ=_n("numberinput").parts("root","field","stepperGroup","stepper");_n("pininput").parts("field");var JZ=_n("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),eJ=_n("progress").parts("label","filledTrack","track"),tJ=_n("radio").parts("container","control","label"),nJ=_n("select").parts("field","icon"),rJ=_n("slider").parts("container","track","thumb","filledTrack","mark"),iJ=_n("stat").parts("container","label","helpText","number","icon"),sJ=_n("switch").parts("container","track","thumb"),oJ=_n("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),aJ=_n("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),lJ=_n("tag").parts("container","label","closeButton"),uJ=_n("card").parts("container","header","body","footer");function Tc(t,e,n){return Math.min(Math.max(t,n),e)}class cJ extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var M1=cJ;function Uw(t){if(typeof t!="string")throw new M1(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=vJ.test(t)?fJ(t):t;const n=pJ.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(Bp(a,2),16)),parseInt(Bp(o[3]||"f",2),16)/255]}const r=mJ.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=gJ.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=yJ.exec(e);if(s){const[o,a,l,u]=Array.from(s).slice(1).map(parseFloat);if(Tc(0,100,a)!==a)throw new M1(t);if(Tc(0,100,l)!==l)throw new M1(t);return[..._J(o,a,l),Number.isNaN(u)?1:u]}throw new M1(t)}function dJ(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const jC=t=>parseInt(t.replace(/_/g,""),36),hJ="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=jC(e.substring(0,3)),r=jC(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return t[n]=`${i}${r}`,t},{});function fJ(t){const e=t.toLowerCase().trim(),n=hJ[dJ(e)];if(!n)throw new M1(t);return`#${n}`}const Bp=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),pJ=new RegExp(`^#${Bp("([a-f0-9])",3)}([a-f0-9])?$`,"i"),mJ=new RegExp(`^#${Bp("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),gJ=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Bp(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),yJ=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,vJ=/^[a-z]+$/i,qC=t=>Math.round(t*255),_J=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(qC);const i=(t%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,u=o):i>=3&&i<4?(l=o,u=s):i>=4&&i<5?(a=o,u=s):i>=5&&i<6&&(a=s,u=o);const c=r-s/2,f=a+c,p=l+c,m=u+c;return[f,p,m].map(qC)};function xJ(t,e,n,r){return`rgba(${Tc(0,255,t).toFixed()}, ${Tc(0,255,e).toFixed()}, ${Tc(0,255,n).toFixed()}, ${parseFloat(Tc(0,1,r).toFixed(3))})`}function SJ(t,e){const[n,r,i,s]=Uw(t);return xJ(n,r,i,s-e)}function wJ(t){const[e,n,r,i]=Uw(t);let s=o=>{const a=Tc(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(n)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function EJ(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var bJ=t=>Object.keys(t).length===0,Hi=(t,e,n)=>{const r=EJ(t,`colors.${e}`,e);try{return wJ(r),r}catch{return n??"#000000"}},TJ=t=>{const[e,n,r]=Uw(t);return(e*299+n*587+r*114)/1e3},MJ=t=>e=>{const n=Hi(e,t);return TJ(n)<128?"dark":"light"},AJ=t=>e=>MJ(t)(e)==="dark",Nf=(t,e)=>n=>{const r=Hi(n,t);return SJ(r,1-e)};function XC(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var CJ=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function PJ(t){const e=CJ();return!t||bJ(t)?e:t.string&&t.colors?IJ(t.string,t.colors):t.string&&!t.colors?RJ(t.string):t.colors&&!t.string?LJ(t.colors):e}function RJ(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function IJ(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function LJ(t){return t[Math.floor(Math.random()*t.length)]}function gt(t,e){return n=>n.colorMode==="dark"?e:t}function zw(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function mO(t){return Ro(t)&&t.reference?t.reference:String(t)}var B7=(t,...e)=>e.map(mO).join(` ${t} `).replace(/calc/g,""),YC=(...t)=>`calc(${B7("+",...t)})`,KC=(...t)=>`calc(${B7("-",...t)})`,v_=(...t)=>`calc(${B7("*",...t)})`,QC=(...t)=>`calc(${B7("/",...t)})`,ZC=t=>{const e=mO(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:v_(e,-1)},Va=Object.assign(t=>({add:(...e)=>Va(YC(t,...e)),subtract:(...e)=>Va(KC(t,...e)),multiply:(...e)=>Va(v_(t,...e)),divide:(...e)=>Va(QC(t,...e)),negate:()=>Va(ZC(t)),toString:()=>t.toString()}),{add:YC,subtract:KC,multiply:v_,divide:QC,negate:ZC});function kJ(t){return!Number.isInteger(parseFloat(t.toString()))}function DJ(t,e="-"){return t.replace(/\s+/g,e)}function gO(t){const e=DJ(t.toString());return e.includes("\\.")?t:kJ(t)?e.replace(".","\\."):t}function NJ(t,e=""){return[e,gO(t)].filter(Boolean).join("-")}function FJ(t,e){return`var(${gO(t)}${e?`, ${e}`:""})`}function OJ(t,e=""){return`--${NJ(t,e)}`}function Vr(t,e){const n=OJ(t,e==null?void 0:e.prefix);return{variable:n,reference:FJ(n,UJ(e==null?void 0:e.fallback))}}function UJ(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:zJ,definePartsStyle:y5}=In(sJ.keys),X1=Vr("switch-track-width"),Vc=Vr("switch-track-height"),bg=Vr("switch-track-diff"),BJ=Va.subtract(X1,Vc),__=Vr("switch-thumb-x"),e1=Vr("switch-bg"),VJ=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[X1.reference],height:[Vc.reference],transitionProperty:"common",transitionDuration:"fast",[e1.variable]:"colors.gray.300",_dark:{[e1.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[e1.variable]:`colors.${e}.500`,_dark:{[e1.variable]:`colors.${e}.200`}},bg:e1.reference}},HJ={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Vc.reference],height:[Vc.reference],_checked:{transform:`translateX(${__.reference})`}},GJ=y5(t=>({container:{[bg.variable]:BJ,[__.variable]:bg.reference,_rtl:{[__.variable]:Va(bg).negate().toString()}},track:VJ(t),thumb:HJ})),$J={sm:y5({container:{[X1.variable]:"1.375rem",[Vc.variable]:"sizes.3"}}),md:y5({container:{[X1.variable]:"1.875rem",[Vc.variable]:"sizes.4"}}),lg:y5({container:{[X1.variable]:"2.875rem",[Vc.variable]:"sizes.6"}})},WJ=zJ({baseStyle:GJ,sizes:$J,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:jJ,definePartsStyle:cf}=In(oJ.keys),qJ=cf({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),y6={"&[data-is-numeric=true]":{textAlign:"end"}},XJ=cf(t=>{const{colorScheme:e}=t;return{th:{color:gt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:gt(`${e}.100`,`${e}.700`)(t),...y6},td:{borderBottom:"1px",borderColor:gt(`${e}.100`,`${e}.700`)(t),...y6},caption:{color:gt("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),YJ=cf(t=>{const{colorScheme:e}=t;return{th:{color:gt("gray.600","gray.400")(t),borderBottom:"1px",borderColor:gt(`${e}.100`,`${e}.700`)(t),...y6},td:{borderBottom:"1px",borderColor:gt(`${e}.100`,`${e}.700`)(t),...y6},caption:{color:gt("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:gt(`${e}.100`,`${e}.700`)(t)},td:{background:gt(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),KJ={simple:XJ,striped:YJ,unstyled:{}},QJ={sm:cf({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:cf({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:cf({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},ZJ=jJ({baseStyle:qJ,variants:KJ,sizes:QJ,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),ts=vt("tabs-color"),Ao=vt("tabs-bg"),Vm=vt("tabs-border-color"),{defineMultiStyleConfig:JJ,definePartsStyle:ca}=In(aJ.keys),eee=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},tee=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},nee=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},ree={p:4},iee=ca(t=>({root:eee(t),tab:tee(t),tablist:nee(t),tabpanel:ree})),see={sm:ca({tab:{py:1,px:4,fontSize:"sm"}}),md:ca({tab:{fontSize:"md",py:2,px:4}}),lg:ca({tab:{fontSize:"lg",py:3,px:4}})},oee=ca(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=r?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[ts.variable]:`colors.${e}.600`,_dark:{[ts.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[Ao.variable]:"colors.gray.200",_dark:{[Ao.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ts.reference,bg:Ao.reference}}}),aee=ca(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Vm.variable]:"transparent",_selected:{[ts.variable]:`colors.${e}.600`,[Vm.variable]:"colors.white",_dark:{[ts.variable]:`colors.${e}.300`,[Vm.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Vm.reference},color:ts.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),lee=ca(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[Ao.variable]:"colors.gray.50",_dark:{[Ao.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[Ao.variable]:"colors.white",[ts.variable]:`colors.${e}.600`,_dark:{[Ao.variable]:"colors.gray.800",[ts.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ts.reference,bg:Ao.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),uee=ca(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Hi(n,`${e}.700`),bg:Hi(n,`${e}.100`)}}}}),cee=ca(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[ts.variable]:"colors.gray.600",_dark:{[ts.variable]:"inherit"},_selected:{[ts.variable]:"colors.white",[Ao.variable]:`colors.${e}.600`,_dark:{[ts.variable]:"colors.gray.800",[Ao.variable]:`colors.${e}.300`}},color:ts.reference,bg:Ao.reference}}}),dee=ca({}),hee={line:oee,enclosed:aee,"enclosed-colored":lee,"soft-rounded":uee,"solid-rounded":cee,unstyled:dee},fee=JJ({baseStyle:iee,sizes:see,variants:hee,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),gr=NQ("badge",["bg","color","shadow"]),pee={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:gr.bg.reference,color:gr.color.reference,boxShadow:gr.shadow.reference},mee=t=>{const{colorScheme:e,theme:n}=t,r=Nf(`${e}.500`,.6)(n);return{[gr.bg.variable]:`colors.${e}.500`,[gr.color.variable]:"colors.white",_dark:{[gr.bg.variable]:r,[gr.color.variable]:"colors.whiteAlpha.800"}}},gee=t=>{const{colorScheme:e,theme:n}=t,r=Nf(`${e}.200`,.16)(n);return{[gr.bg.variable]:`colors.${e}.100`,[gr.color.variable]:`colors.${e}.800`,_dark:{[gr.bg.variable]:r,[gr.color.variable]:`colors.${e}.200`}}},yee=t=>{const{colorScheme:e,theme:n}=t,r=Nf(`${e}.200`,.8)(n);return{[gr.color.variable]:`colors.${e}.500`,_dark:{[gr.color.variable]:r},[gr.shadow.variable]:`inset 0 0 0px 1px ${gr.color.reference}`}},vee={solid:mee,subtle:gee,outline:yee},Y1={baseStyle:pee,variants:vee,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:_ee,definePartsStyle:Hc}=In(lJ.keys),JC=vt("tag-bg"),eP=vt("tag-color"),Tg=vt("tag-shadow"),v5=vt("tag-min-height"),_5=vt("tag-min-width"),x5=vt("tag-font-size"),S5=vt("tag-padding-inline"),xee={fontWeight:"medium",lineHeight:1.2,outline:0,[eP.variable]:gr.color.reference,[JC.variable]:gr.bg.reference,[Tg.variable]:gr.shadow.reference,color:eP.reference,bg:JC.reference,boxShadow:Tg.reference,borderRadius:"md",minH:v5.reference,minW:_5.reference,fontSize:x5.reference,px:S5.reference,_focusVisible:{[Tg.variable]:"shadows.outline"}},See={lineHeight:1.2,overflow:"visible"},wee={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Eee=Hc({container:xee,label:See,closeButton:wee}),bee={sm:Hc({container:{[v5.variable]:"sizes.5",[_5.variable]:"sizes.5",[x5.variable]:"fontSizes.xs",[S5.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Hc({container:{[v5.variable]:"sizes.6",[_5.variable]:"sizes.6",[x5.variable]:"fontSizes.sm",[S5.variable]:"space.2"}}),lg:Hc({container:{[v5.variable]:"sizes.8",[_5.variable]:"sizes.8",[x5.variable]:"fontSizes.md",[S5.variable]:"space.3"}})},Tee={subtle:Hc(t=>{var e;return{container:(e=Y1.variants)==null?void 0:e.subtle(t)}}),solid:Hc(t=>{var e;return{container:(e=Y1.variants)==null?void 0:e.solid(t)}}),outline:Hc(t=>{var e;return{container:(e=Y1.variants)==null?void 0:e.outline(t)}})},Mee=_ee({variants:Tee,baseStyle:Eee,sizes:bee,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:ja,defineMultiStyleConfig:Aee}=In(XZ.keys),Vh=vt("input-height"),Hh=vt("input-font-size"),Gh=vt("input-padding"),$h=vt("input-border-radius"),Cee=ja({addon:{height:Vh.reference,fontSize:Hh.reference,px:Gh.reference,borderRadius:$h.reference},field:{width:"100%",height:Vh.reference,fontSize:Hh.reference,px:Gh.reference,borderRadius:$h.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Pl={lg:{[Hh.variable]:"fontSizes.lg",[Gh.variable]:"space.4",[$h.variable]:"radii.md",[Vh.variable]:"sizes.12"},md:{[Hh.variable]:"fontSizes.md",[Gh.variable]:"space.4",[$h.variable]:"radii.md",[Vh.variable]:"sizes.10"},sm:{[Hh.variable]:"fontSizes.sm",[Gh.variable]:"space.3",[$h.variable]:"radii.sm",[Vh.variable]:"sizes.8"},xs:{[Hh.variable]:"fontSizes.xs",[Gh.variable]:"space.2",[$h.variable]:"radii.sm",[Vh.variable]:"sizes.6"}},Pee={lg:ja({field:Pl.lg,group:Pl.lg}),md:ja({field:Pl.md,group:Pl.md}),sm:ja({field:Pl.sm,group:Pl.sm}),xs:ja({field:Pl.xs,group:Pl.xs})};function Bw(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||gt("blue.500","blue.300")(t),errorBorderColor:n||gt("red.500","red.300")(t)}}var Ree=ja(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Bw(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:gt("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Hi(e,r),boxShadow:`0 0 0 1px ${Hi(e,r)}`},_focusVisible:{zIndex:1,borderColor:Hi(e,n),boxShadow:`0 0 0 1px ${Hi(e,n)}`}},addon:{border:"1px solid",borderColor:gt("inherit","whiteAlpha.50")(t),bg:gt("gray.100","whiteAlpha.300")(t)}}}),Iee=ja(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Bw(t);return{field:{border:"2px solid",borderColor:"transparent",bg:gt("gray.100","whiteAlpha.50")(t),_hover:{bg:gt("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Hi(e,r)},_focusVisible:{bg:"transparent",borderColor:Hi(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:gt("gray.100","whiteAlpha.50")(t)}}}),Lee=ja(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Bw(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Hi(e,r),boxShadow:`0px 1px 0px 0px ${Hi(e,r)}`},_focusVisible:{borderColor:Hi(e,n),boxShadow:`0px 1px 0px 0px ${Hi(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),kee=ja({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Dee={outline:Ree,filled:Iee,flushed:Lee,unstyled:kee},pn=Aee({baseStyle:Cee,sizes:Pee,variants:Dee,defaultProps:{size:"md",variant:"outline"}}),tP,Nee={...(tP=pn.baseStyle)==null?void 0:tP.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},nP,rP,Fee={outline:t=>{var e,n;return(n=(e=pn.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=pn.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=pn.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(rP=(nP=pn.variants)==null?void 0:nP.unstyled.field)!=null?rP:{}},iP,sP,oP,aP,lP,uP,cP,dP,Oee={xs:(sP=(iP=pn.sizes)==null?void 0:iP.xs.field)!=null?sP:{},sm:(aP=(oP=pn.sizes)==null?void 0:oP.sm.field)!=null?aP:{},md:(uP=(lP=pn.sizes)==null?void 0:lP.md.field)!=null?uP:{},lg:(dP=(cP=pn.sizes)==null?void 0:cP.lg.field)!=null?dP:{}},Uee={baseStyle:Nee,sizes:Oee,variants:Fee,defaultProps:{size:"md",variant:"outline"}},Hm=Vr("tooltip-bg"),Mg=Vr("tooltip-fg"),zee=Vr("popper-arrow-bg"),Bee={bg:Hm.reference,color:Mg.reference,[Hm.variable]:"colors.gray.700",[Mg.variable]:"colors.whiteAlpha.900",_dark:{[Hm.variable]:"colors.gray.300",[Mg.variable]:"colors.gray.900"},[zee.variable]:Hm.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},Vee={baseStyle:Bee},{defineMultiStyleConfig:Hee,definePartsStyle:A1}=In(eJ.keys),Gee=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=gt(XC(),XC("1rem","rgba(0,0,0,0.1)"))(t),o=gt(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Hi(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},$ee={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Wee=t=>({bg:gt("gray.100","whiteAlpha.300")(t)}),jee=t=>({transitionProperty:"common",transitionDuration:"slow",...Gee(t)}),qee=A1(t=>({label:$ee,filledTrack:jee(t),track:Wee(t)})),Xee={xs:A1({track:{h:"1"}}),sm:A1({track:{h:"2"}}),md:A1({track:{h:"3"}}),lg:A1({track:{h:"4"}})},Yee=Hee({sizes:Xee,baseStyle:qee,defaultProps:{size:"md",colorScheme:"blue"}}),Kee=t=>typeof t=="function";function Wi(t,...e){return Kee(t)?t(...e):t}var{definePartsStyle:w5,defineMultiStyleConfig:Qee}=In(GZ.keys),K1=vt("checkbox-size"),Zee=t=>{const{colorScheme:e}=t;return{w:K1.reference,h:K1.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:gt(`${e}.500`,`${e}.200`)(t),borderColor:gt(`${e}.500`,`${e}.200`)(t),color:gt("white","gray.900")(t),_hover:{bg:gt(`${e}.600`,`${e}.300`)(t),borderColor:gt(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:gt("gray.200","transparent")(t),bg:gt("gray.200","whiteAlpha.300")(t),color:gt("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:gt(`${e}.500`,`${e}.200`)(t),borderColor:gt(`${e}.500`,`${e}.200`)(t),color:gt("white","gray.900")(t)},_disabled:{bg:gt("gray.100","whiteAlpha.100")(t),borderColor:gt("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:gt("red.500","red.300")(t)}}},Jee={_disabled:{cursor:"not-allowed"}},ete={userSelect:"none",_disabled:{opacity:.4}},tte={transitionProperty:"transform",transitionDuration:"normal"},nte=w5(t=>({icon:tte,container:Jee,control:Wi(Zee,t),label:ete})),rte={sm:w5({control:{[K1.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:w5({control:{[K1.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:w5({control:{[K1.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},v6=Qee({baseStyle:nte,sizes:rte,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:ite,definePartsStyle:E5}=In(tJ.keys),ste=t=>{var e;const n=(e=Wi(v6.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},ote=E5(t=>{var e,n,r,i;return{label:(n=(e=v6).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=v6).baseStyle)==null?void 0:i.call(r,t).container,control:ste(t)}}),ate={md:E5({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:E5({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:E5({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},lte=ite({baseStyle:ote,sizes:ate,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:ute,definePartsStyle:cte}=In(nJ.keys),Gm=vt("select-bg"),hP,dte={...(hP=pn.baseStyle)==null?void 0:hP.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Gm.reference,[Gm.variable]:"colors.white",_dark:{[Gm.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Gm.reference}},hte={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},fte=cte({field:dte,icon:hte}),$m={paddingInlineEnd:"8"},fP,pP,mP,gP,yP,vP,_P,xP,pte={lg:{...(fP=pn.sizes)==null?void 0:fP.lg,field:{...(pP=pn.sizes)==null?void 0:pP.lg.field,...$m}},md:{...(mP=pn.sizes)==null?void 0:mP.md,field:{...(gP=pn.sizes)==null?void 0:gP.md.field,...$m}},sm:{...(yP=pn.sizes)==null?void 0:yP.sm,field:{...(vP=pn.sizes)==null?void 0:vP.sm.field,...$m}},xs:{...(_P=pn.sizes)==null?void 0:_P.xs,field:{...(xP=pn.sizes)==null?void 0:xP.xs.field,...$m},icon:{insetEnd:"1"}}},mte=ute({baseStyle:fte,sizes:pte,variants:pn.variants,defaultProps:pn.defaultProps}),Ag=vt("skeleton-start-color"),Cg=vt("skeleton-end-color"),gte={[Ag.variable]:"colors.gray.100",[Cg.variable]:"colors.gray.400",_dark:{[Ag.variable]:"colors.gray.800",[Cg.variable]:"colors.gray.600"},background:Ag.reference,borderColor:Cg.reference,opacity:.7,borderRadius:"sm"},yte={baseStyle:gte},Pg=vt("skip-link-bg"),vte={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Pg.variable]:"colors.white",_dark:{[Pg.variable]:"colors.gray.700"},bg:Pg.reference}},_te={baseStyle:vte},{defineMultiStyleConfig:xte,definePartsStyle:V7}=In(rJ.keys),Vp=vt("slider-thumb-size"),Hp=vt("slider-track-size"),$l=vt("slider-bg"),Ste=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...zw({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},wte=t=>({...zw({orientation:t.orientation,horizontal:{h:Hp.reference},vertical:{w:Hp.reference}}),overflow:"hidden",borderRadius:"sm",[$l.variable]:"colors.gray.200",_dark:{[$l.variable]:"colors.whiteAlpha.200"},_disabled:{[$l.variable]:"colors.gray.300",_dark:{[$l.variable]:"colors.whiteAlpha.300"}},bg:$l.reference}),Ete=t=>{const{orientation:e}=t;return{...zw({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Vp.reference,h:Vp.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},bte=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[$l.variable]:`colors.${e}.500`,_dark:{[$l.variable]:`colors.${e}.200`},bg:$l.reference}},Tte=V7(t=>({container:Ste(t),track:wte(t),thumb:Ete(t),filledTrack:bte(t)})),Mte=V7({container:{[Vp.variable]:"sizes.4",[Hp.variable]:"sizes.1"}}),Ate=V7({container:{[Vp.variable]:"sizes.3.5",[Hp.variable]:"sizes.1"}}),Cte=V7({container:{[Vp.variable]:"sizes.2.5",[Hp.variable]:"sizes.0.5"}}),Pte={lg:Mte,md:Ate,sm:Cte},Rte=xte({baseStyle:Tte,sizes:Pte,defaultProps:{size:"md",colorScheme:"blue"}}),vc=Vr("spinner-size"),Ite={width:[vc.reference],height:[vc.reference]},Lte={xs:{[vc.variable]:"sizes.3"},sm:{[vc.variable]:"sizes.4"},md:{[vc.variable]:"sizes.6"},lg:{[vc.variable]:"sizes.8"},xl:{[vc.variable]:"sizes.12"}},kte={baseStyle:Ite,sizes:Lte,defaultProps:{size:"md"}},{defineMultiStyleConfig:Dte,definePartsStyle:yO}=In(iJ.keys),Nte={fontWeight:"medium"},Fte={opacity:.8,marginBottom:"2"},Ote={verticalAlign:"baseline",fontWeight:"semibold"},Ute={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},zte=yO({container:{},label:Nte,helpText:Fte,number:Ote,icon:Ute}),Bte={md:yO({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Vte=Dte({baseStyle:zte,sizes:Bte,defaultProps:{size:"md"}}),Rg=vt("kbd-bg"),Hte={[Rg.variable]:"colors.gray.100",_dark:{[Rg.variable]:"colors.whiteAlpha.100"},bg:Rg.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},Gte={baseStyle:Hte},$te={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Wte={baseStyle:$te},{defineMultiStyleConfig:jte,definePartsStyle:qte}=In(YZ.keys),Xte={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Yte=qte({icon:Xte}),Kte=jte({baseStyle:Yte}),{defineMultiStyleConfig:Qte,definePartsStyle:Zte}=In(KZ.keys),Qo=vt("menu-bg"),Ig=vt("menu-shadow"),Jte={[Qo.variable]:"#fff",[Ig.variable]:"shadows.sm",_dark:{[Qo.variable]:"colors.gray.700",[Ig.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Qo.reference,boxShadow:Ig.reference},ene={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Qo.variable]:"colors.gray.100",_dark:{[Qo.variable]:"colors.whiteAlpha.100"}},_active:{[Qo.variable]:"colors.gray.200",_dark:{[Qo.variable]:"colors.whiteAlpha.200"}},_expanded:{[Qo.variable]:"colors.gray.100",_dark:{[Qo.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Qo.reference},tne={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},nne={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},rne={opacity:.6},ine={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},sne={transitionProperty:"common",transitionDuration:"normal"},one=Zte({button:sne,list:Jte,item:ene,groupTitle:tne,icon:nne,command:rne,divider:ine}),ane=Qte({baseStyle:one}),{defineMultiStyleConfig:lne,definePartsStyle:x_}=In(QZ.keys),Lg=vt("modal-bg"),kg=vt("modal-shadow"),une={bg:"blackAlpha.600",zIndex:"modal"},cne=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},dne=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[Lg.variable]:"colors.white",[kg.variable]:"shadows.lg",_dark:{[Lg.variable]:"colors.gray.700",[kg.variable]:"shadows.dark-lg"},bg:Lg.reference,boxShadow:kg.reference}},hne={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},fne={position:"absolute",top:"2",insetEnd:"3"},pne=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},mne={px:"6",py:"4"},gne=x_(t=>({overlay:une,dialogContainer:Wi(cne,t),dialog:Wi(dne,t),header:hne,closeButton:fne,body:Wi(pne,t),footer:mne}));function yo(t){return x_(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var yne={xs:yo("xs"),sm:yo("sm"),md:yo("md"),lg:yo("lg"),xl:yo("xl"),"2xl":yo("2xl"),"3xl":yo("3xl"),"4xl":yo("4xl"),"5xl":yo("5xl"),"6xl":yo("6xl"),full:yo("full")},vne=lne({baseStyle:gne,sizes:yne,defaultProps:{size:"md"}}),{defineMultiStyleConfig:_ne,definePartsStyle:vO}=In(ZZ.keys),Vw=Vr("number-input-stepper-width"),_O=Vr("number-input-input-padding"),xne=Va(Vw).add("0.5rem").toString(),Dg=Vr("number-input-bg"),Ng=Vr("number-input-color"),Fg=Vr("number-input-border-color"),Sne={[Vw.variable]:"sizes.6",[_O.variable]:xne},wne=t=>{var e,n;return(n=(e=Wi(pn.baseStyle,t))==null?void 0:e.field)!=null?n:{}},Ene={width:Vw.reference},bne={borderStart:"1px solid",borderStartColor:Fg.reference,color:Ng.reference,bg:Dg.reference,[Ng.variable]:"colors.chakra-body-text",[Fg.variable]:"colors.chakra-border-color",_dark:{[Ng.variable]:"colors.whiteAlpha.800",[Fg.variable]:"colors.whiteAlpha.300"},_active:{[Dg.variable]:"colors.gray.200",_dark:{[Dg.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},Tne=vO(t=>{var e;return{root:Sne,field:(e=Wi(wne,t))!=null?e:{},stepperGroup:Ene,stepper:bne}});function Wm(t){var e,n,r;const i=(e=pn.sizes)==null?void 0:e[t],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=i.field)==null?void 0:n.fontSize)!=null?r:"md",a=hO.fontSizes[o];return vO({field:{...i.field,paddingInlineEnd:_O.reference,verticalAlign:"top"},stepper:{fontSize:Va(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[t]},_last:{borderBottomEndRadius:s[t],mt:"-1px",borderTopWidth:1}}})}var Mne={xs:Wm("xs"),sm:Wm("sm"),md:Wm("md"),lg:Wm("lg")},Ane=_ne({baseStyle:Tne,sizes:Mne,variants:pn.variants,defaultProps:pn.defaultProps}),SP,Cne={...(SP=pn.baseStyle)==null?void 0:SP.field,textAlign:"center"},Pne={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},wP,EP,Rne={outline:t=>{var e,n,r;return(r=(n=Wi((e=pn.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Wi((e=pn.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Wi((e=pn.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(EP=(wP=pn.variants)==null?void 0:wP.unstyled.field)!=null?EP:{}},Ine={baseStyle:Cne,sizes:Pne,variants:Rne,defaultProps:pn.defaultProps},{defineMultiStyleConfig:Lne,definePartsStyle:kne}=In(JZ.keys),jm=Vr("popper-bg"),Dne=Vr("popper-arrow-bg"),bP=Vr("popper-arrow-shadow-color"),Nne={zIndex:10},Fne={[jm.variable]:"colors.white",bg:jm.reference,[Dne.variable]:jm.reference,[bP.variable]:"colors.gray.200",_dark:{[jm.variable]:"colors.gray.700",[bP.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},One={px:3,py:2,borderBottomWidth:"1px"},Une={px:3,py:2},zne={px:3,py:2,borderTopWidth:"1px"},Bne={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},Vne=kne({popper:Nne,content:Fne,header:One,body:Une,footer:zne,closeButton:Bne}),Hne=Lne({baseStyle:Vne}),{definePartsStyle:S_,defineMultiStyleConfig:Gne}=In($Z.keys),Og=vt("drawer-bg"),Ug=vt("drawer-box-shadow");function jd(t){return S_(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var $ne={bg:"blackAlpha.600",zIndex:"overlay"},Wne={display:"flex",zIndex:"modal",justifyContent:"center"},jne=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Og.variable]:"colors.white",[Ug.variable]:"shadows.lg",_dark:{[Og.variable]:"colors.gray.700",[Ug.variable]:"shadows.dark-lg"},bg:Og.reference,boxShadow:Ug.reference}},qne={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Xne={position:"absolute",top:"2",insetEnd:"3"},Yne={px:"6",py:"2",flex:"1",overflow:"auto"},Kne={px:"6",py:"4"},Qne=S_(t=>({overlay:$ne,dialogContainer:Wne,dialog:Wi(jne,t),header:qne,closeButton:Xne,body:Yne,footer:Kne})),Zne={xs:jd("xs"),sm:jd("md"),md:jd("lg"),lg:jd("2xl"),xl:jd("4xl"),full:jd("full")},Jne=Gne({baseStyle:Qne,sizes:Zne,defaultProps:{size:"xs"}}),{definePartsStyle:ere,defineMultiStyleConfig:tre}=In(WZ.keys),nre={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},rre={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},ire={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},sre=ere({preview:nre,input:rre,textarea:ire}),ore=tre({baseStyle:sre}),{definePartsStyle:are,defineMultiStyleConfig:lre}=In(jZ.keys),df=vt("form-control-color"),ure={marginStart:"1",[df.variable]:"colors.red.500",_dark:{[df.variable]:"colors.red.300"},color:df.reference},cre={mt:"2",[df.variable]:"colors.gray.600",_dark:{[df.variable]:"colors.whiteAlpha.600"},color:df.reference,lineHeight:"normal",fontSize:"sm"},dre=are({container:{width:"100%",position:"relative"},requiredIndicator:ure,helperText:cre}),hre=lre({baseStyle:dre}),{definePartsStyle:fre,defineMultiStyleConfig:pre}=In(qZ.keys),hf=vt("form-error-color"),mre={[hf.variable]:"colors.red.500",_dark:{[hf.variable]:"colors.red.300"},color:hf.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},gre={marginEnd:"0.5em",[hf.variable]:"colors.red.500",_dark:{[hf.variable]:"colors.red.300"},color:hf.reference},yre=fre({text:mre,icon:gre}),vre=pre({baseStyle:yre}),_re={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},xre={baseStyle:_re},Sre={fontFamily:"heading",fontWeight:"bold"},wre={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Ere={baseStyle:Sre,sizes:wre,defaultProps:{size:"xl"}},{defineMultiStyleConfig:bre,definePartsStyle:Tre}=In(HZ.keys),zg=vt("breadcrumb-link-decor"),Mre={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:zg.reference,[zg.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[zg.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Are=Tre({link:Mre}),Cre=bre({baseStyle:Are}),Pre={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},xO=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:gt("gray.800","whiteAlpha.900")(t),_hover:{bg:gt("gray.100","whiteAlpha.200")(t)},_active:{bg:gt("gray.200","whiteAlpha.300")(t)}};const r=Nf(`${e}.200`,.12)(n),i=Nf(`${e}.200`,.24)(n);return{color:gt(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:gt(`${e}.50`,r)(t)},_active:{bg:gt(`${e}.100`,i)(t)}}},Rre=t=>{const{colorScheme:e}=t,n=gt("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Wi(xO,t)}},Ire={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Lre=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=gt("gray.100","whiteAlpha.200")(t);return{bg:l,color:gt("gray.800","whiteAlpha.900")(t),_hover:{bg:gt("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:gt("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:i="white",hoverBg:s=`${n}.600`,activeBg:o=`${n}.700`}=(e=Ire[n])!=null?e:{},a=gt(r,`${n}.200`)(t);return{bg:a,color:gt(i,"gray.800")(t),_hover:{bg:gt(s,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:gt(o,`${n}.400`)(t)}}},kre=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:gt(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:gt(`${e}.700`,`${e}.500`)(t)}}},Dre={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},Nre={ghost:xO,outline:Rre,solid:Lre,link:kre,unstyled:Dre},Fre={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},Ore={baseStyle:Pre,variants:Nre,sizes:Fre,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Gc,defineMultiStyleConfig:Ure}=In(uJ.keys),_6=vt("card-bg"),Za=vt("card-padding"),SO=vt("card-shadow"),b5=vt("card-radius"),wO=vt("card-border-width","0"),EO=vt("card-border-color"),zre=Gc({container:{[_6.variable]:"colors.chakra-body-bg",backgroundColor:_6.reference,boxShadow:SO.reference,borderRadius:b5.reference,color:"chakra-body-text",borderWidth:wO.reference,borderColor:EO.reference},body:{padding:Za.reference,flex:"1 1 0%"},header:{padding:Za.reference},footer:{padding:Za.reference}}),Bre={sm:Gc({container:{[b5.variable]:"radii.base",[Za.variable]:"space.3"}}),md:Gc({container:{[b5.variable]:"radii.md",[Za.variable]:"space.5"}}),lg:Gc({container:{[b5.variable]:"radii.xl",[Za.variable]:"space.7"}})},Vre={elevated:Gc({container:{[SO.variable]:"shadows.base",_dark:{[_6.variable]:"colors.gray.700"}}}),outline:Gc({container:{[wO.variable]:"1px",[EO.variable]:"colors.chakra-border-color"}}),filled:Gc({container:{[_6.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Za.variable]:0},header:{[Za.variable]:0},footer:{[Za.variable]:0}}},Hre=Ure({baseStyle:zre,variants:Vre,sizes:Bre,defaultProps:{variant:"elevated",size:"md"}}),Q1=Vr("close-button-size"),t1=Vr("close-button-bg"),Gre={w:[Q1.reference],h:[Q1.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[t1.variable]:"colors.blackAlpha.100",_dark:{[t1.variable]:"colors.whiteAlpha.100"}},_active:{[t1.variable]:"colors.blackAlpha.200",_dark:{[t1.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:t1.reference},$re={lg:{[Q1.variable]:"sizes.10",fontSize:"md"},md:{[Q1.variable]:"sizes.8",fontSize:"xs"},sm:{[Q1.variable]:"sizes.6",fontSize:"2xs"}},Wre={baseStyle:Gre,sizes:$re,defaultProps:{size:"md"}},{variants:jre,defaultProps:qre}=Y1,Xre={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:gr.bg.reference,color:gr.color.reference,boxShadow:gr.shadow.reference},Yre={baseStyle:Xre,variants:jre,defaultProps:qre},Kre={w:"100%",mx:"auto",maxW:"prose",px:"4"},Qre={baseStyle:Kre},Zre={opacity:.6,borderColor:"inherit"},Jre={borderStyle:"solid"},eie={borderStyle:"dashed"},tie={solid:Jre,dashed:eie},nie={baseStyle:Zre,variants:tie,defaultProps:{variant:"solid"}},{definePartsStyle:rie,defineMultiStyleConfig:iie}=In(zZ.keys),sie={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},oie={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},aie={pt:"2",px:"4",pb:"5"},lie={fontSize:"1.25em"},uie=rie({container:sie,button:oie,panel:aie,icon:lie}),cie=iie({baseStyle:uie}),{definePartsStyle:G2,defineMultiStyleConfig:die}=In(BZ.keys),As=vt("alert-fg"),ol=vt("alert-bg"),hie=G2({container:{bg:ol.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:As.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:As.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Hw(t){const{theme:e,colorScheme:n}=t,r=Nf(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var fie=G2(t=>{const{colorScheme:e}=t,n=Hw(t);return{container:{[As.variable]:`colors.${e}.500`,[ol.variable]:n.light,_dark:{[As.variable]:`colors.${e}.200`,[ol.variable]:n.dark}}}}),pie=G2(t=>{const{colorScheme:e}=t,n=Hw(t);return{container:{[As.variable]:`colors.${e}.500`,[ol.variable]:n.light,_dark:{[As.variable]:`colors.${e}.200`,[ol.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:As.reference}}}),mie=G2(t=>{const{colorScheme:e}=t,n=Hw(t);return{container:{[As.variable]:`colors.${e}.500`,[ol.variable]:n.light,_dark:{[As.variable]:`colors.${e}.200`,[ol.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:As.reference}}}),gie=G2(t=>{const{colorScheme:e}=t;return{container:{[As.variable]:"colors.white",[ol.variable]:`colors.${e}.500`,_dark:{[As.variable]:"colors.gray.900",[ol.variable]:`colors.${e}.200`},color:As.reference}}}),yie={subtle:fie,"left-accent":pie,"top-accent":mie,solid:gie},vie=die({baseStyle:hie,variants:yie,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:bO,defineMultiStyleConfig:_ie}=In(VZ.keys),ff=vt("avatar-border-color"),Z1=vt("avatar-bg"),Gp=vt("avatar-font-size"),Ff=vt("avatar-size"),xie={borderRadius:"full",border:"0.2em solid",borderColor:ff.reference,[ff.variable]:"white",_dark:{[ff.variable]:"colors.gray.800"}},Sie={bg:Z1.reference,fontSize:Gp.reference,width:Ff.reference,height:Ff.reference,lineHeight:"1",[Z1.variable]:"colors.gray.200",_dark:{[Z1.variable]:"colors.whiteAlpha.400"}},wie=t=>{const{name:e,theme:n}=t,r=e?PJ({string:e}):"colors.gray.400",i=AJ(r)(n);let s="white";return i||(s="gray.800"),{bg:Z1.reference,fontSize:Gp.reference,color:s,borderColor:ff.reference,verticalAlign:"top",width:Ff.reference,height:Ff.reference,"&:not([data-loaded])":{[Z1.variable]:r},[ff.variable]:"colors.white",_dark:{[ff.variable]:"colors.gray.800"}}},Eie={fontSize:Gp.reference,lineHeight:"1"},bie=bO(t=>({badge:Wi(xie,t),excessLabel:Wi(Sie,t),container:Wi(wie,t),label:Eie}));function Rl(t){const e=t!=="100%"?pO[t]:void 0;return bO({container:{[Ff.variable]:e??t,[Gp.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[Ff.variable]:e??t,[Gp.variable]:`calc(${e??t} / 2.5)`}})}var Tie={"2xs":Rl(4),xs:Rl(6),sm:Rl(8),md:Rl(12),lg:Rl(16),xl:Rl(24),"2xl":Rl(32),full:Rl("100%")},Mie=_ie({baseStyle:bie,sizes:Tie,defaultProps:{size:"md"}}),Aie={Accordion:cie,Alert:vie,Avatar:Mie,Badge:Y1,Breadcrumb:Cre,Button:Ore,Checkbox:v6,CloseButton:Wre,Code:Yre,Container:Qre,Divider:nie,Drawer:Jne,Editable:ore,Form:hre,FormError:vre,FormLabel:xre,Heading:Ere,Input:pn,Kbd:Gte,Link:Wte,List:Kte,Menu:ane,Modal:vne,NumberInput:Ane,PinInput:Ine,Popover:Hne,Progress:Yee,Radio:lte,Select:mte,Skeleton:yte,SkipLink:_te,Slider:Rte,Spinner:kte,Stat:Vte,Switch:WJ,Table:ZJ,Tabs:fee,Tag:Mee,Textarea:Uee,Tooltip:Vee,Card:Hre,Stepper:UZ},Cie={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Pie={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},Rie="ltr",Iie={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},TO={semanticTokens:Cie,direction:Rie,...NZ,components:Aie,styles:Pie,config:Iie};function C1(t){return typeof t=="function"}function Lie(...t){return e=>t.reduce((n,r)=>r(n),e)}var kie=t=>function(...n){let r=[...n],i=n[n.length-1];return dZ(i)&&r.length>1?r=r.slice(0,r.length-1):i=t,Lie(...r.map(s=>o=>C1(s)?s(o):Nie(o,s)))(i)},Die=kie(TO);function Nie(...t){return so({},...t,MO)}function MO(t,e,n,r){if((C1(t)||C1(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=C1(t)?t(...i):t,o=C1(e)?e(...i):e;return so({},s,o,MO)}}function Fie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Oie=Fie();function Uie(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function zie(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var Bie=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},AO=Bie(zie);function CO(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var PO=t=>CO(t,e=>e!=null);function Vie(t){return typeof t=="function"}function RO(t,...e){return Vie(t)?t(...e):t}function Hie(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var Gie=typeof Element<"u",$ie=typeof Map=="function",Wie=typeof Set=="function",jie=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function T5(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!T5(t[r],e[r]))return!1;return!0}var s;if($ie&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!T5(r.value[1],e.get(r.value[0])))return!1;return!0}if(Wie&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(jie&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Gie&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!T5(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var qie=function(e,n){try{return T5(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Xie=k2(qie);function IO(t,e={}){var n;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=jK(),a=t?AO(s,`components.${t}`):void 0,l=r||a,u=so({theme:s,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},PO(Uie(i,["children"]))),c=I.useRef({});if(l){const p=uZ(l)(u);Xie(c.current,p)||(c.current=p)}return c.current}function yd(t,e={}){return IO(t,e)}function Gw(t,e={}){return IO(t,e)}var Yie=new Set([...QQ,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),Kie=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function Qie(t){return Kie.has(t)||!Yie.has(t)}function Zie(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in n&&delete n[i],n[i]=r[i]);return n}function Jie(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var ese=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tse=VF(function(t){return ese.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),nse=tse,rse=function(e){return e!=="theme"},TP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nse:rse},MP=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},ise=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return qF(n,r,i),MK(function(){return XF(n,r,i)}),null},sse=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=MP(e,n,r),l=a||TP(i),u=!l("as");return function(){var c=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var p=c.length,m=1;m<p;m++)f.push(c[m],c[0][m])}var y=ZF(function(_,x,g){var S=u&&_.as||i,w="",b=[],M=_;if(_.theme==null){M={};for(var A in _)M[A]=_[A];M.theme=I.useContext(Up)}typeof _.className=="string"?w=_K(x.registered,b,_.className):_.className!=null&&(w=_.className+" ");var R=Iw(f.concat(b),x.registered,M);w+=x.key+"-"+R.name,o!==void 0&&(w+=" "+o);var L=u&&a===void 0?TP(S):l,C={};for(var k in _)u&&k==="as"||L(k)&&(C[k]=_[k]);return C.className=w,C.ref=g,I.createElement(I.Fragment,null,I.createElement(ise,{cache:x,serialized:R,isStringTag:typeof S=="string"}),I.createElement(S,C))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=f,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(_,x){return t(_,sd({},n,x,{shouldForwardProp:MP(y,x,!0)})).apply(void 0,f)},y}},ose=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],x6=sse.bind();ose.forEach(function(t){x6[t]=x6(t)});var AP,ase=(AP=x6.default)!=null?AP:x6,lse=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=CO(o,(f,p)=>JQ(p)),l=RO(t,e),u=Zie({},i,l,PO(a),s),c=dO(u)(e.theme);return r?[c,r]:c};function Bg(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=Qie);const i=lse({baseStyle:n}),s=ase(t,r)(i);return gu.forwardRef(function(l,u){const{colorMode:c,forced:f}=Dw();return gu.createElement(s,{ref:u,"data-theme":f?c:void 0,...l})})}function use(){const t=new Map;return new Proxy(Bg,{apply(e,n,r){return Bg(...r)},get(e,n){return t.has(n)||t.set(n,Bg(n)),t.get(n)}})}var xn=use();function $n(t){return I.forwardRef(t)}function cse(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=I.createContext(void 0);i.displayName=r;function s(){var o;const a=I.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function dse(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=I.useMemo(()=>KQ(n),[n]);return z.jsxs(PK,{theme:i,children:[z.jsx(hse,{root:e}),r]})}function hse({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return z.jsx(O7,{styles:n=>({[e]:n.__cssVars})})}cse({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function fse(){const{colorMode:t}=Dw();return z.jsx(O7,{styles:e=>{const n=AO(e,"styles.global"),r=RO(n,{theme:e,colorMode:t});return r?dO(r)(e):void 0}})}var LO=I.createContext({getDocument(){return document},getWindow(){return window}});LO.displayName="EnvironmentContext";function kO(t){const{children:e,environment:n,disabled:r}=t,i=I.useRef(null),s=I.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return z.jsxs(LO.Provider,{value:s,children:[e,o&&z.jsx("span",{id:"__chakra_env",hidden:!0,ref:i})]})}kO.displayName="EnvironmentProvider";var pse=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:i,resetCSS:s=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:u,disableGlobalStyle:c}=t,f=z.jsx(kO,{environment:a,disabled:u,children:e});return z.jsx(dse,{theme:o,cssVarsRoot:l,children:z.jsxs(iO,{colorModeManager:n,options:o.config,children:[s?z.jsx(kK,{scope:i}):z.jsx(LK,{}),!c&&z.jsx(fse,{}),r?z.jsx(tO,{zIndex:r,children:f}):f]})})},mse=(t,e)=>t.find(n=>n.id===e);function CP(t,e){const n=DO(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function DO(t,e){for(const[n,r]of Object.entries(t))if(mse(r,e))return n}function gse(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function yse(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}function M5(t,e=[]){const n=I.useRef(t);return I.useEffect(()=>{n.current=t}),I.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function vse(t,e){const n=M5(t);I.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function PP(t,e){const n=I.useRef(!1),r=I.useRef(!1);I.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),I.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const NO=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),H7=I.createContext({}),$2=I.createContext(null),G7=typeof document<"u",S6=G7?I.useLayoutEffect:I.useEffect,FO=I.createContext({strict:!1});function _se(t,e,n,r){const{visualElement:i}=I.useContext(H7),s=I.useContext(FO),o=I.useContext($2),a=I.useContext(NO).reducedMotion,l=I.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return I.useInsertionEffect(()=>{u&&u.update(n,o)}),S6(()=>{u&&u.render()}),I.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?S6:I.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Wh(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xse(t,e,n){return I.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wh(n)&&(n.current=r))},[e])}function $p(t){return typeof t=="string"||Array.isArray(t)}function $7(t){return typeof t=="object"&&typeof t.start=="function"}const $w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...$w];function W7(t){return $7(t.animate)||Ww.some(e=>$p(t[e]))}function OO(t){return!!(W7(t)||t.variants)}function Sse(t,e){if(W7(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$p(n)?n:void 0,animate:$p(r)?r:void 0}}return t.inherit!==!1?e:{}}function wse(t){const{initial:e,animate:n}=Sse(t,I.useContext(H7));return I.useMemo(()=>({initial:e,animate:n}),[RP(e),RP(n)])}function RP(t){return Array.isArray(t)?t.join(" "):t}const IP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wp={};for(const t in IP)Wp[t]={isEnabled:e=>IP[t].some(n=>!!e[n])};function Ese(t){for(const e in t)Wp[e]={...Wp[e],...t[e]}}const jw=I.createContext({}),UO=I.createContext({}),bse=Symbol.for("motionComponentSymbol");function Tse({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Ese(t);function s(a,l){let u;const c={...I.useContext(NO),...a,layoutId:Mse(a)},{isStatic:f}=c,p=wse(a),m=r(a,f);if(!f&&G7){p.visualElement=_se(i,m,c,e);const y=I.useContext(UO),_=I.useContext(FO).strict;p.visualElement&&(u=p.visualElement.loadFeatures(c,_,t,y))}return I.createElement(H7.Provider,{value:p},u&&p.visualElement?I.createElement(u,{visualElement:p.visualElement,...c}):null,n(i,a,xse(m,p.visualElement,l),m,f,p.visualElement))}const o=I.forwardRef(s);return o[bse]=i,o}function Mse({layoutId:t}){const e=I.useContext(jw).id;return e&&t!==void 0?e+"-"+t:t}function Ase(t){function e(r,i={}){return Tse(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Cse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qw(t){return typeof t!="string"||t.includes("-")?!1:!!(Cse.indexOf(t)>-1||/[A-Z]/.test(t))}const w6={};function Pse(t){Object.assign(w6,t)}const W2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vd=new Set(W2);function zO(t,{layout:e,layoutId:n}){return vd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!w6[t]||t==="opacity")}const ls=t=>!!(t&&t.getVelocity),Rse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ise=W2.length;function Lse(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Ise;o++){const a=W2[o];if(t[a]!==void 0){const l=Rse[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const BO=t=>e=>typeof e=="string"&&e.startsWith(t),VO=BO("--"),w_=BO("var(--"),kse=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Dse=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_u=(t,e,n)=>Math.min(Math.max(n,t),e),_d={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},J1={..._d,transform:t=>_u(0,1,t)},qm={..._d,default:1},ep=t=>Math.round(t*1e5)/1e5,j7=/(-)?([\d]*\.?[\d])+/g,HO=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Nse=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function j2(t){return typeof t=="string"}const q2=t=>({test:e=>j2(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fl=q2("deg"),da=q2("%"),xt=q2("px"),Fse=q2("vh"),Ose=q2("vw"),LP={...da,parse:t=>da.parse(t)/100,transform:t=>da.transform(t*100)},kP={..._d,transform:Math.round},GO={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,size:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,rotate:Fl,rotateX:Fl,rotateY:Fl,rotateZ:Fl,scale:qm,scaleX:qm,scaleY:qm,scaleZ:qm,skew:Fl,skewX:Fl,skewY:Fl,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:J1,originX:LP,originY:LP,originZ:xt,zIndex:kP,fillOpacity:J1,strokeOpacity:J1,numOctaves:kP};function Xw(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const f in e){const p=e[f];if(VO(f)){s[f]=p;continue}const m=GO[f],y=Dse(p,m);if(vd.has(f)){if(l=!0,o[f]=y,!c)continue;p!==(m.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=y):i[f]=y}if(e.transform||(l||r?i.transform=Lse(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${p} ${m}`}}const Yw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $O(t,e,n){for(const r in e)!ls(e[r])&&!zO(r,n)&&(t[r]=e[r])}function Use({transformTemplate:t},e,n){return I.useMemo(()=>{const r=Yw();return Xw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zse(t,e,n){const r=t.style||{},i={};return $O(i,r,t),Object.assign(i,Use(t,e,n)),t.transformValues?t.transformValues(i):i}function Bse(t,e,n){const r={},i=zse(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Vse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function E6(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Vse.has(t)}let WO=t=>!E6(t);function Hse(t){t&&(WO=e=>e.startsWith("on")?!E6(e):t(e))}try{Hse(require("@emotion/is-prop-valid").default)}catch{}function Gse(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(WO(i)||n===!0&&E6(i)||!e&&!E6(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function DP(t,e,n){return typeof t=="string"?t:xt.transform(e+n*t)}function $se(t,e,n){const r=DP(e,t.x,t.width),i=DP(n,t.y,t.height);return`${r} ${i}`}const Wse={offset:"stroke-dashoffset",array:"stroke-dasharray"},jse={offset:"strokeDashoffset",array:"strokeDasharray"};function qse(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Wse:jse;t[s.offset]=xt.transform(-r);const o=xt.transform(e),a=xt.transform(n);t[s.array]=`${o} ${a}`}function Kw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f,p){if(Xw(t,u,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:_}=t;m.transform&&(_&&(y.transform=m.transform),delete m.transform),_&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=$se(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&qse(m,o,a,l,!1)}const jO=()=>({...Yw(),attrs:{}}),Qw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Xse(t,e,n,r){const i=I.useMemo(()=>{const s=jO();return Kw(s,e,{enableHardwareAcceleration:!1},Qw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$O(s,t.style,t),i.style={...s,...i.style}}return i}function Yse(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(qw(n)?Xse:Bse)(r,s,o,n),c={...Gse(r,typeof n=="string",t),...l,ref:i},{children:f}=r,p=I.useMemo(()=>ls(f)?f.get():f,[f]);return I.createElement(n,{...c,children:p})}}const Zw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function qO(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const XO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YO(t,e,n,r){qO(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(XO.has(i)?i:Zw(i),e.attrs[i])}function Jw(t,e){const{style:n}=t,r={};for(const i in n)(ls(n[i])||e.style&&ls(e.style[i])||zO(i,t))&&(r[i]=n[i]);return r}function KO(t,e){const n=Jw(t,e);for(const r in t)if(ls(t[r])||ls(e[r])){const i=W2.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function eE(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function QO(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const b6=t=>Array.isArray(t),Kse=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Qse=t=>b6(t)?t[t.length-1]||0:t;function A5(t){const e=ls(t)?t.get():t;return Kse(e)?e.toValue():e}function Zse({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Jse(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const ZO=t=>(e,n)=>{const r=I.useContext(H7),i=I.useContext($2),s=()=>Zse(t,e,r,i);return n?s():QO(s)};function Jse(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=A5(s[p]);let{initial:o,animate:a}=t;const l=W7(t),u=OO(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!$7(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=eE(t,m);if(!y)return;const{transitionEnd:_,transition:x,...g}=y;for(const S in g){let w=g[S];if(Array.isArray(w)){const b=c?w.length-1:0;w=w[b]}w!==null&&(i[S]=w)}for(const S in _)i[S]=_[S]}),i}const eoe={useVisualState:ZO({scrapeMotionValuesFromProps:KO,createRenderState:jO,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Kw(n,r,{enableHardwareAcceleration:!1},Qw(e.tagName),t.transformTemplate),YO(e,n)}})},toe={useVisualState:ZO({scrapeMotionValuesFromProps:Jw,createRenderState:Yw})};function noe(t,{forwardMotionProps:e=!1},n,r){return{...qw(t)?eoe:toe,preloadedFeatures:n,useRender:Yse(e),createVisualElement:r,Component:t}}function qa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const JO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function q7(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const roe=t=>e=>JO(e)&&t(e,q7(e));function Ja(t,e,n,r){return qa(t,e,roe(n),r)}const ioe=(t,e)=>n=>e(t(n)),au=(...t)=>t.reduce(ioe);function eU(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const NP=eU("dragHorizontal"),FP=eU("dragVertical");function tU(t){let e=!1;if(t==="y")e=FP();else if(t==="x")e=NP();else{const n=NP(),r=FP();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function nU(){const t=tU(!0);return t?(t(),!1):!0}class Lu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function soe(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,p=f?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const qn={delta:0,timestamp:0,isProcessing:!1},ooe=40;let E_=!0,jp=!1;const X7=["read","update","preRender","render","postRender"],pf=X7.reduce((t,e)=>(t[e]=soe(()=>jp=!0),t),{}),aoe=t=>pf[t].process(qn),rU=t=>{jp=!1,qn.delta=E_?1e3/60:Math.max(Math.min(t-qn.timestamp,ooe),1),qn.timestamp=t,qn.isProcessing=!0,X7.forEach(aoe),qn.isProcessing=!1,jp&&(E_=!1,requestAnimationFrame(rU))},loe=()=>{jp=!0,E_=!0,qn.isProcessing||requestAnimationFrame(rU)},Hn=X7.reduce((t,e)=>{const n=pf[e];return t[e]=(r,i=!1,s=!1)=>(jp||loe(),n.schedule(r,i,s)),t},{});function al(t){X7.forEach(e=>pf[e].cancel(t))}function OP(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||nU())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Hn.update(()=>a[r](s,o))};return Ja(t.current,n,i,{passive:!t.getProps()[r]})}class uoe extends Lu{mount(){this.unmount=au(OP(this.node,!0),OP(this.node,!1))}unmount(){}}class coe extends Lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=au(qa(this.node.current,"focus",()=>this.onFocus()),qa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const iU=(t,e)=>e?t===e?!0:iU(t,e.parentElement):!1,Dr=t=>t;function Vg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,q7(n))}class doe extends Lu{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Ja(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Hn.update(()=>{iU(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ja(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=au(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Vg("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Hn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=qa(this.node.current,"keyup",o),Vg("down",(a,l)=>{this.startPress(a,l)})},n=qa(this.node.current,"keydown",e),r=()=>{this.isPressing&&Vg("cancel",(s,o)=>this.cancelPress(s,o))},i=qa(this.node.current,"blur",r);this.removeAccessibleListeners=au(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Hn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nU()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Hn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ja(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=qa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=au(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const b_=new WeakMap,Hg=new WeakMap,hoe=t=>{const e=b_.get(t.target);e&&e(t)},foe=t=>{t.forEach(hoe)};function poe({root:t,...e}){const n=t||document;Hg.has(n)||Hg.set(n,{});const r=Hg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(foe,{root:t,...e})),r[i]}function moe(t,e,n){const r=poe(e);return b_.set(t,n),r.observe(t),()=>{b_.delete(t),r.unobserve(t)}}const goe={some:0,all:1};class yoe extends Lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:goe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),p=u?c:f;p&&p(l)};return moe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(voe(e,n))&&this.startObserver()}unmount(){}}function voe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _oe={inView:{Feature:yoe},tap:{Feature:doe},focus:{Feature:coe},hover:{Feature:uoe}};function sU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xoe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Soe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Y7(t,e,n){const r=t.getProps();return eE(r,e,n!==void 0?n:r.custom,xoe(t),Soe(t))}const woe="framerAppearId",Eoe="data-"+Zw(woe);let boe=Dr,tE=Dr;const lu=t=>t*1e3,el=t=>t/1e3,Toe={current:!1},oU=t=>Array.isArray(t)&&typeof t[0]=="number";function aU(t){return!!(!t||typeof t=="string"&&lU[t]||oU(t)||Array.isArray(t)&&t.every(aU))}const P1=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:P1([0,.65,.55,1]),circOut:P1([.55,0,1,.45]),backIn:P1([.31,.01,.66,-.59]),backOut:P1([.33,1.53,.69,.99])};function uU(t){if(t)return oU(t)?P1(t):Array.isArray(t)?t.map(uU):lU[t]}function Moe(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=uU(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const UP={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Gg={},cU={};for(const t in UP)cU[t]=()=>(Gg[t]===void 0&&(Gg[t]=UP[t]()),Gg[t]);function Aoe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const dU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Coe=1e-7,Poe=12;function Roe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=dU(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Coe&&++a<Poe);return o}function X2(t,e,n,r){if(t===e&&n===r)return Dr;const i=s=>Roe(s,0,1,t,n);return s=>s===0||s===1?s:dU(i(s),e,r)}const Ioe=X2(.42,0,1,1),Loe=X2(0,0,.58,1),hU=X2(.42,0,.58,1),koe=t=>Array.isArray(t)&&typeof t[0]!="number",fU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pU=t=>e=>1-t(1-e),mU=t=>1-Math.sin(Math.acos(t)),nE=pU(mU),Doe=fU(nE),gU=X2(.33,1.53,.69,.99),rE=pU(gU),Noe=fU(rE),Foe=t=>(t*=2)<1?.5*rE(t):.5*(2-Math.pow(2,-10*(t-1))),Ooe={linear:Dr,easeIn:Ioe,easeInOut:hU,easeOut:Loe,circIn:mU,circInOut:Doe,circOut:nE,backIn:rE,backInOut:Noe,backOut:gU,anticipate:Foe},zP=t=>{if(Array.isArray(t)){tE(t.length===4);const[e,n,r,i]=t;return X2(e,n,r,i)}else if(typeof t=="string")return Ooe[t];return t},iE=(t,e)=>n=>!!(j2(n)&&Nse.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),yU=(t,e,n)=>r=>{if(!j2(r))return r;const[i,s,o,a]=r.match(j7);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Uoe=t=>_u(0,255,t),$g={..._d,transform:t=>Math.round(Uoe(t))},Mc={test:iE("rgb","red"),parse:yU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+ep(J1.transform(r))+")"};function zoe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const T_={test:iE("#"),parse:zoe,transform:Mc.transform},jh={test:iE("hsl","hue"),parse:yU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+da.transform(ep(e))+", "+da.transform(ep(n))+", "+ep(J1.transform(r))+")"},zi={test:t=>Mc.test(t)||T_.test(t)||jh.test(t),parse:t=>Mc.test(t)?Mc.parse(t):jh.test(t)?jh.parse(t):T_.parse(t),transform:t=>j2(t)?t:t.hasOwnProperty("red")?Mc.transform(t):jh.transform(t)},Yn=(t,e,n)=>-n*t+n*e+t;function Wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Boe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Wg(l,a,t+1/3),s=Wg(l,a,t),o=Wg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const jg=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Voe=[T_,Mc,jh],Hoe=t=>Voe.find(e=>e.test(t));function BP(t){const e=Hoe(t);let n=e.parse(t);return e===jh&&(n=Boe(n)),n}const vU=(t,e)=>{const n=BP(t),r=BP(e),i={...n};return s=>(i.red=jg(n.red,r.red,s),i.green=jg(n.green,r.green,s),i.blue=jg(n.blue,r.blue,s),i.alpha=Yn(n.alpha,r.alpha,s),Mc.transform(i))};function Goe(t){var e,n;return isNaN(t)&&j2(t)&&(((e=t.match(j7))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HO))===null||n===void 0?void 0:n.length)||0)>0}const _U={regex:kse,countKey:"Vars",token:"${v}",parse:Dr},xU={regex:HO,countKey:"Colors",token:"${c}",parse:zi.parse},SU={regex:j7,countKey:"Numbers",token:"${n}",parse:_d.parse};function qg(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function T6(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&qg(n,_U),qg(n,xU),qg(n,SU),n}function wU(t){return T6(t).values}function EU(t){const{values:e,numColors:n,numVars:r,tokenised:i}=T6(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(_U.token,o[l]):l<r+n?a=a.replace(xU.token,zi.transform(o[l])):a=a.replace(SU.token,ep(o[l]));return a}}const $oe=t=>typeof t=="number"?0:t;function Woe(t){const e=wU(t);return EU(t)(e.map($oe))}const xu={test:Goe,parse:wU,createTransformer:EU,getAnimatableNone:Woe},bU=(t,e)=>n=>`${n>0?e:t}`;function TU(t,e){return typeof t=="number"?n=>Yn(t,e,n):zi.test(t)?vU(t,e):t.startsWith("var(")?bU(t,e):AU(t,e)}const MU=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>TU(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},joe=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=TU(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},AU=(t,e)=>{const n=xu.createTransformer(e),r=T6(t),i=T6(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?au(MU(r.values,i.values),n):bU(t,e)},qp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},VP=(t,e)=>n=>Yn(t,e,n);function qoe(t){return typeof t=="number"?VP:typeof t=="string"?zi.test(t)?vU:AU:Array.isArray(t)?MU:typeof t=="object"?joe:VP}function Xoe(t,e,n){const r=[],i=n||qoe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Dr:e;a=au(l,a)}r.push(a)}return r}function CU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(tE(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Xoe(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=qp(t[c],t[c+1],u);return o[c](f)};return n?u=>l(_u(t[0],t[s-1],u)):l}function Yoe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qp(0,e,r);t.push(Yn(n,1,i))}}function Koe(t){const e=[0];return Yoe(e,t.length-1),e}function Qoe(t,e){return t.map(n=>n*e)}function Zoe(t,e){return t.map(()=>e||hU).splice(0,t.length-1)}function M6({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=koe(r)?r.map(zP):zP(r),s={done:!1,value:e[0]},o=Qoe(n&&n.length===e.length?n:Koe(e),t),a=CU(o,e,{ease:Array.isArray(i)?i:Zoe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function PU(t,e){return e?t*(1e3/e):0}const Joe=5;function RU(t,e,n){const r=Math.max(e-Joe,0);return PU(n-t(r),e-r)}const Xg=.001,eae=.01,HP=10,tae=.05,nae=1;function rae({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;boe(t<=lu(HP));let o=1-e;o=_u(tae,nae,o),t=_u(eae,HP,el(t)),o<1?(i=u=>{const c=u*o,f=c*t,p=c-n,m=M_(u,o),y=Math.exp(-f);return Xg-p/m*y},s=u=>{const f=u*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),_=M_(Math.pow(u,2),o);return(-i(u)+Xg>0?-1:1)*((p-m)*y)/_}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Xg+c*f},s=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=sae(i,s,a);if(t=lu(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const iae=12;function sae(t,e,n){let r=n;for(let i=1;i<iae;i++)r=r-t(r)/e(r);return r}function M_(t,e){return t*Math.sqrt(1-e*e)}const oae=["duration","bounce"],aae=["stiffness","damping","mass"];function GP(t,e){return e.some(n=>t[n]!==void 0)}function lae(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!GP(t,aae)&&GP(t,oae)){const n=rae(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function IU({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:p}=lae(r),m=c?-el(c):0,y=l/(2*Math.sqrt(a*u)),_=s-i,x=el(Math.sqrt(a/u)),g=Math.abs(_)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let S;if(y<1){const w=M_(x,y);S=b=>{const M=Math.exp(-y*x*b);return s-M*((m+y*x*_)/w*Math.sin(w*b)+_*Math.cos(w*b))}}else if(y===1)S=w=>s-Math.exp(-x*w)*(_+(m+x*_)*w);else{const w=x*Math.sqrt(y*y-1);S=b=>{const M=Math.exp(-y*x*b),A=Math.min(w*b,300);return s-M*((m+y*x*_)*Math.sinh(A)+w*_*Math.cosh(A))/w}}return{calculatedDuration:p&&f||null,next:w=>{const b=S(w);if(p)o.done=w>=f;else{let M=m;w!==0&&(y<1?M=RU(S,w,b):M=0);const A=Math.abs(M)<=n,R=Math.abs(s-b)<=e;o.done=A&&R}return o.value=o.done?s:b,o}}}function $P({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],p={done:!1,value:f},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,y=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let _=n*e;const x=f+_,g=o===void 0?x:o(x);g!==x&&(_=g-f);const S=L=>-_*Math.exp(-L/r),w=L=>g+S(L),b=L=>{const C=S(L),k=w(L);p.done=Math.abs(C)<=u,p.value=p.done?g:k};let M,A;const R=L=>{m(p.value)&&(M=L,A=IU({keyframes:[p.value,y(p.value)],velocity:RU(w,L,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:L=>{let C=!1;return!A&&M===void 0&&(C=!0,b(L),R(L)),M!==void 0&&L>M?A.next(L-M):(!C&&b(L),p)}}}const uae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Hn.update(e,!0),stop:()=>al(e),now:()=>qn.isProcessing?qn.timestamp:performance.now()}},WP=2e4;function jP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<WP;)e+=n,r=t.next(e);return e>=WP?1/0:e}const cae={decay:$P,inertia:$P,tween:M6,keyframes:M6,spring:IU};function A6({autoplay:t=!0,delay:e=0,driver:n=uae,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...p}){let m=1,y=!1,_,x;const g=()=>{_&&_(),x=new Promise(ae=>{_=ae})};g();let S;const w=cae[i]||M6;let b;w!==M6&&typeof r[0]!="number"&&(b=CU([0,100],r,{clamp:!1}),r=[0,100]);const M=w({...p,keyframes:r});let A;a==="mirror"&&(A=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let R="idle",L=null,C=null,k=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=jP(M));const{calculatedDuration:$}=M;let ee=1/0,q=1/0;$!==null&&(ee=$+o,q=ee*(s+1)-o);let Z=0;const ie=ae=>{if(C===null)return;m>0&&(C=Math.min(C,ae)),m<0&&(C=Math.min(ae-q/m,C)),L!==null?Z=L:Z=Math.round(ae-C)*m;const ce=Z-e*(m>=0?1:-1),re=m>=0?ce<0:ce>q;Z=Math.max(ce,0),R==="finished"&&L===null&&(Z=q);let he=Z,Pe=M;if(s){const nt=Z/ee;let Re=Math.floor(nt),He=nt%1;!He&&nt>=1&&(He=1),He===1&&Re--,Re=Math.min(Re,s+1);const Te=!!(Re%2);Te&&(a==="reverse"?(He=1-He,o&&(He-=o/ee)):a==="mirror"&&(Pe=A));let ve=_u(0,1,He);Z>q&&(ve=a==="reverse"&&Te?1:0),he=ve*ee}const Ae=re?{done:!1,value:r[0]}:Pe.next(he);b&&(Ae.value=b(Ae.value));let{done:j}=Ae;!re&&$!==null&&(j=m>=0?Z>=q:Z<=0);const Ze=L===null&&(R==="finished"||R==="running"&&j);return f&&f(Ae.value),Ze&&G(),Ae},fe=()=>{S&&S.stop(),S=void 0},me=()=>{R="idle",fe(),g(),C=k=null},G=()=>{R="finished",c&&c(),fe(),g()},Y=()=>{if(y)return;S||(S=n(ie));const ae=S.now();l&&l(),L!==null?C=ae-L:(!C||R==="finished")&&(C=ae),k=C,L=null,R="running",S.start()};t&&Y();const X={then(ae,ce){return x.then(ae,ce)},get time(){return el(Z)},set time(ae){ae=lu(ae),Z=ae,L!==null||!S||m===0?L=ae:C=S.now()-ae/m},get duration(){const ae=M.calculatedDuration===null?jP(M):M.calculatedDuration;return el(ae)},get speed(){return m},set speed(ae){ae===m||!S||(m=ae,X.time=el(Z))},get state(){return R},play:Y,pause:()=>{R="paused",L=Z},stop:()=>{y=!0,R!=="idle"&&(R="idle",u&&u(),me())},cancel:()=>{k!==null&&ie(k),me()},complete:()=>{R="finished"},sample:ae=>(C=0,ie(ae))};return X}const dae=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Xm=10,hae=2e4,fae=(t,e)=>e.type==="spring"||t==="backgroundColor"||!aU(e.ease);function pae(t,e,{onUpdate:n,onComplete:r,...i}){if(!(cU.waapi()&&dae.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:c,duration:f=300,ease:p,times:m}=i;if(fae(e,i)){const g=A6({...i,repeat:0,delay:0});let S={done:!1,value:c[0]};const w=[];let b=0;for(;!S.done&&b<hae;)S=g.sample(b),w.push(S.value),b+=Xm;m=void 0,c=w,f=b-Xm,p="linear"}const y=Moe(t.owner.current,e,c,{...i,duration:f,ease:p,times:m}),_=()=>y.cancel(),x=()=>{Hn.update(_),a(),u()};return y.onfinish=()=>{t.set(Aoe(c,i)),r&&r(),x()},{then(g,S){return l.then(g,S)},get time(){return el(y.currentTime||0)},set time(g){y.currentTime=lu(g)},get speed(){return y.playbackRate},set speed(g){y.playbackRate=g},get duration(){return el(f)},play:()=>{o||(y.play(),al(_))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:g}=y;if(g){const S=A6({...i,autoplay:!1});t.setWithVelocity(S.sample(g-Xm).value,S.sample(g).value,Xm)}x()},complete:()=>y.finish(),cancel:x}}function mae({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Dr,pause:Dr,stop:Dr,then:s=>(s(),Promise.resolve()),cancel:Dr,complete:Dr});return e?A6({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const gae={type:"spring",stiffness:500,damping:25,restSpeed:10},yae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vae={type:"keyframes",duration:.8},_ae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xae=(t,{keyframes:e})=>e.length>2?vae:vd.has(t)?t.startsWith("scale")?yae(e[1]):gae:_ae,A_=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xu.test(e)||e==="0")&&!e.startsWith("url(")),Sae=new Set(["brightness","contrast","saturate","opacity"]);function wae(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(j7)||[];if(!r)return t;const i=n.replace(r,"");let s=Sae.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Eae=/([a-z-]*)\(.*?\)/g,C_={...xu,getAnimatableNone:t=>{const e=t.match(Eae);return e?e.map(wae).join(" "):t}},bae={...GO,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:C_,WebkitFilter:C_},sE=t=>bae[t];function LU(t,e){let n=sE(t);return n!==C_&&(n=xu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kU=t=>/^0[^.\s]+$/.test(t);function Tae(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||kU(t)}function Mae(t,e,n,r){const i=A_(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),Tae(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=LU(e,a)}return s}function Aae({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function DU(t,e){return t[e]||t.default||t}const oE=(t,e,n,r={})=>i=>{const s=DU(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-lu(o);const l=Mae(e,t,n,s),u=l[0],c=l[l.length-1],f=A_(t,u),p=A_(t,c);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Aae(s)||(m={...m,...xae(t,m)}),m.duration&&(m.duration=lu(m.duration)),m.repeatDelay&&(m.repeatDelay=lu(m.repeatDelay)),!f||!p||Toe.current||s.type===!1)return mae(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=pae(e,t,m);if(y)return y}return A6(m)};function C6(t){return!!(ls(t)&&t.add)}const Cae=t=>/^\-?\d*\.?\d+$/.test(t);function aE(t,e){t.indexOf(e)===-1&&t.push(e)}function lE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uE{constructor(){this.subscriptions=[]}add(e){return aE(this.subscriptions,e),()=>lE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pae=t=>!isNaN(parseFloat(t));class Rae{constructor(e,n={}){this.version="10.12.18",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=qn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Hn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Hn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Pae(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Hn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PU(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Of(t,e){return new Rae(t,e)}const NU=t=>e=>e.test(t),Iae={test:t=>t==="auto",parse:t=>t},FU=[_d,xt,da,Fl,Ose,Fse,Iae],n1=t=>FU.find(NU(t)),Lae=[...FU,zi,xu],kae=t=>Lae.find(NU(t));function Dae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Of(n))}function Nae(t,e){const n=Y7(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Qse(s[o]);Dae(t,o,a)}}function Fae(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Cae(c)||kU(c))?c=parseFloat(c):!kae(c)&&xu.test(u)&&(c=LU(l,u)),t.addValue(l,Of(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function Oae(t,e){return e?(e[t]||e.default||e).from:void 0}function Uae(t,e,n){const r={};for(const i in t){const s=Oae(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function zae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OU(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f),m=a[f];if(!p||m===void 0||c&&zae(c,f))continue;const y={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=t.getProps()[Eoe];x&&(y.elapsed=window.HandoffAppearAnimations(x,f,p,Hn))}p.start(oE(f,p,m,t.shouldReduceMotion&&vd.has(f)?{type:!1}:y));const _=p.animation;C6(l)&&(l.add(f),_.then(()=>l.remove(f))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&Nae(t,o)}),u}function P_(t,e,n={}){const r=Y7(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(OU(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return Bae(t,e,u+l,c,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function Bae(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Vae).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(P_(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Vae(t,e){return t.sortNodePosition(e)}function Hae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>P_(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=P_(t,e,n);else{const i=typeof e=="function"?Y7(t,e,n.custom):e;r=Promise.all(OU(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Gae=[...$w].reverse(),$ae=$w.length;function Wae(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Hae(t,n,r)))}function jae(t){let e=Wae(t);const n=Xae();let r=!0;const i=(l,u)=>{const c=Y7(t,u);if(c){const{transition:f,transitionEnd:p,...m}=c;l={...l,...m,...p}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let y={},_=1/0;for(let g=0;g<$ae;g++){const S=Gae[g],w=n[S],b=c[S]!==void 0?c[S]:f[S],M=$p(b),A=S===u?w.isActive:null;A===!1&&(_=g);let R=b===f[S]&&b!==c[S]&&M;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...y},!w.isActive&&A===null||!b&&!w.prevProp||$7(b)||typeof b=="boolean")continue;const L=qae(w.prevProp,b);let C=L||S===u&&w.isActive&&!R&&M||g>_&&M;const k=Array.isArray(b)?b:[b];let $=k.reduce(i,{});A===!1&&($={});const{prevResolvedValues:ee={}}=w,q={...ee,...$},Z=ie=>{C=!0,m.delete(ie),w.needsAnimating[ie]=!0};for(const ie in q){const fe=$[ie],me=ee[ie];y.hasOwnProperty(ie)||(fe!==me?b6(fe)&&b6(me)?!sU(fe,me)||L?Z(ie):w.protectedKeys[ie]=!0:fe!==void 0?Z(ie):m.add(ie):fe!==void 0&&m.has(ie)?Z(ie):w.protectedKeys[ie]=!0)}w.prevProp=b,w.prevResolvedValues=$,w.isActive&&(y={...y,...$}),r&&t.blockInitialAnimation&&(C=!1),C&&!R&&p.push(...k.map(ie=>({animation:ie,options:{type:S,...l}})))}if(m.size){const g={};m.forEach(S=>{const w=t.getBaseTarget(S);w!==void 0&&(g[S]=w)}),p.push({animation:g})}let x=!!p.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const p=o(c,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function qae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sU(e,t):!1}function ec(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xae(){return{animate:ec(!0),whileInView:ec(),whileHover:ec(),whileTap:ec(),whileDrag:ec(),whileFocus:ec(),exit:ec()}}class Yae extends Lu{constructor(e){super(e),e.animationState||(e.animationState=jae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),$7(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Kae=0;class Qae extends Lu{constructor(){super(...arguments),this.id=Kae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Zae={animation:{Feature:Yae},exit:{Feature:Qae}},qP=(t,e)=>Math.abs(t-e);function Jae(t,e){const n=qP(t.x,e.x),r=qP(t.y,e.y);return Math.sqrt(n**2+r**2)}class UU{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Kg(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=Jae(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:p}=u,{timestamp:m}=qn;this.history.push({...p,timestamp:m});const{onStart:y,onMove:_}=this.handlers;c||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Yg(c,this.transformPagePoint),Hn.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=Kg(u.type==="pointercancel"?this.lastMoveEventInfo:Yg(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!JO(e))return;this.handlers=n,this.transformPagePoint=r;const i=q7(e),s=Yg(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=qn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Kg(s,this.history)),this.removeListeners=au(Ja(window,"pointermove",this.handlePointerMove),Ja(window,"pointerup",this.handlePointerUp),Ja(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),al(this.updatePoint)}}function Yg(t,e){return e?{point:e(t.point)}:t}function XP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kg({point:t},e){return{point:t,delta:XP(t,zU(e)),offset:XP(t,ele(e)),velocity:tle(e,.1)}}function ele(t){return t[0]}function zU(t){return t[t.length-1]}function tle(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=zU(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>lu(e)));)n--;if(!r)return{x:0,y:0};const s=el(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rs(t){return t.max-t.min}function R_(t,e=0,n=.01){return Math.abs(t-e)<=n}function YP(t,e,n,r=.5){t.origin=r,t.originPoint=Yn(e.min,e.max,t.origin),t.scale=Rs(n)/Rs(e),(R_(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Yn(n.min,n.max,t.origin)-t.originPoint,(R_(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tp(t,e,n,r){YP(t.x,e.x,n.x,r?r.originX:void 0),YP(t.y,e.y,n.y,r?r.originY:void 0)}function KP(t,e,n){t.min=n.min+e.min,t.max=t.min+Rs(e)}function nle(t,e,n){KP(t.x,e.x,n.x),KP(t.y,e.y,n.y)}function QP(t,e,n){t.min=e.min-n.min,t.max=t.min+Rs(e)}function np(t,e,n){QP(t.x,e.x,n.x),QP(t.y,e.y,n.y)}function rle(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Yn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Yn(n,t,r.max):Math.min(t,n)),t}function ZP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ile(t,{top:e,left:n,bottom:r,right:i}){return{x:ZP(t.x,n,i),y:ZP(t.y,e,r)}}function JP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sle(t,e){return{x:JP(t.x,e.x),y:JP(t.y,e.y)}}function ole(t,e){let n=.5;const r=Rs(t),i=Rs(e);return i>r?n=qp(e.min,e.max-r,t.min):r>i&&(n=qp(t.min,t.max-i,e.min)),_u(0,1,n)}function ale(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const I_=.35;function lle(t=I_){return t===!1?t=0:t===!0&&(t=I_),{x:eR(t,"left","right"),y:eR(t,"top","bottom")}}function eR(t,e,n){return{min:tR(t,e),max:tR(t,n)}}function tR(t,e){return typeof t=="number"?t:t[e]||0}const nR=()=>({translate:0,scale:1,origin:0,originPoint:0}),qh=()=>({x:nR(),y:nR()}),rR=()=>({min:0,max:0}),wr=()=>({x:rR(),y:rR()});function Ko(t){return[t("x"),t("y")]}function BU({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ule({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cle(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qg(t){return t===void 0||t===1}function L_({scale:t,scaleX:e,scaleY:n}){return!Qg(t)||!Qg(e)||!Qg(n)}function dc(t){return L_(t)||VU(t)||t.z||t.rotate||t.rotateX||t.rotateY}function VU(t){return iR(t.x)||iR(t.y)}function iR(t){return t&&t!=="0%"}function P6(t,e,n){const r=t-n,i=e*r;return n+i}function sR(t,e,n,r,i){return i!==void 0&&(t=P6(t,i,r)),P6(t,n,r)+e}function k_(t,e=0,n=1,r,i){t.min=sR(t.min,e,n,r,i),t.max=sR(t.max,e,n,r,i)}function HU(t,{x:e,y:n}){k_(t.x,e.translate,e.scale,e.originPoint),k_(t.y,n.translate,n.scale,n.originPoint)}function dle(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HU(t,o)),r&&dc(s.latestValues)&&Xh(t,s.latestValues))}e.x=oR(e.x),e.y=oR(e.y)}function oR(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zl(t,e){t.min=t.min+e,t.max=t.max+e}function aR(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Yn(t.min,t.max,s);k_(t,e[n],e[r],o,e.scale)}const hle=["x","scaleX","originX"],fle=["y","scaleY","originY"];function Xh(t,e){aR(t.x,e,hle),aR(t.y,e,fle)}function GU(t,e){return BU(cle(t.getBoundingClientRect(),e))}function ple(t,e,n){const r=GU(t,n),{scroll:i}=e;return i&&(zl(r.x,i.offset.x),zl(r.y,i.offset.y)),r}const mle=new WeakMap;class gle{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(q7(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:p}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tU(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ko(y=>{let _=this.getAxisMotionValue(y).get()||0;if(da.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[y];g&&(_=Rs(g)*(parseFloat(_)/100))}}this.originPoint[y]=_}),p&&Hn.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:y}=u;if(f&&this.currentDirection===null){this.currentDirection=yle(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new UU(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Hn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ym(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=rle(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Wh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ile(r.layoutBox,e):this.constraints=!1,this.elastic=lle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ko(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ale(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ple(r,i.root,this.visualElement.getTransformPagePoint());let o=sle(i.layout.layoutBox,s);if(n){const a=n(ule(o));this.hasMutatedConstraints=!!a,a&&(o=BU(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ko(c=>{if(!Ym(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(oE(e,r,0,n))}stopAnimation(){Ko(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ko(n=>{const{drag:r}=this.getProps();if(!Ym(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Yn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ko(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=ole({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ko(o=>{if(!Ym(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Yn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;mle.set(this.visualElement,this);const e=this.visualElement.current,n=Ja(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wh(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=qa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ko(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=I_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yle(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vle extends Lu{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new gle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const lR=t=>(e,n)=>{t&&Hn.update(()=>t(e,n))};class _le extends Lu{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new UU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lR(e),onStart:lR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Hn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ja(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $U(){const t=I.useContext($2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=I.useId();return I.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function xle(){return Sle(I.useContext($2))}function Sle(t){return t===null?!0:t.isPresent}const C5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const r1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xt.test(t))t=parseFloat(t);else return t;const n=uR(t,e.target.x),r=uR(t,e.target.y);return`${n}% ${r}%`}},wle={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xu.parse(t);if(i.length>5)return r;const s=xu.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Yn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Ele extends gu.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pse(ble),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),C5.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Hn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WU(t){const[e,n]=$U(),r=I.useContext(jw);return gu.createElement(Ele,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(UO),isPresent:e,safeToRemove:n})}const ble={borderRadius:{...r1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:r1,borderTopRightRadius:r1,borderBottomLeftRadius:r1,borderBottomRightRadius:r1,boxShadow:wle},jU=["TopLeft","TopRight","BottomLeft","BottomRight"],Tle=jU.length,cR=t=>typeof t=="string"?parseFloat(t):t,dR=t=>typeof t=="number"||xt.test(t);function Mle(t,e,n,r,i,s){i?(t.opacity=Yn(0,n.opacity!==void 0?n.opacity:1,Ale(r)),t.opacityExit=Yn(e.opacity!==void 0?e.opacity:1,0,Cle(r))):s&&(t.opacity=Yn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Tle;o++){const a=`border${jU[o]}Radius`;let l=hR(e,a),u=hR(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||dR(l)===dR(u)?(t[a]=Math.max(Yn(cR(l),cR(u),r),0),(da.test(u)||da.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Yn(e.rotate||0,n.rotate||0,r))}function hR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ale=qU(0,.5,nE),Cle=qU(.5,.95,Dr);function qU(t,e,n){return r=>r<t?0:r>e?1:n(qp(t,e,r))}function fR(t,e){t.min=e.min,t.max=e.max}function Xs(t,e){fR(t.x,e.x),fR(t.y,e.y)}function pR(t,e,n,r,i){return t-=e,t=P6(t,1/n,r),i!==void 0&&(t=P6(t,1/i,r)),t}function Ple(t,e=0,n=1,r=.5,i,s=t,o=t){if(da.test(e)&&(e=parseFloat(e),e=Yn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Yn(s.min,s.max,r);t===s&&(a-=e),t.min=pR(t.min,e,n,a,i),t.max=pR(t.max,e,n,a,i)}function mR(t,e,[n,r,i],s,o){Ple(t,e[n],e[r],e[i],e.scale,s,o)}const Rle=["x","scaleX","originX"],Ile=["y","scaleY","originY"];function gR(t,e,n,r){mR(t.x,e,Rle,n?n.x:void 0,r?r.x:void 0),mR(t.y,e,Ile,n?n.y:void 0,r?r.y:void 0)}function yR(t){return t.translate===0&&t.scale===1}function XU(t){return yR(t.x)&&yR(t.y)}function D_(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function vR(t){return Rs(t.x)/Rs(t.y)}class Lle{constructor(){this.members=[]}add(e){aE(this.members,e),e.scheduleRender()}remove(e){if(lE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _R(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const kle=(t,e)=>t.depth-e.depth;class Dle{constructor(){this.children=[],this.isDirty=!1}add(e){aE(this.children,e),this.isDirty=!0}remove(e){lE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kle),this.isDirty=!1,this.children.forEach(e)}}function Nle(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(al(r),t(s-e))};return Hn.read(r,!0),()=>al(r)}function Fle(t){window.MotionDebug&&window.MotionDebug.record(t)}function Ole(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Ule(t,e,n){const r=ls(t)?t:Of(t);return r.start(oE("",r,e,n)),r.animation}const xR=["","X","Y","Z"],SR=1e3;let zle=0;const hc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function YU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{hc.totalNodes=hc.resolvedTargetDeltas=hc.recalculatedProjection=0,this.nodes.forEach(Hle),this.nodes.forEach(qle),this.nodes.forEach(Xle),this.nodes.forEach(Gle),Fle(hc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dle)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new uE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ole(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Nle(p,250),C5.hasAnimatedSinceResize&&(C5.hasAnimatedSinceResize=!1,this.nodes.forEach(ER))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Jle,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=c.getProps(),S=!this.targetLayout||!D_(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const b={...DU(_,"layout"),onPlay:x,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||ER(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,al(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yle),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wR);return}this.isUpdating||this.nodes.forEach(Wle),this.isUpdating=!1,this.nodes.forEach(jle),this.nodes.forEach(Ble),this.nodes.forEach(Vle),this.clearAllSnapshots();const a=performance.now();qn.delta=_u(0,1e3/60,a-qn.timestamp),qn.timestamp=a,qn.isProcessing=!0,pf.update.process(qn),pf.preRender.process(qn),pf.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($le),this.sharedNodes.forEach(Kle)}scheduleUpdateProjection(){Hn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!XU(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||dc(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),eue(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return wr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(zl(a.x,l.offset.x),zl(a.y,l.offset.y)),a}removeElementScroll(o){const a=wr();Xs(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Xs(a,o);const{scroll:p}=this.root;p&&(zl(a.x,-p.offset.x),zl(a.y,-p.offset.y))}zl(a.x,c.offset.x),zl(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=wr();Xs(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),dc(c.latestValues)&&Xh(l,c.latestValues)}return dc(this.latestValues)&&Xh(l,this.latestValues),l}removeTransform(o){const a=wr();Xs(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!dc(u.latestValues))continue;L_(u.latestValues)&&u.updateSnapshot();const c=wr(),f=u.measurePageBox();Xs(c,f),gR(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return dc(this.latestValues)&&gR(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wr(),this.relativeTargetOrigin=wr(),np(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wr(),this.targetWithTransforms=wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),HU(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wr(),this.relativeTargetOrigin=wr(),np(this.relativeTargetOrigin,this.target,m.target),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||L_(this.parent.latestValues)||VU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Xs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;dle(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=qh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qh(),this.projectionDeltaWithTransform=qh());const _=this.projectionTransform;tp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=_R(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),hc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=qh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=wr(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,_=m!==y,x=this.getStack(),g=!x||x.members.length<=1,S=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(Zle));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const M=b/1e3;bR(f.x,o.x,M),bR(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qle(this.relativeTarget,this.relativeTargetOrigin,p,M),w&&D_(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=wr()),Xs(w,this.relativeTarget)),_&&(this.animationValues=c,Mle(c,u,this.latestValues,M,S,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(al(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hn.update(()=>{C5.hasAnimatedSinceResize=!0,this.currentAnimation=Ule(0,SR,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&KU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||wr();const f=Rs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Rs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Xs(a,l),Xh(a,c),tp(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Lle),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<xR.length;c++){const f="rotate"+xR[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=A5(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=A5(o.pointerEvents)||""),this.hasProjected&&!dc(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=_R(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in w6){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=w6[_],S=u.transform==="none"?p[_]:x(p[_],f);if(g){const w=g.length;for(let b=0;b<w;b++)u[g[b]]=S}else u[_]=S}return this.options.layoutId&&(u.pointerEvents=f===this?A5(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wR),this.root.sharedNodes.clear()}}}function Ble(t){t.updateLayout()}function Vle(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ko(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Rs(p);p.min=r[f].min,p.max=p.min+m}):KU(s,n.layoutBox,r)&&Ko(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Rs(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=qh();tp(a,r,n.layoutBox);const l=qh();o?tp(l,t.applyTransform(i,!0),n.measuredBox):tp(l,r,n.layoutBox);const u=!XU(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=wr();np(y,n.layoutBox,p.layoutBox);const _=wr();np(_,r,m.layoutBox),D_(y,_)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Hle(t){hc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $le(t){t.clearSnapshot()}function wR(t){t.clearMeasurements()}function Wle(t){t.isLayoutDirty=!1}function jle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ER(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qle(t){t.resolveTargetDelta()}function Xle(t){t.calcProjection()}function Yle(t){t.resetRotation()}function Kle(t){t.removeLeadSnapshot()}function bR(t,e,n){t.translate=Yn(e.translate,0,n),t.scale=Yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TR(t,e,n,r){t.min=Yn(e.min,n.min,r),t.max=Yn(e.max,n.max,r)}function Qle(t,e,n,r){TR(t.x,e.x,n.x,r),TR(t.y,e.y,n.y,r)}function Zle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Jle={duration:.45,ease:[.4,0,.1,1]};function MR(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function eue(t){MR(t.x),MR(t.y)}function KU(t,e,n){return t==="position"||t==="preserve-aspect"&&!R_(vR(e),vR(n),.2)}const tue=YU({attachResizeListener:(t,e)=>qa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zg={current:void 0},QU=YU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zg.current){const t=new tue({});t.mount(window),t.setOptions({layoutScroll:!0}),Zg.current=t}return Zg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nue={pan:{Feature:_le},drag:{Feature:vle,ProjectionNode:QU,MeasureLayout:WU}},rue=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iue(t){const e=rue.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function N_(t,e,n=1){const[r,i]=iue(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():w_(i)?N_(i,e,n+1):i}function sue(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!w_(s))return;const o=N_(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!w_(s))continue;const o=N_(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const oue=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ZU=t=>oue.has(t),aue=t=>Object.keys(t).some(ZU),AR=t=>t===_d||t===xt,CR=(t,e)=>parseFloat(t.split(", ")[e]),PR=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return CR(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?CR(s[1],t):0}},lue=new Set(["x","y","z"]),uue=W2.filter(t=>!lue.has(t));function cue(t){const e=[];return uue.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const RR={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:PR(4,13),y:PR(5,14)},due=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=RR[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=RR[u](l,s)}),t},hue=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(ZU);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],f=n1(c);const p=e[l];let m;if(b6(p)){const y=p.length,_=p[0]===null?1:0;c=p[_],f=n1(c);for(let x=_;x<y&&p[x]!==null;x++)m?tE(n1(p[x])===m):m=n1(p[x])}else m=n1(p);if(f!==m)if(AR(f)&&AR(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===xt&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(c===0||p===0)?c===0?u.set(m.transform(c)):e[l]=f.transform(p):(o||(s=cue(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=due(e,t,a);return s.length&&s.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),G7&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function fue(t,e,n,r){return aue(e)?hue(t,e,n,r):{target:e,transitionEnd:r}}const pue=(t,e,n,r)=>{const i=sue(t,e,r);return e=i.target,r=i.transitionEnd,fue(t,e,n,r)},F_={current:null},JU={current:!1};function mue(){if(JU.current=!0,!!G7)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F_.current=t.matches;t.addListener(e),e()}else F_.current=!1}function gue(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(ls(s))t.addValue(i,s),C6(r)&&r.add(i);else if(ls(o))t.addValue(i,Of(s,{owner:t})),C6(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Of(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const IR=new WeakMap,ez=Object.keys(Wp),yue=ez.length,LR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vue=Ww.length;class _ue{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Hn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=W7(n),this.isVariantNode=OO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const p=c[f];a[f]!==void 0&&ls(p)&&(p.set(a[f],!1),C6(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,IR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),JU.current||mue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:F_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){IR.delete(this.current),this.projection&&this.projection.unmount(),al(this.notifyUpdate),al(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=vd.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Hn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<yue;l++){const u=ez[l],{isEnabled:c,Feature:f,ProjectionNode:p,MeasureLayout:m}=Wp[u];p&&(o=p),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Wh(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LR.length;r++){const i=LR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=gue(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vue;r++){const i=Ww[r],s=this.props[i];($p(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Of(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=eE(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ls(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class tz extends _ue{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Uae(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Fae(this,r,o);const a=pue(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function xue(t){return window.getComputedStyle(t)}class Sue extends tz{readValueFromInstance(e,n){if(vd.has(n)){const r=sE(n);return r&&r.default||0}else{const r=xue(e),i=(VO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GU(e,n)}build(e,n,r,i){Xw(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Jw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ls(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){qO(e,n,r,i)}}class wue extends tz{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vd.has(n)){const r=sE(n);return r&&r.default||0}return n=XO.has(n)?n:Zw(n),e.getAttribute(n)}measureInstanceViewportBox(){return wr()}scrapeMotionValuesFromProps(e,n){return KO(e,n)}build(e,n,r,i){Kw(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){YO(e,n,r,i)}mount(e){this.isSVGTag=Qw(e.tagName),super.mount(e)}}const Eue=(t,e)=>qw(t)?new wue(e,{enableHardwareAcceleration:!1}):new Sue(e,{enableHardwareAcceleration:!0}),bue={layout:{ProjectionNode:QU,MeasureLayout:WU}},Tue={...Zae,..._oe,...nue,...bue},xd=Ase((t,e)=>noe(t,e,Tue,Eue));function nz(){const t=I.useRef(!1);return S6(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Mue(){const t=nz(),[e,n]=I.useState(0),r=I.useCallback(()=>{t.current&&n(e+1)},[e]);return[I.useCallback(()=>Hn.postRender(r),[r]),e]}class Aue extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cue({children:t,isPresent:e}){const n=I.useId(),r=I.useRef(null),i=I.useRef({width:0,height:0,top:0,left:0});return I.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),I.createElement(Aue,{isPresent:e,childRef:r,sizeRef:i},I.cloneElement(t,{ref:r}))}const Jg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=QO(Pue),l=I.useId(),u=I.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return I.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),I.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=I.createElement(Cue,{isPresent:n},t)),I.createElement($2.Provider,{value:u},t)};function Pue(){return new Map}function Rue(t){return I.useEffect(()=>()=>t(),[])}const Sh=t=>t.key||"";function Iue(t,e){t.forEach(n=>{const r=Sh(n);e.set(r,n)})}function Lue(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const o0=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=I.useContext(jw).forceRender||Mue()[0],l=nz(),u=Lue(t);let c=u;const f=I.useRef(new Map).current,p=I.useRef(c),m=I.useRef(new Map).current,y=I.useRef(!0);if(S6(()=>{y.current=!1,Iue(u,m),p.current=c}),Rue(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return I.createElement(I.Fragment,null,c.map(S=>I.createElement(Jg,{key:Sh(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},S)));c=[...c];const _=p.current.map(Sh),x=u.map(Sh),g=_.length;for(let S=0;S<g;S++){const w=_[S];x.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(c=[]),f.forEach((S,w)=>{if(x.indexOf(w)!==-1)return;const b=m.get(w);if(!b)return;const M=_.indexOf(w);let A=S;if(!A){const R=()=>{m.delete(w),f.delete(w);const L=p.current.findIndex(C=>C.key===w);if(p.current.splice(L,1),!f.size){if(p.current=u,l.current===!1)return;a(),r&&r()}};A=I.createElement(Jg,{key:Sh(b),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},b),f.set(w,A)}c.splice(M,0,A)}),c=c.map(S=>{const w=S.key;return f.has(w)?S:I.createElement(Jg,{key:Sh(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),I.createElement(I.Fragment,null,f.size?c:c.map(S=>I.cloneElement(S)))};var kue={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},rz=I.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=kue,toastSpacing:c="0.5rem"}=t,[f,p]=I.useState(a),m=xle();PP(()=>{m||r==null||r()},[m]),PP(()=>{p(a)},[a]);const y=()=>p(null),_=()=>p(a),x=()=>{m&&i()};I.useEffect(()=>{m&&s&&i()},[m,s,i]),vse(x,f);const g=I.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),S=I.useMemo(()=>gse(o),[o]);return z.jsx(xd.div,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:y,onHoverEnd:_,custom:{position:o},style:S,children:z.jsx(xn.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:g,children:Xl(n,{id:e,onClose:x})})})});rz.displayName="ToastComponent";var kR={path:z.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[z.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),z.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),z.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},a0=$n((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...u}=t,c=Gn("chakra-icon",a),f=yd("Icon",t),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...f},m={ref:e,focusable:s,className:c,__css:p},y=r??kR.viewBox;if(n&&typeof n!="string")return z.jsx(xn.svg,{as:n,...m,...u});const _=o??kR.path;return z.jsx(xn.svg,{verticalAlign:"middle",viewBox:y,...m,...u,children:_})});a0.displayName="Icon";function Due(t){return z.jsx(a0,{viewBox:"0 0 24 24",...t,children:z.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Nue(t){return z.jsx(a0,{viewBox:"0 0 24 24",...t,children:z.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function DR(t){return z.jsx(a0,{viewBox:"0 0 24 24",...t,children:z.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var Fue=IK({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),cE=$n((t,e)=>{const n=yd("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=Iu(t),u=Gn("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${Fue} ${s} linear infinite`,...n};return z.jsx(xn.div,{ref:e,__css:c,className:u,...l,children:r&&z.jsx(xn.span,{srOnly:!0,children:r})})});cE.displayName="Spinner";var[Oue,dE]=Ns({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Uue,hE]=Ns({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),iz={info:{icon:Nue,colorScheme:"blue"},warning:{icon:DR,colorScheme:"orange"},success:{icon:Due,colorScheme:"green"},error:{icon:DR,colorScheme:"red"},loading:{icon:cE,colorScheme:"blue"}};function zue(t){return iz[t].colorScheme}function Bue(t){return iz[t].icon}var sz=$n(function(e,n){const r=hE(),{status:i}=dE(),s={display:"inline",...r.description};return z.jsx(xn.div,{ref:n,"data-status":i,...e,className:Gn("chakra-alert__desc",e.className),__css:s})});sz.displayName="AlertDescription";function oz(t){const{status:e}=dE(),n=Bue(e),r=hE(),i=e==="loading"?r.spinner:r.icon;return z.jsx(xn.span,{display:"inherit","data-status":e,...t,className:Gn("chakra-alert__icon",t.className),__css:i,children:t.children||z.jsx(n,{h:"100%",w:"100%"})})}oz.displayName="AlertIcon";var az=$n(function(e,n){const r=hE(),{status:i}=dE();return z.jsx(xn.div,{ref:n,"data-status":i,...e,className:Gn("chakra-alert__title",e.className),__css:r.title})});az.displayName="AlertTitle";var lz=$n(function(e,n){var r;const{status:i="info",addRole:s=!0,...o}=Iu(e),a=(r=e.colorScheme)!=null?r:zue(i),l=Gw("Alert",{...e,colorScheme:a}),u={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return z.jsx(Oue,{value:{status:i},children:z.jsx(Uue,{value:l,children:z.jsx(xn.div,{"data-status":i,role:s?"alert":void 0,ref:n,...o,className:Gn("chakra-alert",e.className),__css:u})})})});lz.displayName="Alert";function Vue(t){return z.jsx(a0,{focusable:"false","aria-hidden":!0,...t,children:z.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var fE=$n(function(e,n){const r=yd("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=Iu(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return z.jsx(xn.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a,children:i||z.jsx(Vue,{width:"1em",height:"1em"})})});fE.displayName="CloseButton";var Hue={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},rp=Gue(Hue);function Gue(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=$ue(i,s),{position:a,id:l}=o;return r(u=>{var c,f;const m=a.includes("top")?[o,...(c=u[a])!=null?c:[]]:[...(f=u[a])!=null?f:[],o];return{...u,[a]:m}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:u}=CP(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...s,message:jue(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,u)=>(l[u]=s[u].map(c=>({...c,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=DO(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>!!CP(rp.getState(),i).position}}var NR=0;function $ue(t,e={}){var n,r;NR+=1;const i=(n=e.id)!=null?n:NR,s=(r=e.position)!=null?r:"bottom";return{id:i,message:t,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>rp.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var Wue=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,colorScheme:l,icon:u}=t,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return z.jsxs(lz,{addRole:!1,status:e,variant:n,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[z.jsx(oz,{children:u}),z.jsxs(xn.div,{flex:"1",maxWidth:"100%",children:[i&&z.jsx(az,{id:c==null?void 0:c.title,children:i}),a&&z.jsx(sz,{id:c==null?void 0:c.description,display:"block",children:a})]}),s&&z.jsx(fE,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function jue(t={}){const{render:e,toastComponent:n=Wue}=t;return i=>typeof e=="function"?e({...i,...t}):z.jsx(n,{...i,...t})}var[que,O_e]=Ns({name:"ToastOptionsContext",strict:!1}),Xue=t=>{const e=I.useSyncExternalStore(rp.subscribe,rp.getState,rp.getState),{motionVariants:n,component:r=rz,portalProps:i}=t,o=Object.keys(e).map(a=>{const l=e[a];return z.jsx("div",{role:"region","aria-live":"polite","aria-label":"Notifications",id:`chakra-toast-manager-${a}`,style:yse(a),children:z.jsx(o0,{initial:!1,children:l.map(u=>z.jsx(r,{motionVariants:n,...u},u.id))})},a)});return z.jsx(V2,{...i,children:o})},Yue=t=>function({children:n,theme:r=t,toastOptions:i,...s}){return z.jsxs(pse,{theme:r,...s,children:[z.jsx(que,{value:i==null?void 0:i.defaultOptions,children:n}),z.jsx(Xue,{...i})]})},Kue=Yue(TO),Que=Object.defineProperty,Zue=(t,e,n)=>e in t?Que(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nr=(t,e,n)=>(Zue(t,typeof e!="symbol"?e+"":e,n),n);function FR(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var Jue=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function OR(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function UR(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var O_=typeof window<"u"?I.useLayoutEffect:I.useEffect,R6=t=>t,ece=class{constructor(){nr(this,"descendants",new Map),nr(this,"register",t=>{if(t!=null)return Jue(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),nr(this,"unregister",t=>{this.descendants.delete(t);const e=FR(Array.from(this.descendants.keys()));this.assignIndex(e)}),nr(this,"destroy",()=>{this.descendants.clear()}),nr(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),nr(this,"count",()=>this.descendants.size),nr(this,"enabledCount",()=>this.enabledValues().length),nr(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),nr(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),nr(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),nr(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),nr(this,"first",()=>this.item(0)),nr(this,"firstEnabled",()=>this.enabledItem(0)),nr(this,"last",()=>this.item(this.descendants.size-1)),nr(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),nr(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),nr(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),nr(this,"next",(t,e=!0)=>{const n=OR(t,this.count(),e);return this.item(n)}),nr(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=OR(r,this.enabledCount(),e);return this.enabledItem(i)}),nr(this,"prev",(t,e=!0)=>{const n=UR(t,this.count()-1,e);return this.item(n)}),nr(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),i=UR(r,this.enabledCount()-1,e);return this.enabledItem(i)}),nr(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=FR(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const i={node:t,index:-1,...e};this.descendants.set(t,i),this.assignIndex(r)})}};function tce(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function Xp(...t){return e=>{t.forEach(n=>{tce(n,e)})}}function nce(...t){return I.useMemo(()=>Xp(...t),t)}function rce(){const t=I.useRef(new ece);return O_(()=>()=>t.current.destroy()),t.current}var[ice,uz]=Ns({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function sce(t){const e=uz(),[n,r]=I.useState(-1),i=I.useRef(null);O_(()=>()=>{i.current&&e.unregister(i.current)},[]),O_(()=>{if(!i.current)return;const o=Number(i.current.dataset.index);n!=o&&!Number.isNaN(o)&&r(o)});const s=R6(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(i.current),register:Xp(s,i)}}function oce(){return[R6(ice),()=>R6(uz()),()=>rce(),i=>sce(i)]}var[ace,K7]=Ns({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[lce,pE]=Ns({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[uce,U_e,cce,dce]=oce(),cz=$n(function(e,n){const{getButtonProps:r}=pE(),i=r(e,n),o={display:"flex",alignItems:"center",width:"100%",outline:0,...K7().button};return z.jsx(xn.button,{...i,className:Gn("chakra-accordion__button",e.className),__css:o})});cz.displayName="AccordionButton";function hce(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:i=(p,m)=>p!==m}=t,s=M5(r),o=M5(i),[a,l]=I.useState(n),u=e!==void 0,c=u?e:a,f=M5(p=>{const y=typeof p=="function"?p(c):p;o(c,y)&&(u||l(y),s(y))},[u,s,c,o]);return[c,f]}function fce(t){const{onChange:e,defaultIndex:n,index:r,allowMultiple:i,allowToggle:s,...o}=t;gce(t),yce(t);const a=cce(),[l,u]=I.useState(-1);I.useEffect(()=>()=>{u(-1)},[]);const[c,f]=hce({value:r,defaultValue(){return i?n??[]:n??-1},onChange:e});return{index:c,setIndex:f,htmlProps:o,getAccordionItemProps:m=>{let y=!1;return m!==null&&(y=Array.isArray(c)?c.includes(m):c===m),{isOpen:y,onChange:x=>{if(m!==null)if(i&&Array.isArray(c)){const g=x?c.concat(m):c.filter(S=>S!==m);f(g)}else x?f(m):s&&f(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:a}}var[pce,mE]=Ns({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function mce(t){const{isDisabled:e,isFocusable:n,id:r,...i}=t,{getAccordionItemProps:s,setFocusedIndex:o}=mE(),a=I.useRef(null),l=I.useId(),u=r??l,c=`accordion-button-${u}`,f=`accordion-panel-${u}`;vce(t);const{register:p,index:m,descendants:y}=dce({disabled:e&&!n}),{isOpen:_,onChange:x}=s(m===-1?null:m);_ce({isOpen:_,isDisabled:e});const g=()=>{x==null||x(!0)},S=()=>{x==null||x(!1)},w=I.useCallback(()=>{x==null||x(!_),o(m)},[m,o,_,x]),b=I.useCallback(L=>{const k={ArrowDown:()=>{const $=y.nextEnabled(m);$==null||$.node.focus()},ArrowUp:()=>{const $=y.prevEnabled(m);$==null||$.node.focus()},Home:()=>{const $=y.firstEnabled();$==null||$.node.focus()},End:()=>{const $=y.lastEnabled();$==null||$.node.focus()}}[L.key];k&&(L.preventDefault(),k(L))},[y,m]),M=I.useCallback(()=>{o(m)},[o,m]),A=I.useCallback(function(C={},k=null){return{...C,type:"button",ref:Xp(p,a,k),id:c,disabled:!!e,"aria-expanded":!!_,"aria-controls":f,onClick:Yl(C.onClick,w),onFocus:Yl(C.onFocus,M),onKeyDown:Yl(C.onKeyDown,b)}},[c,e,_,w,M,b,f,p]),R=I.useCallback(function(C={},k=null){return{...C,ref:k,role:"region",id:f,"aria-labelledby":c,hidden:!_}},[c,_,f]);return{isOpen:_,isDisabled:e,isFocusable:n,onOpen:g,onClose:S,getButtonProps:A,getPanelProps:R,htmlProps:i}}function gce(t){const e=t.index||t.defaultIndex,n=e!=null&&!Array.isArray(e)&&t.allowMultiple;H2({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof e},`})}function yce(t){H2({condition:!!(t.allowMultiple&&t.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function vce(t){H2({condition:!!(t.isFocusable&&!t.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function _ce(t){H2({condition:t.isOpen&&!!t.isDisabled,message:"Cannot open a disabled accordion item"})}function dz(t){const{isOpen:e,isDisabled:n}=pE(),{reduceMotion:r}=mE(),i=Gn("chakra-accordion__icon",t.className),s=K7(),o={opacity:n?.4:1,transform:e?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return z.jsx(a0,{viewBox:"0 0 24 24","aria-hidden":!0,className:i,__css:o,...t,children:z.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}dz.displayName="AccordionIcon";var hz=$n(function(e,n){const{children:r,className:i}=e,{htmlProps:s,...o}=mce(e),l={...K7().container,overflowAnchor:"none"},u=I.useMemo(()=>o,[o]);return z.jsx(lce,{value:u,children:z.jsx(xn.div,{ref:n,...s,className:Gn("chakra-accordion__item",i),__css:l,children:typeof r=="function"?r({isExpanded:!!o.isOpen,isDisabled:!!o.isDisabled}):r})})});hz.displayName="AccordionItem";var Ac={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},i1={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function U_(t){var e;switch((e=t==null?void 0:t.direction)!=null?e:"right"){case"right":return i1.slideRight;case"left":return i1.slideLeft;case"bottom":return i1.slideDown;case"top":return i1.slideUp;default:return i1.slideRight}}var zR={enter:{duration:.2,ease:Ac.easeOut},exit:{duration:.1,ease:Ac.easeIn}},Uf={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},xce=t=>t!=null&&parseInt(t.toString(),10)>0,BR={exit:{height:{duration:.2,ease:Ac.ease},opacity:{duration:.3,ease:Ac.ease}},enter:{height:{duration:.3,ease:Ac.ease},opacity:{duration:.4,ease:Ac.ease}}},Sce={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:xce(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:Uf.exit(BR.exit,i)}},enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:Uf.enter(BR.enter,i)}}},fz=I.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:o="auto",style:a,className:l,transition:u,transitionEnd:c,...f}=t,[p,m]=I.useState(!1);I.useEffect(()=>{const S=setTimeout(()=>{m(!0)});return()=>clearTimeout(S)},[]),H2({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const y=parseFloat(s.toString())>0,_={startingHeight:s,endingHeight:o,animateOpacity:i,transition:p?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:y?"block":"none"}}},x=r?n:!0,g=n||r?"enter":"exit";return z.jsx(o0,{initial:!1,custom:_,children:x&&z.jsx(xd.div,{ref:e,...f,className:Gn("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:_,variants:Sce,initial:r?"exit":!1,animate:g,exit:"exit"})})});fz.displayName="Collapse";var wce={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:Uf.enter(zR.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:Uf.exit(zR.exit,n),transitionEnd:e==null?void 0:e.exit}}},pz={initial:"exit",animate:"enter",exit:"exit",variants:wce},Ece=I.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,...u}=e,c=i||r?"enter":"exit",f=r?i&&r:!0,p={transition:o,transitionEnd:a,delay:l};return z.jsx(o0,{custom:p,children:f&&z.jsx(xd.div,{ref:n,className:Gn("chakra-fade",s),custom:p,...pz,animate:c,...u})})});Ece.displayName="Fade";var VR={exit:{duration:.15,ease:Ac.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},bce={exit:({direction:t,transition:e,transitionEnd:n,delay:r})=>{var i;const{exit:s}=U_({direction:t});return{...s,transition:(i=e==null?void 0:e.exit)!=null?i:Uf.exit(VR.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:t,transitionEnd:e,transition:n,delay:r})=>{var i;const{enter:s}=U_({direction:t});return{...s,transition:(i=n==null?void 0:n.enter)!=null?i:Uf.enter(VR.enter,r),transitionEnd:e==null?void 0:e.enter}}},mz=I.forwardRef(function(e,n){const{direction:r="right",style:i,unmountOnExit:s,in:o,className:a,transition:l,transitionEnd:u,delay:c,motionProps:f,...p}=e,m=U_({direction:r}),y=Object.assign({position:"fixed"},m.position,i),_=s?o&&s:!0,x=o||s?"enter":"exit",g={transitionEnd:u,transition:l,direction:r,delay:c};return z.jsx(o0,{custom:g,children:_&&z.jsx(xd.div,{...p,ref:n,initial:"exit",className:Gn("chakra-slide",a),animate:x,exit:"exit",custom:g,variants:bce,style:y,...f})})});mz.displayName="Slide";var gz=$n(function(e,n){const{className:r,motionProps:i,...s}=e,{reduceMotion:o}=mE(),{getPanelProps:a,isOpen:l}=pE(),u=a(s,n),c=Gn("chakra-accordion__panel",r),f=K7();o||delete u.hidden;const p=z.jsx(xn.div,{...u,__css:f.panel,className:c});return o?p:z.jsx(fz,{in:l,...i,children:p})});gz.displayName="AccordionPanel";var yz=$n(function({children:e,reduceMotion:n,...r},i){const s=Gw("Accordion",r),o=Iu(r),{htmlProps:a,descendants:l,...u}=fce(o),c=I.useMemo(()=>({...u,reduceMotion:!!n}),[u,n]);return z.jsx(uce,{value:l,children:z.jsx(pce,{value:c,children:z.jsx(ace,{value:s,children:z.jsx(xn.div,{ref:i,...a,className:Gn("chakra-accordion",r.className),__css:s.root,children:e})})})})});yz.displayName="Accordion";var z_=$n(function(e,n){const{htmlWidth:r,htmlHeight:i,alt:s,...o}=e;return z.jsx("img",{width:r,height:i,ref:n,alt:s,...o})});z_.displayName="NativeImage";function Tce(t){const{loading:e,src:n,srcSet:r,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[u,c]=I.useState("pending");I.useEffect(()=>{c(n?"loading":"pending")},[n]);const f=I.useRef(),p=I.useCallback(()=>{if(!n)return;m();const y=new Image;y.src=n,o&&(y.crossOrigin=o),r&&(y.srcset=r),a&&(y.sizes=a),e&&(y.loading=e),y.onload=_=>{m(),c("loaded"),i==null||i(_)},y.onerror=_=>{m(),c("failed"),s==null||s(_)},f.current=y},[n,o,r,a,i,s,e]),m=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return zp(()=>{if(!l)return u==="loading"&&p(),()=>{m()}},[u,p,l]),l?"loaded":u}var Mce=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function Ace(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var vz=$n(function(e,n){const{fallbackSrc:r,fallback:i,src:s,srcSet:o,align:a,fit:l,loading:u,ignoreFallback:c,crossOrigin:f,fallbackStrategy:p="beforeLoadOrError",referrerPolicy:m,...y}=e,_=r!==void 0||i!==void 0,x=u!=null||c||!_,g=Tce({...e,crossOrigin:f,ignoreFallback:x}),S=Mce(g,p),w={ref:n,objectFit:l,objectPosition:a,...x?y:Ace(y,["onError","onLoad"])};return S?i||z.jsx(xn.img,{as:z_,className:"chakra-image__placeholder",src:r,...w}):z.jsx(xn.img,{as:z_,src:s,srcSet:o,crossOrigin:f,loading:u,referrerPolicy:m,className:"chakra-image",...w})});vz.displayName="Image";var[z_e,Cce]=Ns({strict:!1,name:"ButtonGroupContext"});function Pce(t){const[e,n]=I.useState(!t);return{ref:I.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}function B_(t){const{children:e,className:n,...r}=t,i=I.isValidElement(e)?I.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=Gn("chakra-button__icon",n);return z.jsx(xn.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:i})}B_.displayName="ButtonIcon";function V_(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=z.jsx(cE,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=Gn("chakra-button__spinner",s),u=n==="start"?"marginEnd":"marginStart",c=I.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,u,r]);return z.jsx(xn.div,{className:l,...a,__css:c,children:i})}V_.displayName="ButtonSpinner";var gE=$n((t,e)=>{const n=Cce(),r=yd("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:f="0.5rem",type:p,spinner:m,spinnerPlacement:y="start",className:_,as:x,...g}=Iu(t),S=I.useMemo(()=>{const A={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:A}}},[r,n]),{ref:w,type:b}=Pce(x),M={rightIcon:u,leftIcon:l,iconSpacing:f,children:a};return z.jsxs(xn.button,{ref:nce(e,w),as:x,type:p??b,"data-active":FC(o),"data-loading":FC(s),__css:S,className:Gn("chakra-button",_),...g,disabled:i||s,children:[s&&y==="start"&&z.jsx(V_,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:f,children:m}),s?c||z.jsx(xn.span,{opacity:0,children:z.jsx(HR,{...M})}):z.jsx(HR,{...M}),s&&y==="end"&&z.jsx(V_,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:f,children:m})]})});gE.displayName="Button";function HR(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return z.jsxs(z.Fragment,{children:[e&&z.jsx(B_,{marginEnd:i,children:e}),r,n&&z.jsx(B_,{marginStart:i,children:n})]})}var H_=$n((t,e)=>{const{icon:n,children:r,isRound:i,"aria-label":s,...o}=t,a=n||r,l=I.isValidElement(a)?I.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return z.jsx(gE,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});H_.displayName="IconButton";function Rce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var G_="data-focus-lock",_z="data-focus-lock-disabled",Ice="data-no-focus-lock",Lce="data-autofocus-inside",kce="data-no-autofocus";function Dce(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nce(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function xz(t,e){return Nce(e||null,function(n){return t.forEach(function(r){return Dce(r,n)})})}var ey={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},ta=function(){return ta=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ta.apply(this,arguments)};function Sz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fce(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function wz(t){return t}function Ez(t,e){e===void 0&&(e=wz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function yE(t,e){return e===void 0&&(e=wz),Ez(t,e)}function bz(t){t===void 0&&(t={});var e=Ez(null);return e.options=ta({async:!0,ssr:!1},t),e}var Tz=function(t){var e=t.sideCar,n=Sz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,ta({},n))};Tz.isSideCarExport=!0;function Oce(t,e){return t.useMedium(e),Tz}var Mz=yE({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),Az=yE(),Uce=yE(),zce=bz({async:!0}),Bce=[],vE=I.forwardRef(function(e,n){var r,i=I.useState(),s=i[0],o=i[1],a=I.useRef(),l=I.useRef(!1),u=I.useRef(null),c=e.children,f=e.disabled,p=e.noFocusGuards,m=e.persistentFocus,y=e.crossFrame,_=e.autoFocus;e.allowTextSelection;var x=e.group,g=e.className,S=e.whiteList,w=e.hasPositiveIndices,b=e.shards,M=b===void 0?Bce:b,A=e.as,R=A===void 0?"div":A,L=e.lockProps,C=L===void 0?{}:L,k=e.sideCar,$=e.returnFocus,ee=e.focusOptions,q=e.onActivation,Z=e.onDeactivation,ie=I.useState({}),fe=ie[0],me=I.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&q&&q(a.current),l.current=!0},[q]),G=I.useCallback(function(){l.current=!1,Z&&Z(a.current)},[Z]);I.useEffect(function(){f||(u.current=null)},[]);var Y=I.useCallback(function(j){var Ze=u.current;if(Ze&&Ze.focus){var nt=typeof $=="function"?$(Ze):$;if(nt){var Re=typeof nt=="object"?nt:void 0;u.current=null,j?Promise.resolve().then(function(){return Ze.focus(Re)}):Ze.focus(Re)}}},[$]),X=I.useCallback(function(j){l.current&&Mz.useMedium(j)},[]),ae=Az.useMedium,ce=I.useCallback(function(j){a.current!==j&&(a.current=j,o(j))},[]),re=sd((r={},r[_z]=f&&"disabled",r[G_]=x,r),C),he=p!==!0,Pe=he&&p!=="tail",Ae=xz([n,ce]);return I.createElement(I.Fragment,null,he&&[I.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:ey}),w?I.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:ey}):null],!f&&I.createElement(k,{id:fe,sideCar:zce,observed:s,disabled:f,persistentFocus:m,crossFrame:y,autoFocus:_,whiteList:S,shards:M,onActivation:me,onDeactivation:G,returnFocus:Y,focusOptions:ee}),I.createElement(R,sd({ref:Ae},re,{className:g,onBlur:ae,onFocus:X}),c),Pe&&I.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:ey}))});vE.propTypes={};vE.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const Cz=vE;function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Vce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$_(t,e)}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function Hce(t,e){if(Yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gce(t){var e=Hce(t,"string");return Yp(e)==="symbol"?e:String(e)}function $ce(t,e,n){return e=Gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(u){return u.props})),e(o)}var l=function(u){Vce(c,u);function c(){return u.apply(this,arguments)||this}c.peek=function(){return o};var f=c.prototype;return f.componentDidMount=function(){s.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=s.indexOf(this);s.splice(m,1),a()},f.render=function(){return gu.createElement(i,this.props)},c}(I.PureComponent);return $ce(l,"displayName","SideEffect("+n(i)+")"),l}}var va=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},I6=function(t){return Array.isArray(t)?t:[t]},Pz=function(t){return Array.isArray(t)?t[0]:t},jce=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},Rz=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},Iz=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},qce=function(t,e){return!t||Iz(t)||!jce(t)&&e(Rz(t))},Lz=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=qce(e,Lz.bind(void 0,t));return t.set(e,r),r},Xce=function(t,e){return t&&!Iz(t)?Qce(t)?e(Rz(t)):!1:!0},kz=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=Xce(e,kz.bind(void 0,t));return t.set(e,r),r},Dz=function(t){return t.dataset},Yce=function(t){return t.tagName==="BUTTON"},Nz=function(t){return t.tagName==="INPUT"},Fz=function(t){return Nz(t)&&t.type==="radio"},Kce=function(t){return!((Nz(t)||Yce(t))&&(t.type==="hidden"||t.disabled))},Qce=function(t){var e=t.getAttribute(kce);return![!0,"true",""].includes(e)},_E=function(t){var e;return!!(t&&(!((e=Dz(t))===null||e===void 0)&&e.focusGuard))},L6=function(t){return!_E(t)},Zce=function(t){return!!t},Jce=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},Oz=function(t,e,n){return va(t).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(Jce)},ede=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],xE=ede.join(","),tde="".concat(xE,", [data-focus-guard]"),Uz=function(t,e){return va((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?tde:xE)?[r]:[],Uz(r))},[])},nde=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?Q7([t.contentDocument.body],e):[t]},Q7=function(t,e){return t.reduce(function(n,r){var i,s=Uz(r,e),o=(i=[]).concat.apply(i,s.map(function(a){return nde(a,e)}));return n.concat(o,r.parentNode?va(r.parentNode.querySelectorAll(xE)).filter(function(a){return a===r}):[])},[])},rde=function(t){var e=t.querySelectorAll("[".concat(Lce,"]"));return va(e).map(function(n){return Q7([n])}).reduce(function(n,r){return n.concat(r)},[])},SE=function(t,e){return va(t).filter(function(n){return Lz(e,n)}).filter(function(n){return Kce(n)})},GR=function(t,e){return e===void 0&&(e=new Map),va(t).filter(function(n){return kz(e,n)})},W_=function(t,e,n){return Oz(SE(Q7(t,n),e),!0,n)},$R=function(t,e){return Oz(SE(Q7(t),e),!1)},ide=function(t,e){return SE(rde(t),e)},mf=function(t,e){return t.shadowRoot?mf(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:va(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?mf(i,e):!1}return mf(n,e)})},sde=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},zz=function(t){return t.parentNode?zz(t.parentNode):t},wE=function(t){var e=I6(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(G_);return n.push.apply(n,i?sde(va(zz(r).querySelectorAll("[".concat(G_,'="').concat(i,'"]:not([').concat(_z,'="disabled"])')))):[r]),n},[])},ode=function(t){try{return t()}catch{return}},Kp=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Kp(e.shadowRoot):e instanceof HTMLIFrameElement&&ode(function(){return e.contentWindow.document})?Kp(e.contentWindow.document):e}},ade=function(t,e){return t===e},lde=function(t,e){return!!va(t.querySelectorAll("iframe")).some(function(n){return ade(n,e)})},Bz=function(t,e){return e===void 0&&(e=Kp(Pz(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:wE(t).some(function(n){return mf(n,e)||lde(n,e)})},ude=function(t){t===void 0&&(t=document);var e=Kp(t);return e?va(t.querySelectorAll("[".concat(Ice,"]"))).some(function(n){return mf(n,e)}):!1},cde=function(t,e){return e.filter(Fz).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},EE=function(t,e){return Fz(t)&&t.name?cde(t,e):t},dde=function(t){var e=new Set;return t.forEach(function(n){return e.add(EE(n,t))}),t.filter(function(n){return e.has(n)})},WR=function(t){return t[0]&&t.length>1?EE(t[0],t):t[0]},jR=function(t,e){return t.length>1?t.indexOf(EE(t[e],t)):e},Vz="NEW_FOCUS",hde=function(t,e,n,r){var i=t.length,s=t[0],o=t[i-1],a=_E(n);if(!(n&&t.indexOf(n)>=0)){var l=n!==void 0?e.indexOf(n):-1,u=r?e.indexOf(r):l,c=r?t.indexOf(r):-1,f=l-u,p=e.indexOf(s),m=e.indexOf(o),y=dde(e),_=n!==void 0?y.indexOf(n):-1,x=_-(r?y.indexOf(r):l),g=jR(t,0),S=jR(t,i-1);if(l===-1||c===-1)return Vz;if(!f&&c>=0)return c;if(l<=p&&a&&Math.abs(f)>1)return S;if(l>=m&&a&&Math.abs(f)>1)return g;if(f&&Math.abs(x)>1)return c;if(l<=p)return S;if(l>m)return g;if(f)return Math.abs(f)>1?c:(i+c+f)%i}},fde=function(t){return function(e){var n,r=(n=Dz(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},pde=function(t,e,n){var r=t.map(function(s){var o=s.node;return o}),i=GR(r.filter(fde(n)));return i&&i.length?WR(i):WR(GR(e))},j_=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&j_(t.parentNode.host||t.parentNode,e),e},ty=function(t,e){for(var n=j_(t),r=j_(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},Hz=function(t,e,n){var r=I6(t),i=I6(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=ty(o||a,a)||o,n.filter(Boolean).forEach(function(l){var u=ty(s,l);u&&(!o||mf(u,o)?o=u:o=ty(u,o))})}),o},mde=function(t,e){return t.reduce(function(n,r){return n.concat(ide(r,e))},[])},gde=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(Zce)},yde=function(t,e){var n=Kp(I6(t).length>0?document:Pz(t).ownerDocument),r=wE(t).filter(L6),i=Hz(n||t,t,r),s=new Map,o=$R(r,s),a=W_(r,s).filter(function(m){var y=m.node;return L6(y)});if(!(!a[0]&&(a=o,!a[0]))){var l=$R([i],s).map(function(m){var y=m.node;return y}),u=gde(l,a),c=u.map(function(m){var y=m.node;return y}),f=hde(c,l,n,e);if(f===Vz){var p=pde(o,c,mde(r,s));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},vde=function(t){var e=wE(t).filter(L6),n=Hz(t,t,e),r=new Map,i=W_([n],r,!0),s=W_(e,r).filter(function(o){var a=o.node;return L6(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,l=o.index;return{node:a,index:l,lockItem:s.indexOf(a)>=0,guard:_E(a)}})},_de=function(t,e){"focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},ny=0,ry=!1,Gz=function(t,e,n){n===void 0&&(n={});var r=yde(t,e);if(!ry&&r){if(ny>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),ry=!0,setTimeout(function(){ry=!1},1);return}ny++,_de(r.node,n.focusOptions),ny--}};function bE(t){setTimeout(t,1)}var xde=function(){return document&&document.activeElement===document.body},Sde=function(){return xde()||ude()},gf=null,Yh=null,yf=null,Qp=!1,wde=function(){return!0},Ede=function(e){return(gf.whiteList||wde)(e)},bde=function(e,n){yf={observerNode:e,portaledElement:n}},Tde=function(e){return yf&&yf.portaledElement===e};function qR(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var Mde=function(e){return e&&"current"in e?e.current:e},Ade=function(e){return e?!!Qp:Qp==="meanwhile"},Cde=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},Pde=function(e,n){return n.some(function(r){return Cde(e,r,r)})},k6=function(){var e=!1;if(gf){var n=gf,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,u=r||yf&&yf.portaledElement,c=document&&document.activeElement;if(u){var f=[u].concat(o.map(Mde).filter(Boolean));if((!c||Ede(c))&&(i||Ade(a)||!Sde()||!Yh&&s)&&(u&&!(Bz(f)||c&&Pde(c,f)||Tde(c))&&(document&&!Yh&&c&&!s?(c.blur&&c.blur(),document.body.focus()):(e=Gz(f,Yh,{focusOptions:l}),yf={})),Qp=!1,Yh=document&&document.activeElement),document){var p=document&&document.activeElement,m=vde(f),y=m.map(function(_){var x=_.node;return x}).indexOf(p);y>-1&&(m.filter(function(_){var x=_.guard,g=_.node;return x&&g.dataset.focusAutoGuard}).forEach(function(_){var x=_.node;return x.removeAttribute("tabIndex")}),qR(y,m.length,1,m),qR(y,-1,-1,m))}}}return e},$z=function(e){k6()&&e&&(e.stopPropagation(),e.preventDefault())},TE=function(){return bE(k6)},Rde=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||bde(r,n)},Ide=function(){return null},Wz=function(){Qp="just",bE(function(){Qp="meanwhile"})},Lde=function(){document.addEventListener("focusin",$z),document.addEventListener("focusout",TE),window.addEventListener("blur",Wz)},kde=function(){document.removeEventListener("focusin",$z),document.removeEventListener("focusout",TE),window.removeEventListener("blur",Wz)};function Dde(t){return t.filter(function(e){var n=e.disabled;return!n})}function Nde(t){var e=t.slice(-1)[0];e&&!gf&&Lde();var n=gf,r=n&&e&&e.id===n.id;gf=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(Yh=null,(!r||n.observed!==e.observed)&&e.onActivation(),k6(),bE(k6)):(kde(),Yh=null)}Mz.assignSyncMedium(Rde);Az.assignMedium(TE);Uce.assignMedium(function(t){return t({moveFocusInside:Gz,focusInside:Bz})});const Fde=Wce(Dde,Nde)(Ide);var jz=I.forwardRef(function(e,n){return I.createElement(Cz,sd({sideCar:Fde,ref:n},e))}),qz=Cz.propTypes||{};qz.sideCar;Rce(qz,["sideCar"]);jz.propTypes={};const XR=jz;function Ode(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function Ude(t){var e;if(!Ode(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}var zde=t=>t.hasAttribute("tabindex");function Bde(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function Xz(t){return t.parentElement&&Xz(t.parentElement)?!0:t.hidden}function Vde(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function Hde(t){if(!Ude(t)||Xz(t)||Bde(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():Vde(t)?!0:zde(t)}var Gde=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],$de=Gde.join(),Wde=t=>t.offsetWidth>0&&t.offsetHeight>0;function jde(t){const e=Array.from(t.querySelectorAll($de));return e.unshift(t),e.filter(n=>Hde(n)&&Wde(n))}var YR,qde=(YR=XR.default)!=null?YR:XR,Yz=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:i,children:s,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:u}=t,c=I.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&jde(r.current).length===0&&requestAnimationFrame(()=>{var y;(y=r.current)==null||y.focus()})},[e,r]),f=I.useCallback(()=>{var m;(m=n==null?void 0:n.current)==null||m.focus()},[n]),p=i&&!n;return z.jsx(qde,{crossFrame:u,persistentFocus:l,autoFocus:a,disabled:o,onActivation:c,onDeactivation:f,returnFocus:p,children:s})};Yz.displayName="FocusLock";var Xde=Oie?I.useLayoutEffect:I.useEffect;function KR(t,e=[]){const n=I.useRef(t);return Xde(()=>{n.current=t}),I.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function Yde(t,e){const n=I.useId();return I.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function Kde(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function Qde(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=KR(n),o=KR(e),[a,l]=I.useState(t.defaultIsOpen||!1),[u,c]=Kde(r,a),f=Yde(i,"disclosure"),p=I.useCallback(()=>{u||l(!1),o==null||o()},[u,o]),m=I.useCallback(()=>{u||l(!0),s==null||s()},[u,s]),y=I.useCallback(()=>{(c?p:m)()},[c,m,p]);return{isOpen:!!c,onOpen:m,onClose:p,onToggle:y,isControlled:u,getButtonProps:(_={})=>({..._,"aria-expanded":c,"aria-controls":f,onClick:Hie(_.onClick,y)}),getDisclosureProps:(_={})=>({..._,hidden:!c,id:f})}}var q_=$n(function(e,n){const r=yd("Link",e),{className:i,isExternal:s,...o}=Iu(e);return z.jsx(xn.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Gn("chakra-link",i),...o,__css:r})});q_.displayName="Link";var Es=$n(function(e,n){const r=yd("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=Iu(e),u=Jie({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return z.jsx(xn.p,{ref:n,className:Gn("chakra-text",e.className),...u,...l,__css:r})});Es.displayName="Text";var Cc=$n(function(e,n){const r=yd("Heading",e),{className:i,...s}=Iu(e);return z.jsx(xn.h2,{ref:n,className:Gn("chakra-heading",e.className),...s,__css:r})});Cc.displayName="Heading";var or=xn("div");or.displayName="Box";var Kz=$n(function(e,n){const{size:r,centerContent:i=!0,...s}=e,o=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return z.jsx(or,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...s})});Kz.displayName="Square";var Zde=$n(function(e,n){const{size:r,...i}=e;return z.jsx(Kz,{size:r,ref:n,borderRadius:"9999px",...i})});Zde.displayName="Circle";var Io=$n(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:u,...c}=e,f={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:u};return z.jsx(xn.div,{ref:n,__css:f,...c})});Io.displayName="Flex";var Jde=Object.defineProperty,ehe=(t,e,n)=>e in t?Jde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,the=(t,e,n)=>(ehe(t,typeof e!="symbol"?e+"":e,n),n),nhe=class{constructor(){the(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},X_=new nhe;function Qz(t,e){const[n,r]=I.useState(0);return I.useEffect(()=>{const i=t.current;if(i){if(e){const s=X_.add(i);r(s)}return()=>{X_.remove(i),r(0)}}},[e,t]),n}var rhe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qd=new WeakMap,Km=new WeakMap,Qm={},iy=0,Zz=function(t){return t&&(t.host||Zz(t.parentNode))},ihe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Zz(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},she=function(t,e,n,r){var i=ihe(e,Array.isArray(t)?t:[t]);Qm[n]||(Qm[n]=new WeakMap);var s=Qm[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))c(p);else{var m=p.getAttribute(r),y=m!==null&&m!=="false",_=(qd.get(p)||0)+1,x=(s.get(p)||0)+1;qd.set(p,_),s.set(p,x),o.push(p),_===1&&y&&Km.set(p,!0),x===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}})};return c(e),a.clear(),iy++,function(){o.forEach(function(f){var p=qd.get(f)-1,m=s.get(f)-1;qd.set(f,p),s.set(f,m),p||(Km.has(f)||f.removeAttribute(r),Km.delete(f)),m||f.removeAttribute(n)}),iy--,iy||(qd=new WeakMap,qd=new WeakMap,Km=new WeakMap,Qm={})}},ohe=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||rhe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),she(r,i,n,"aria-hidden")):function(){return null}};function ahe(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:i=!0,closeOnEsc:s=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,u=I.useRef(null),c=I.useRef(null),[f,p,m]=uhe(r,"chakra-modal","chakra-modal--header","chakra-modal--body");lhe(u,e&&o);const y=Qz(u,e),_=I.useRef(null),x=I.useCallback(C=>{_.current=C.target},[]),g=I.useCallback(C=>{C.key==="Escape"&&(C.stopPropagation(),s&&(n==null||n()),l==null||l())},[s,n,l]),[S,w]=I.useState(!1),[b,M]=I.useState(!1),A=I.useCallback((C={},k=null)=>({role:"dialog",...C,ref:Xp(k,u),id:f,tabIndex:-1,"aria-modal":!0,"aria-labelledby":S?p:void 0,"aria-describedby":b?m:void 0,onClick:Yl(C.onClick,$=>$.stopPropagation())}),[m,b,f,p,S]),R=I.useCallback(C=>{C.stopPropagation(),_.current===C.target&&X_.isTopModal(u.current)&&(i&&(n==null||n()),a==null||a())},[n,i,a]),L=I.useCallback((C={},k=null)=>({...C,ref:Xp(k,c),onClick:Yl(C.onClick,R),onKeyDown:Yl(C.onKeyDown,g),onMouseDown:Yl(C.onMouseDown,x)}),[g,x,R]);return{isOpen:e,onClose:n,headerId:p,bodyId:m,setBodyMounted:M,setHeaderMounted:w,dialogRef:u,overlayRef:c,getDialogProps:A,getDialogContainerProps:L,index:y}}function lhe(t,e){const n=t.current;I.useEffect(()=>{if(!(!t.current||!e))return ohe(t.current)},[e,t,n])}function uhe(t,...e){const n=I.useId(),r=t||n;return I.useMemo(()=>e.map(i=>`${i}-${r}`),[r,e])}var[che,Z7]=Ns({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[dhe,Y2]=Ns({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Jz=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:c,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m,onCloseComplete:y}=e,_=Gw("Modal",e),g={...ahe(e),autoFocus:i,trapFocus:s,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:u,allowPinchZoom:c,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m};return z.jsx(dhe,{value:g,children:z.jsx(che,{value:_,children:z.jsx(o0,{onExitComplete:y,children:g.isOpen&&z.jsx(V2,{...n,children:r})})})})};Jz.displayName="Modal";var P5="right-scroll-bar-position",R5="width-before-scroll-bar",hhe="with-scroll-bars-hidden",fhe="--removed-body-scroll-bar-size",eB=bz(),sy=function(){},J7=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:sy,onWheelCapture:sy,onTouchMoveCapture:sy}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,y=t.inert,_=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,S=t.gapMode,w=Sz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=p,M=xz([n,e]),A=ta(ta({},w),i);return I.createElement(I.Fragment,null,c&&I.createElement(b,{sideCar:eB,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:S}),o?I.cloneElement(I.Children.only(a),ta(ta({},A),{ref:M})):I.createElement(g,ta({},A,{className:l,ref:M}),a))});J7.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};J7.classNames={fullWidth:R5,zeroRight:P5};var QR,phe=function(){if(QR)return QR;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=phe();return e&&t.setAttribute("nonce",e),t}function ghe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yhe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vhe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=mhe())&&(ghe(e,n),yhe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_he=function(){var t=vhe();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tB=function(){var t=_he(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xhe={left:0,top:0,right:0,gap:0},oy=function(t){return parseInt(t||"",10)||0},She=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[oy(n),oy(r),oy(i)]},whe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xhe;var e=She(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ehe=tB(),bhe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hhe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(P5,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(R5,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(P5," .").concat(P5,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(R5," .").concat(R5,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(fhe,": ").concat(a,`px;
  }
`)},The=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=I.useMemo(function(){return whe(i)},[i]);return I.createElement(Ehe,{styles:bhe(s,!e,i,n?"":"!important")})},Y_=!1;if(typeof window<"u")try{var Zm=Object.defineProperty({},"passive",{get:function(){return Y_=!0,!0}});window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,Zm)}catch{Y_=!1}var Xd=Y_?{passive:!1}:!1,Mhe=function(t){return t.tagName==="TEXTAREA"},nB=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mhe(t)&&n[e]==="visible")},Ahe=function(t){return nB(t,"overflowY")},Che=function(t){return nB(t,"overflowX")},ZR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rB(t,r);if(i){var s=iB(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Phe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Rhe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rB=function(t,e){return t==="v"?Ahe(e):Che(e)},iB=function(t,e){return t==="v"?Phe(e):Rhe(e)},Ihe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Lhe=function(t,e,n,r,i){var s=Ihe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,c=o>0,f=0,p=0;do{var m=iB(t,a),y=m[0],_=m[1],x=m[2],g=_-x-s*y;(y||g)&&rB(t,a)&&(f+=g,p+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(i&&f===0||!i&&o>f)||!c&&(i&&p===0||!i&&-o>p))&&(u=!0),u},Jm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},JR=function(t){return[t.deltaX,t.deltaY]},eI=function(t){return t&&"current"in t?t.current:t},khe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Dhe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Nhe=0,Yd=[];function Fhe(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),i=I.useState(Nhe++)[0],s=I.useState(tB)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Fce([t.lockRef.current],(t.shards||[]).map(eI),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=I.useCallback(function(_,x){if("touches"in _&&_.touches.length===2)return!o.current.allowPinchZoom;var g=Jm(_),S=n.current,w="deltaX"in _?_.deltaX:S[0]-g[0],b="deltaY"in _?_.deltaY:S[1]-g[1],M,A=_.target,R=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in _&&R==="h"&&A.type==="range")return!1;var L=ZR(R,A);if(!L)return!0;if(L?M=R:(M=R==="v"?"h":"v",L=ZR(R,A)),!L)return!1;if(!r.current&&"changedTouches"in _&&(w||b)&&(r.current=M),!M)return!0;var C=r.current||M;return Lhe(C,x,_,C==="h"?w:b,!0)},[]),l=I.useCallback(function(_){var x=_;if(!(!Yd.length||Yd[Yd.length-1]!==s)){var g="deltaY"in x?JR(x):Jm(x),S=e.current.filter(function(M){return M.name===x.type&&M.target===x.target&&khe(M.delta,g)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var w=(o.current.shards||[]).map(eI).filter(Boolean).filter(function(M){return M.contains(x.target)}),b=w.length>0?a(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),u=I.useCallback(function(_,x,g,S){var w={name:_,delta:x,target:g,should:S};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(b){return b!==w})},1)},[]),c=I.useCallback(function(_){n.current=Jm(_),r.current=void 0},[]),f=I.useCallback(function(_){u(_.type,JR(_),_.target,a(_,t.lockRef.current))},[]),p=I.useCallback(function(_){u(_.type,Jm(_),_.target,a(_,t.lockRef.current))},[]);I.useEffect(function(){return Yd.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Xd),document.addEventListener("touchmove",l,Xd),document.addEventListener("touchstart",c,Xd),function(){Yd=Yd.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,Xd),document.removeEventListener("touchmove",l,Xd),document.removeEventListener("touchstart",c,Xd)}},[]);var m=t.removeScrollBar,y=t.inert;return I.createElement(I.Fragment,null,y?I.createElement(s,{styles:Dhe(i)}):null,m?I.createElement(The,{gapMode:t.gapMode}):null)}const Ohe=Oce(eB,Fhe);var sB=I.forwardRef(function(t,e){return I.createElement(J7,ta({},t,{ref:e,sideCar:Ohe}))});sB.classNames=J7.classNames;const Uhe=sB;function zhe(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:i,blockScrollOnMount:s,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:u,lockFocusAcrossFrames:c,isOpen:f}=Y2(),[p,m]=$U();I.useEffect(()=>{!p&&m&&setTimeout(m)},[p,m]);const y=Qz(r,f);return z.jsx(Yz,{autoFocus:e,isDisabled:!n,initialFocusRef:i,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:c,children:z.jsx(Uhe,{removeScrollBar:!u,allowPinchZoom:o,enabled:y===1&&s,forwardProps:!0,children:t.children})})}var[Bhe,Vhe]=Ns(),Hhe={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function Ghe(t,e){var n,r;if(t)return(r=(n=Hhe[t])==null?void 0:n[e])!=null?r:t}function $he(t){var e;const{isOpen:n,onClose:r,placement:i="right",children:s,...o}=t,a=rO(),l=(e=a.components)==null?void 0:e.Drawer,u=Ghe(i,a.direction);return z.jsx(Bhe,{value:{placement:u},children:z.jsx(Jz,{isOpen:n,onClose:r,styleConfig:l,...o,children:s})})}var Whe=xn(mz),oB=$n((t,e)=>{const{className:n,children:r,motionProps:i,containerProps:s,...o}=t,{getDialogProps:a,getDialogContainerProps:l,isOpen:u}=Y2(),c=a(o,e),f=l(s),p=Gn("chakra-modal__content",n),m=Z7(),y={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...m.dialog},_={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...m.dialogContainer},{placement:x}=Vhe();return z.jsx(zhe,{children:z.jsx(xn.div,{...f,className:"chakra-modal__content-container",__css:_,children:z.jsx(Whe,{motionProps:i,direction:x,in:u,className:p,...c,__css:y,children:r})})})});oB.displayName="DrawerContent";var jhe=xn(xd.div),aB=$n((t,e)=>{const{className:n,transition:r,motionProps:i,...s}=t,o=Gn("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Z7().overlay},{motionPreset:u}=Y2(),f=i||(u==="none"?{}:pz);return z.jsx(jhe,{...f,__css:l,ref:e,className:o,...s})});aB.displayName="ModalOverlay";var lB=$n((t,e)=>{const{className:n,...r}=t,{bodyId:i,setBodyMounted:s}=Y2();I.useEffect(()=>(s(!0),()=>s(!1)),[s]);const o=Gn("chakra-modal__body",n),a=Z7();return z.jsx(xn.div,{ref:e,className:o,id:i,...r,__css:a.body})});lB.displayName="ModalBody";var uB=$n((t,e)=>{const{onClick:n,className:r,...i}=t,{onClose:s}=Y2(),o=Gn("chakra-modal__close-btn",r),a=Z7();return z.jsx(fE,{ref:e,__css:a.closeButton,className:o,onClick:Yl(n,l=>{l.stopPropagation(),s()}),...i})});uB.displayName="ModalCloseButton";const qhe=Die({fonts:{heading:"Clash Display"}});function Xhe(){const{pathname:t}=gd();return I.useEffect(()=>{window.scrollTo(0,0)},[t]),null}class K2{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Zp=typeof window>"u"||"Deno"in window;function Js(){}function Yhe(t,e){return typeof t=="function"?t(e):t}function K_(t){return typeof t=="number"&&t>=0&&t!==1/0}function cB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function R1(t,e,n){return e8(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Bl(t,e,n){return e8(t)?[{...e,queryKey:t},n]:[t||{},e]}function tI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(e8(o)){if(r){if(e.queryHash!==ME(o,e.options))return!1}else if(!D6(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function nI(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(e8(s)){if(!e.options.mutationKey)return!1;if(n){if(Pc(e.options.mutationKey)!==Pc(s))return!1}else if(!D6(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function ME(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pc)(t)}function Pc(t){return JSON.stringify(t,(e,n)=>Z_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function D6(t,e){return dB(t,e)}function dB(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!dB(t[n],e[n])):!1}function hB(t,e){if(t===e)return t;const n=rI(t)&&rI(e);if(n||Z_(t)&&Z_(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=hB(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function Q_(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Z_(t){if(!iI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!iI(n)||!n.hasOwnProperty("isPrototypeOf"))}function iI(t){return Object.prototype.toString.call(t)==="[object Object]"}function e8(t){return Array.isArray(t)}function fB(t){return new Promise(e=>{setTimeout(e,t)})}function sI(t){fB(0).then(t)}function Khe(){if(typeof AbortController=="function")return new AbortController}function J_(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hB(t,e):e}class Qhe extends K2{constructor(){super(),this.setup=e=>{if(!Zp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const N6=new Qhe,oI=["online","offline"];class Zhe extends K2{constructor(){super(),this.setup=e=>{if(!Zp&&window.addEventListener){const n=()=>e();return oI.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{oI.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const F6=new Zhe;function Jhe(t){return Math.min(1e3*2**t,3e4)}function t8(t){return(t??"online")==="online"?F6.isOnline():!0}class pB{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function I5(t){return t instanceof pB}function mB(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((x,g)=>{s=x,o=g}),l=x=>{r||(m(new pB(x)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!N6.isFocused()||t.networkMode!=="always"&&!F6.isOnline(),p=x=>{r||(r=!0,t.onSuccess==null||t.onSuccess(x),i==null||i(),s(x))},m=x=>{r||(r=!0,t.onError==null||t.onError(x),i==null||i(),o(x))},y=()=>new Promise(x=>{i=g=>{const S=r||!f();return S&&x(g),S},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),_=()=>{if(r)return;let x;try{x=t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(p).catch(g=>{var S,w;if(r)return;const b=(S=t.retry)!=null?S:3,M=(w=t.retryDelay)!=null?w:Jhe,A=typeof M=="function"?M(n,g):M,R=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,g);if(e||!R){m(g);return}n++,t.onFail==null||t.onFail(n,g),fB(A).then(()=>{if(f())return y()}).then(()=>{e?m(g):_()})})};return t8(t.networkMode)?_():y().then(_),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}const AE=console;function efe(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):sI(()=>{n(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&sI(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const Mr=efe();class gB{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K_(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Zp?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let tfe=class extends gB{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||AE,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||nfe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=J_(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Js).catch(Js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!cB(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}Array.isArray(this.options.queryKey);const o=Khe(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const p=m=>{if(I5(m)&&m.silent||this.dispatch({type:"error",error:m}),!I5(m)){var y,_,x,g;(y=(_=this.cache.config).onError)==null||y.call(_,m,this),(x=(g=this.cache.config).onSettled)==null||x.call(g,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=mB({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var y,_,x,g;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(y=(_=this.cache.config).onSuccess)==null||y.call(_,m,this),(x=(g=this.cache.config).onSettled)==null||x.call(g,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:t8(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return I5(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function nfe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class rfe extends K2{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:ME(s,n);let a=this.get(o);return a||(a=new tfe({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Mr.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Bl(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>tI(r,i))}findAll(e,n){const[r]=Bl(e,n);return Object.keys(r).length>0?this.queries.filter(i=>tI(r,i)):this.queries}notify(e){Mr.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Mr.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Mr.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let ife=class extends gB{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||AE,this.observers=[],this.state=e.state||sfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var R;return this.retryer=mB({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(L,C)=>{this.dispatch({type:"failed",failureCount:L,error:C})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l,u,c;if(!n){var f,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(p=this.mutationCache.config).onMutate)==null?void 0:f.call(p,this.state.variables,this));const L=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));L!==this.state.context&&this.dispatch({type:"loading",context:L,variables:this.state.variables})}const R=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,R,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,R,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,R,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var _,x,g,S,w,b,M,A;throw await((_=(x=this.mutationCache.config).onError)==null?void 0:_.call(x,R,this.state.variables,this.state.context,this)),await((g=(S=this.options).onError)==null?void 0:g.call(S,R,this.state.variables,this.state.context)),await((w=(b=this.mutationCache.config).onSettled)==null?void 0:w.call(b,void 0,R,this.state.variables,this.state.context,this)),await((M=(A=this.options).onSettled)==null?void 0:M.call(A,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!t8(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),Mr.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function sfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class ofe extends K2{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new ife({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Mr.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>nI(e,n))}findAll(e){return this.mutations.filter(n=>nI(e,n))}notify(e){Mr.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Mr.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Js)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function afe(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",p=((s=t.state.data)==null?void 0:s.pages)||[],m=((o=t.state.data)==null?void 0:o.pageParams)||[];let y=m,_=!1;const x=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>{var R;if((R=t.signal)!=null&&R.aborted)_=!0;else{var L;(L=t.signal)==null||L.addEventListener("abort",()=>{_=!0})}return t.signal}})},g=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),S=(A,R,L,C)=>(y=C?[R,...y]:[...y,R],C?[L,...A]:[...A,L]),w=(A,R,L,C)=>{if(_)return Promise.reject("Cancelled");if(typeof L>"u"&&!R&&A.length)return Promise.resolve(A);const k={queryKey:t.queryKey,pageParam:L,meta:t.options.meta};x(k);const $=g(k);return Promise.resolve($).then(q=>S(A,L,q,C))};let b;if(!p.length)b=w([]);else if(c){const A=typeof u<"u",R=A?u:aI(t.options,p);b=w(p,A,R)}else if(f){const A=typeof u<"u",R=A?u:lfe(t.options,p);b=w(p,A,R,!0)}else{y=[];const A=typeof t.options.getNextPageParam>"u";b=(a&&p[0]?a(p[0],0,p):!0)?w([],A,m[0]):Promise.resolve(S([],m[0],p[0]));for(let L=1;L<p.length;L++)b=b.then(C=>{if(a&&p[L]?a(p[L],L,p):!0){const $=A?m[L]:aI(t.options,C);return w(C,A,$)}return Promise.resolve(S(C,m[L],p[L]))})}return b.then(A=>({pages:A,pageParams:y}))}}}}function aI(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function lfe(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class ufe{constructor(e={}){this.queryCache=e.queryCache||new rfe,this.mutationCache=e.mutationCache||new ofe,this.logger=e.logger||AE,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=N6.subscribe(()=>{N6.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=F6.subscribe(()=>{F6.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Bl(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=R1(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=Yhe(n,s);if(typeof o>"u")return;const a=R1(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return Mr.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Bl(e,n),i=this.queryCache;Mr.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Bl(e,n,r),o=this.queryCache,a={type:"active",...i};return Mr.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Bl(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=Mr.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Js).catch(Js)}invalidateQueries(e,n,r){const[i,s]=Bl(e,n,r);return Mr.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Bl(e,n,r),o=Mr.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s==null?void 0:s.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Js);return s!=null&&s.throwOnError||(a=a.catch(Js)),a}fetchQuery(e,n,r){const i=R1(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Js).catch(Js)}fetchInfiniteQuery(e,n,r){const i=R1(e,n,r);return i.behavior=afe(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Js).catch(Js)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Pc(e)===Pc(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>D6(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Pc(e)===Pc(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>D6(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=ME(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class cfe extends K2{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),lI(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ex(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ex(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Q_(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&uI(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),r=this.createResult(n,e);return hfe(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Js)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Zp||this.currentResult.isStale||!K_(this.options.staleTime))return;const n=cB(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Zp||this.options.enabled===!1||!K_(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||N6.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:p,error:m,errorUpdatedAt:y,fetchStatus:_,status:x}=f,g=!1,S=!1,w;if(n._optimisticResults){const L=this.hasListeners(),C=!L&&lI(e,n),k=L&&uI(e,r,n,i);(C||k)&&(_=t8(e.options.networkMode)?"fetching":"paused",p||(x="loading")),n._optimisticResults==="isRestoring"&&(_="idle")}if(n.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&x!=="error")w=c.data,p=c.dataUpdatedAt,x=c.status,g=!0;else if(n.select&&typeof f.data<"u")if(s&&f.data===(o==null?void 0:o.data)&&n.select===this.selectFn)w=this.selectResult;else try{this.selectFn=n.select,w=n.select(f.data),w=J_(s==null?void 0:s.data,w,n),this.selectResult=w,this.selectError=null}catch(L){this.selectError=L}else w=f.data;if(typeof n.placeholderData<"u"&&typeof w>"u"&&x==="loading"){let L;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))L=s.data;else if(L=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof L<"u")try{L=n.select(L),this.selectError=null}catch(C){this.selectError=C}typeof L<"u"&&(x="success",w=J_(s==null?void 0:s.data,L,n),S=!0)}this.selectError&&(m=this.selectError,w=this.selectResult,y=Date.now(),x="error");const b=_==="fetching",M=x==="loading",A=x==="error";return{status:x,fetchStatus:_,isLoading:M,isSuccess:x==="success",isError:A,isInitialLoading:M&&b,data:w,dataUpdatedAt:p,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!M,isLoadingError:A&&f.dataUpdatedAt===0,isPaused:_==="paused",isPlaceholderData:S,isPreviousData:g,isRefetchError:A&&f.dataUpdatedAt!==0,isStale:CE(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Q_(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==n[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!I5(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Mr.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function dfe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lI(t,e){return dfe(t,e)||t.state.dataUpdatedAt>0&&ex(t,e,e.refetchOnMount)}function ex(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&CE(t,e)}return!1}function uI(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&CE(t,n)}function CE(t,e){return t.isStaleByTime(e.staleTime)}function hfe(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!Q_(t.getCurrentResult(),e)}var yB={exports:{}},vB={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=I;function ffe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pfe=typeof Object.is=="function"?Object.is:ffe,mfe=zf.useState,gfe=zf.useEffect,yfe=zf.useLayoutEffect,vfe=zf.useDebugValue;function _fe(t,e){var n=e(),r=mfe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return yfe(function(){i.value=n,i.getSnapshot=e,ay(i)&&s({inst:i})},[t,n,e]),gfe(function(){return ay(i)&&s({inst:i}),t(function(){ay(i)&&s({inst:i})})},[t]),vfe(n),n}function ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pfe(t,n)}catch{return!0}}function xfe(t,e){return e()}var Sfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xfe:_fe;vB.useSyncExternalStore=zf.useSyncExternalStore!==void 0?zf.useSyncExternalStore:Sfe;yB.exports=vB;var wfe=yB.exports;const Efe=wfe.useSyncExternalStore,cI=I.createContext(void 0),_B=I.createContext(!1);function xB(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=cI),window.ReactQueryClientContext):cI)}const bfe=({context:t}={})=>{const e=I.useContext(xB(t,I.useContext(_B)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Tfe=({client:t,children:e,context:n,contextSharing:r=!1})=>{I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=xB(n,r);return I.createElement(_B.Provider,{value:!n&&r},I.createElement(i.Provider,{value:t},e))},SB=I.createContext(!1),Mfe=()=>I.useContext(SB);SB.Provider;function Afe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Cfe=I.createContext(Afe()),Pfe=()=>I.useContext(Cfe);function Rfe(t,e){return typeof t=="function"?t(...e):!!t}const Ife=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Lfe=t=>{I.useEffect(()=>{t.clearReset()},[t])},kfe=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Rfe(n,[t.error,r]),Dfe=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Nfe=(t,e)=>t.isLoading&&t.isFetching&&!e,Ffe=(t,e,n)=>(t==null?void 0:t.suspense)&&Nfe(e,n),Ofe=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Ufe(t,e){const n=bfe({context:t.context}),r=Mfe(),i=Pfe(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=Mr.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Mr.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Mr.batchCalls(s.onSettled)),Dfe(s),Ife(s,i),Lfe(i);const[o]=I.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(Efe(I.useCallback(l=>{const u=r?()=>{}:o.subscribe(Mr.batchCalls(l));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),I.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Ffe(s,a,r))throw Ofe(s,o,i);if(kfe({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function wB(t,e,n){const r=R1(t,e,n);return Ufe(r,cfe)}const zfe=new ufe({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Bfe(){return z.jsx(Tfe,{client:zfe,children:z.jsxs(Kue,{theme:qhe,children:[z.jsx(Xhe,{}),z.jsx(DF,{})]})})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const n8="152",fc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},pc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},EB=0,tx=1,bB=2,Vfe=3,TB=0,r8=1,ip=2,Eo=3,ll=0,ji=1,na=2,Hfe=2,tl=0,$c=1,nx=2,rx=3,ix=4,MB=5,_c=100,AB=101,CB=102,sx=103,ox=104,PB=200,RB=201,IB=202,LB=203,PE=204,RE=205,kB=206,DB=207,NB=208,FB=209,OB=210,UB=0,zB=1,BB=2,O6=3,VB=4,HB=5,GB=6,$B=7,Q2=0,WB=1,jB=2,Lo=0,qB=1,XB=2,YB=3,IE=4,KB=5,i8=300,Su=301,wu=302,Jp=303,e2=304,l0=306,t2=1e3,Ai=1001,n2=1002,fr=1003,U6=1004,Gfe=1004,sp=1005,$fe=1005,mr=1006,LE=1007,Wfe=1007,Eu=1008,jfe=1008,ul=1009,QB=1010,ZB=1011,kE=1012,JB=1013,Kl=1014,Xa=1015,Bf=1016,eV=1017,tV=1018,Wc=1020,nV=1021,ns=1023,rV=1024,iV=1025,uu=1026,od=1027,sV=1028,oV=1029,aV=1030,lV=1031,uV=1033,L5=33776,k5=33777,D5=33778,N5=33779,ax=35840,lx=35841,ux=35842,cx=35843,cV=36196,dx=37492,hx=37496,fx=37808,px=37809,mx=37810,gx=37811,yx=37812,vx=37813,_x=37814,xx=37815,Sx=37816,wx=37817,Ex=37818,bx=37819,Tx=37820,Mx=37821,F5=36492,dV=36283,Ax=36284,Cx=36285,Px=36286,hV=2200,fV=2201,pV=2202,r2=2300,i2=2301,O5=2302,Rc=2400,Ic=2401,s2=2402,s8=2500,DE=2501,qfe=0,Xfe=1,Yfe=2,NE=3e3,cu=3001,mV=3200,gV=3201,ku=0,yV=1,du="",Ft="srgb",Do="srgb-linear",FE="display-p3",Kfe=0,U5=7680,Qfe=7681,Zfe=7682,Jfe=7683,e0e=34055,t0e=34056,n0e=5386,r0e=512,i0e=513,s0e=514,o0e=515,a0e=516,l0e=517,u0e=518,vV=519,o2=35044,c0e=35048,d0e=35040,h0e=35045,f0e=35049,p0e=35041,m0e=35046,g0e=35050,y0e=35042,v0e="100",Rx="300 es",z6=1035;class _a{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const xi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let dI=1234567;const jc=Math.PI/180,Vf=180/Math.PI;function Cs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(xi[t&255]+xi[t>>8&255]+xi[t>>16&255]+xi[t>>24&255]+"-"+xi[e&255]+xi[e>>8&255]+"-"+xi[e>>16&15|64]+xi[e>>24&255]+"-"+xi[n&63|128]+xi[n>>8&255]+"-"+xi[n>>16&255]+xi[n>>24&255]+xi[r&255]+xi[r>>8&255]+xi[r>>16&255]+xi[r>>24&255]).toLowerCase()}function sr(t,e,n){return Math.max(e,Math.min(n,t))}function OE(t,e){return(t%e+e)%e}function _0e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function x0e(t,e,n){return t!==e?(n-t)/(e-t):0}function op(t,e,n){return(1-n)*t+n*e}function S0e(t,e,n,r){return op(t,e,1-Math.exp(-n*r))}function w0e(t,e=1){return e-Math.abs(OE(t,e*2)-e)}function E0e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function b0e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function T0e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function M0e(t,e){return t+Math.random()*(e-t)}function A0e(t){return t*(.5-Math.random())}function C0e(t){t!==void 0&&(dI=t);let e=dI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function P0e(t){return t*jc}function R0e(t){return t*Vf}function Ix(t){return(t&t-1)===0&&t!==0}function _V(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function xV(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function I0e(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*p,a*u);break;case"YZY":t.set(l*p,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*p,a*c,a*u);break;case"XZX":t.set(a*c,l*y,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*y,a*u);break;case"ZYZ":t.set(l*y,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function bs(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Vt(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const L0e={DEG2RAD:jc,RAD2DEG:Vf,generateUUID:Cs,clamp:sr,euclideanModulo:OE,mapLinear:_0e,inverseLerp:x0e,lerp:op,damp:S0e,pingpong:w0e,smoothstep:E0e,smootherstep:b0e,randInt:T0e,randFloat:M0e,randFloatSpread:A0e,seededRandom:C0e,degToRad:P0e,radToDeg:R0e,isPowerOfTwo:Ix,ceilPowerOfTwo:_V,floorPowerOfTwo:xV,setQuaternionFromProperEuler:I0e,normalize:Vt,denormalize:bs};class Me{constructor(e=0,n=0){Me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wt{constructor(){Wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],p=r[2],m=r[5],y=r[8],_=i[0],x=i[3],g=i[6],S=i[1],w=i[4],b=i[7],M=i[2],A=i[5],R=i[8];return s[0]=o*_+a*S+l*M,s[3]=o*x+a*w+l*A,s[6]=o*g+a*b+l*R,s[1]=u*_+c*S+f*M,s[4]=u*x+c*w+f*A,s[7]=u*g+c*b+f*R,s[2]=p*_+m*S+y*M,s[5]=p*x+m*w+y*A,s[8]=p*g+m*b+y*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,p=a*l-c*s,m=u*s-o*l,y=n*f+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=f*_,e[1]=(i*u-c*r)*_,e[2]=(a*r-i*o)*_,e[3]=p*_,e[4]=(c*n-i*l)*_,e[5]=(i*s-a*n)*_,e[6]=m*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(ly.makeScale(e,n)),this}rotate(e){return this.premultiply(ly.makeRotation(-e)),this}translate(e,n){return this.premultiply(ly.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ly=new Wt;function SV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const k0e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Kh(t,e){return new k0e[t](e)}function a2(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const hI={};function ap(t){t in hI||(hI[t]=!0,console.warn(t))}function vf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function uy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const D0e=new Wt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),N0e=new Wt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function F0e(t){return t.convertSRGBToLinear().applyMatrix3(N0e)}function O0e(t){return t.applyMatrix3(D0e).convertLinearToSRGB()}const U0e={[Do]:t=>t,[Ft]:t=>t.convertSRGBToLinear(),[FE]:F0e},z0e={[Do]:t=>t,[Ft]:t=>t.convertLinearToSRGB(),[FE]:O0e},Qs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Do},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=U0e[e],i=z0e[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Kd;class UE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Kd===void 0&&(Kd=a2("canvas")),Kd.width=e.width,Kd.height=e.height;const r=Kd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Kd}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=a2("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=vf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(vf(n[r]/255)*255):n[r]=vf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Lc{constructor(e=null){this.isSource=!0,this.uuid=Cs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(cy(i[o].image)):s.push(cy(i[o]))}else s=cy(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function cy(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?UE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let B0e=0;class ar extends _a{constructor(e=ar.DEFAULT_IMAGE,n=ar.DEFAULT_MAPPING,r=Ai,i=Ai,s=mr,o=Eu,a=ns,l=ul,u=ar.DEFAULT_ANISOTROPY,c=du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:B0e++}),this.uuid=Cs(),this.name="",this.source=new Lc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Me(0,0),this.repeat=new Me(1,1),this.center=new Me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===cu?Ft:du),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==i8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case t2:e.x=e.x-Math.floor(e.x);break;case Ai:e.x=e.x<0?0:1;break;case n2:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case t2:e.y=e.y-Math.floor(e.y);break;case Ai:e.y=e.y<0?0:1;break;case n2:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ft?cu:NE}set encoding(e){ap("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===cu?Ft:du}}ar.DEFAULT_IMAGE=null;ar.DEFAULT_MAPPING=i8;ar.DEFAULT_ANISOTROPY=1;class En{constructor(e=0,n=0,r=0,i=1){En.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],p=l[1],m=l[5],y=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(c-p)<.01&&Math.abs(f-_)<.01&&Math.abs(y-x)<.01){if(Math.abs(c+p)<.1&&Math.abs(f+_)<.1&&Math.abs(y+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,b=(m+1)/2,M=(g+1)/2,A=(c+p)/4,R=(f+_)/4,L=(y+x)/4;return w>b&&w>M?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=A/r,s=R/r):b>M?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=A/i,s=L/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=R/s,i=L/s),this.set(r,i,s,n),this}let S=Math.sqrt((x-y)*(x-y)+(f-_)*(f-_)+(p-c)*(p-c));return Math.abs(S)<.001&&(S=1),this.x=(x-y)/S,this.y=(f-_)/S,this.z=(p-c)/S,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class No extends _a{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new En(0,0,e,n),this.scissorTest=!1,this.viewport=new En(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(ap("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===cu?Ft:du),this.texture=new ar(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:mr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Lc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class o8 extends ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fr,this.minFilter=fr,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class V0e extends No{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new o8(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class zE extends ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=fr,this.minFilter=fr,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class H0e extends No{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new zE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class G0e extends No{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ci{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],_=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=y,e[n+3]=_;return}if(f!==_||l!==p||u!==m||c!==y){let x=1-a;const g=l*p+u*m+c*y+f*_,S=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const M=Math.sqrt(w),A=Math.atan2(M,g*S);x=Math.sin(x*A)/M,a=Math.sin(a*A)/M}const b=a*S;if(l=l*x+p*b,u=u*x+m*b,c=c*x+y*b,f=f*x+_*b,x===1-a){const M=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=M,u*=M,c*=M,f*=M}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[n]=a*y+c*f+l*m-u*p,e[n+1]=l*y+c*p+u*f-a*m,e[n+2]=u*y+c*m+a*p-l*f,e[n+3]=c*y-a*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*c*f+u*m*y,this._y=u*m*f-p*c*y,this._z=u*c*y+p*m*f,this._w=u*c*f-p*m*y;break;case"YXZ":this._x=p*c*f+u*m*y,this._y=u*m*f-p*c*y,this._z=u*c*y-p*m*f,this._w=u*c*f+p*m*y;break;case"ZXY":this._x=p*c*f-u*m*y,this._y=u*m*f+p*c*y,this._z=u*c*y+p*m*f,this._w=u*c*f-p*m*y;break;case"ZYX":this._x=p*c*f-u*m*y,this._y=u*m*f+p*c*y,this._z=u*c*y-p*m*f,this._w=u*c*f+p*m*y;break;case"YZX":this._x=p*c*f+u*m*y,this._y=u*m*f+p*c*y,this._z=u*c*y-p*m*f,this._w=u*c*f-p*m*y;break;case"XZY":this._x=p*c*f-u*m*y,this._y=u*m*f-p*c*y,this._z=u*c*y+p*m*f,this._w=u*c*f+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(sr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class O{constructor(e=0,n=0,r=0){O.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(fI.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(fI.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=u*l+p*-s+c*-a-f*-o,this.y=c*l+p*-o+f*-s-u*-a,this.z=f*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return dy.copy(this).projectOnVector(e),this.sub(dy)}reflect(e){return this.sub(dy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dy=new O,fI=new Ci;class xa{constructor(e=new O(1/0,1/0,1/0),n=new O(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ra.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ra.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ra.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Qd.copy(e.boundingBox),Qd.applyMatrix4(e.matrixWorld),this.union(Qd);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ra.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ra)}else i.boundingBox===null&&i.computeBoundingBox(),Qd.copy(i.boundingBox),Qd.applyMatrix4(e.matrixWorld),this.union(Qd)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ra),Ra.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(s1),e4.subVectors(this.max,s1),Zd.subVectors(e.a,s1),Jd.subVectors(e.b,s1),eh.subVectors(e.c,s1),Il.subVectors(Jd,Zd),Ll.subVectors(eh,Jd),tc.subVectors(Zd,eh);let n=[0,-Il.z,Il.y,0,-Ll.z,Ll.y,0,-tc.z,tc.y,Il.z,0,-Il.x,Ll.z,0,-Ll.x,tc.z,0,-tc.x,-Il.y,Il.x,0,-Ll.y,Ll.x,0,-tc.y,tc.x,0];return!hy(n,Zd,Jd,eh,e4)||(n=[1,0,0,0,1,0,0,0,1],!hy(n,Zd,Jd,eh,e4))?!1:(t4.crossVectors(Il,Ll),n=[t4.x,t4.y,t4.z],hy(n,Zd,Jd,eh,e4))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ra).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ra).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pa=[new O,new O,new O,new O,new O,new O,new O,new O],Ra=new O,Qd=new xa,Zd=new O,Jd=new O,eh=new O,Il=new O,Ll=new O,tc=new O,s1=new O,e4=new O,t4=new O,nc=new O;function hy(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){nc.fromArray(t,s);const a=i.x*Math.abs(nc.x)+i.y*Math.abs(nc.y)+i.z*Math.abs(nc.z),l=e.dot(nc),u=n.dot(nc),c=r.dot(nc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const $0e=new xa,o1=new O,fy=new O;class Sa{constructor(e=new O,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):$0e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;o1.subVectors(e,this.center);const n=o1.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(o1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(o1.copy(e.center).add(fy)),this.expandByPoint(o1.copy(e.center).sub(fy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ia=new O,py=new O,n4=new O,kl=new O,my=new O,r4=new O,gy=new O;class Z2{constructor(e=new O,n=new O(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ia)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ia.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ia.copy(this.origin).addScaledVector(this.direction,n),Ia.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){py.copy(e).add(n).multiplyScalar(.5),n4.copy(n).sub(e).normalize(),kl.copy(this.origin).sub(py);const s=e.distanceTo(n)*.5,o=-this.direction.dot(n4),a=kl.dot(this.direction),l=-kl.dot(n4),u=kl.lengthSq(),c=Math.abs(1-o*o);let f,p,m,y;if(c>0)if(f=o*l-a,p=o*a-l,y=s*c,f>=0)if(p>=-y)if(p<=y){const _=1/c;f*=_,p*=_,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+u}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;else p<=-y?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u):p<=y?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+u);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(py).addScaledVector(n4,p),m}intersectSphere(e,n){Ia.subVectors(e.center,this.origin);const r=Ia.dot(this.direction),i=Ia.dot(Ia)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ia)!==null}intersectTriangle(e,n,r,i,s){my.subVectors(n,e),r4.subVectors(r,e),gy.crossVectors(my,r4);let o=this.direction.dot(gy),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;kl.subVectors(this.origin,e);const l=a*this.direction.dot(r4.crossVectors(kl,r4));if(l<0)return null;const u=a*this.direction.dot(my.cross(kl));if(u<0||l+u>o)return null;const c=-a*kl.dot(gy);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class kt{constructor(){kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,f,p,m,y,_,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=p,g[3]=m,g[7]=y,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new kt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/th.setFromMatrixColumn(e,0).length(),s=1/th.setFromMatrixColumn(e,1).length(),o=1/th.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*c,m=o*f,y=a*c,_=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+y*u,n[5]=p-_*u,n[9]=-a*l,n[2]=_-p*u,n[6]=y+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*f,y=u*c,_=u*f;n[0]=p+_*a,n[4]=y*a-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=m*a-y,n[6]=_+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*f,y=u*c,_=u*f;n[0]=p-_*a,n[4]=-o*f,n[8]=y+m*a,n[1]=m+y*a,n[5]=o*c,n[9]=_-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*f,y=a*c,_=a*f;n[0]=l*c,n[4]=y*u-m,n[8]=p*u+_,n[1]=l*f,n[5]=_*u+p,n[9]=m*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,_=a*u;n[0]=l*c,n[4]=_-p*f,n[8]=y*f+m,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*f+y,n[10]=p-_*f}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,_=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=p*f+_,n[5]=o*c,n[9]=m*f-y,n[2]=y*f-m,n[6]=a*c,n[10]=_*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(W0e,e,j0e)}lookAt(e,n,r){const i=this.elements;return _s.subVectors(e,n),_s.lengthSq()===0&&(_s.z=1),_s.normalize(),Dl.crossVectors(r,_s),Dl.lengthSq()===0&&(Math.abs(r.z)===1?_s.x+=1e-4:_s.z+=1e-4,_s.normalize(),Dl.crossVectors(r,_s)),Dl.normalize(),i4.crossVectors(_s,Dl),i[0]=Dl.x,i[4]=i4.x,i[8]=_s.x,i[1]=Dl.y,i[5]=i4.y,i[9]=_s.y,i[2]=Dl.z,i[6]=i4.z,i[10]=_s.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],p=r[9],m=r[13],y=r[2],_=r[6],x=r[10],g=r[14],S=r[3],w=r[7],b=r[11],M=r[15],A=i[0],R=i[4],L=i[8],C=i[12],k=i[1],$=i[5],ee=i[9],q=i[13],Z=i[2],ie=i[6],fe=i[10],me=i[14],G=i[3],Y=i[7],X=i[11],ae=i[15];return s[0]=o*A+a*k+l*Z+u*G,s[4]=o*R+a*$+l*ie+u*Y,s[8]=o*L+a*ee+l*fe+u*X,s[12]=o*C+a*q+l*me+u*ae,s[1]=c*A+f*k+p*Z+m*G,s[5]=c*R+f*$+p*ie+m*Y,s[9]=c*L+f*ee+p*fe+m*X,s[13]=c*C+f*q+p*me+m*ae,s[2]=y*A+_*k+x*Z+g*G,s[6]=y*R+_*$+x*ie+g*Y,s[10]=y*L+_*ee+x*fe+g*X,s[14]=y*C+_*q+x*me+g*ae,s[3]=S*A+w*k+b*Z+M*G,s[7]=S*R+w*$+b*ie+M*Y,s[11]=S*L+w*ee+b*fe+M*X,s[15]=S*C+w*q+b*me+M*ae,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],p=e[10],m=e[14],y=e[3],_=e[7],x=e[11],g=e[15];return y*(+s*l*f-i*u*f-s*a*p+r*u*p+i*a*m-r*l*m)+_*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*c-s*l*c)+x*(+n*u*f-n*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+g*(-i*a*c-n*l*f+n*a*p+i*o*f-r*o*p+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],m=e[11],y=e[12],_=e[13],x=e[14],g=e[15],S=f*x*u-_*p*u+_*l*m-a*x*m-f*l*g+a*p*g,w=y*p*u-c*x*u-y*l*m+o*x*m+c*l*g-o*p*g,b=c*_*u-y*f*u+y*a*m-o*_*m-c*a*g+o*f*g,M=y*f*l-c*_*l-y*a*p+o*_*p+c*a*x-o*f*x,A=n*S+r*w+i*b+s*M;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/A;return e[0]=S*R,e[1]=(_*p*s-f*x*s-_*i*m+r*x*m+f*i*g-r*p*g)*R,e[2]=(a*x*s-_*l*s+_*i*u-r*x*u-a*i*g+r*l*g)*R,e[3]=(f*l*s-a*p*s-f*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=w*R,e[5]=(c*x*s-y*p*s+y*i*m-n*x*m-c*i*g+n*p*g)*R,e[6]=(y*l*s-o*x*s-y*i*u+n*x*u+o*i*g-n*l*g)*R,e[7]=(o*p*s-c*l*s+c*i*u-n*p*u-o*i*m+n*l*m)*R,e[8]=b*R,e[9]=(y*f*s-c*_*s-y*r*m+n*_*m+c*r*g-n*f*g)*R,e[10]=(o*_*s-y*a*s+y*r*u-n*_*u-o*r*g+n*a*g)*R,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*m-n*a*m)*R,e[12]=M*R,e[13]=(c*_*i-y*f*i+y*r*p-n*_*p-c*r*x+n*f*x)*R,e[14]=(y*a*i-o*_*i-y*r*l+n*_*l+o*r*x-n*a*x)*R,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,p=s*u,m=s*c,y=s*f,_=o*c,x=o*f,g=a*f,S=l*u,w=l*c,b=l*f,M=r.x,A=r.y,R=r.z;return i[0]=(1-(_+g))*M,i[1]=(m+b)*M,i[2]=(y-w)*M,i[3]=0,i[4]=(m-b)*A,i[5]=(1-(p+g))*A,i[6]=(x+S)*A,i[7]=0,i[8]=(y+w)*R,i[9]=(x-S)*R,i[10]=(1-(p+_))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=th.set(i[0],i[1],i[2]).length();const o=th.set(i[4],i[5],i[6]).length(),a=th.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],vo.copy(this);const u=1/s,c=1/o,f=1/a;return vo.elements[0]*=u,vo.elements[1]*=u,vo.elements[2]*=u,vo.elements[4]*=c,vo.elements[5]*=c,vo.elements[6]*=c,vo.elements[8]*=f,vo.elements[9]*=f,vo.elements[10]*=f,n.setFromRotationMatrix(vo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),f=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),f=(n+e)*l,p=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const th=new O,vo=new kt,W0e=new O(0,0,0),j0e=new O(1,1,1),Dl=new O,i4=new O,_s=new O,pI=new kt,mI=new Ci;class J2{constructor(e=0,n=0,r=0,i=J2.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(sr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-sr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(sr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-sr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(sr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-sr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return pI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pI,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return mI.setFromEuler(this),this.setFromQuaternion(mI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}J2.DEFAULT_ORDER="XYZ";class qc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let q0e=0;const gI=new O,nh=new Ci,La=new kt,s4=new O,a1=new O,X0e=new O,Y0e=new Ci,yI=new O(1,0,0),vI=new O(0,1,0),_I=new O(0,0,1),K0e={type:"added"},xI={type:"removed"};class ln extends _a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:q0e++}),this.uuid=Cs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ln.DEFAULT_UP.clone();const e=new O,n=new J2,r=new Ci,i=new O(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new kt},normalMatrix:{value:new Wt}}),this.matrix=new kt,this.matrixWorld=new kt,this.matrixAutoUpdate=ln.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return nh.setFromAxisAngle(e,n),this.quaternion.multiply(nh),this}rotateOnWorldAxis(e,n){return nh.setFromAxisAngle(e,n),this.quaternion.premultiply(nh),this}rotateX(e){return this.rotateOnAxis(yI,e)}rotateY(e){return this.rotateOnAxis(vI,e)}rotateZ(e){return this.rotateOnAxis(_I,e)}translateOnAxis(e,n){return gI.copy(e).applyQuaternion(this.quaternion),this.position.add(gI.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(yI,e)}translateY(e){return this.translateOnAxis(vI,e)}translateZ(e){return this.translateOnAxis(_I,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(La.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?s4.copy(e):s4.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),a1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?La.lookAt(a1,s4,this.up):La.lookAt(s4,a1,this.up),this.quaternion.setFromRotationMatrix(La),i&&(La.extractRotation(i.matrixWorld),nh.setFromRotationMatrix(La),this.quaternion.premultiply(nh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(K0e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(xI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(xI)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),La.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),La.multiply(e.parent.matrixWorld)),e.applyMatrix4(La),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(a1,e,X0e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(a1,Y0e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}ln.DEFAULT_UP=new O(0,1,0);ln.DEFAULT_MATRIX_AUTO_UPDATE=!0;ln.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _o=new O,ka=new O,yy=new O,Da=new O,rh=new O,ih=new O,SI=new O,vy=new O,_y=new O,xy=new O;let o4=!1;class es{constructor(e=new O,n=new O,r=new O){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),_o.subVectors(e,n),i.cross(_o);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){_o.subVectors(i,n),ka.subVectors(r,n),yy.subVectors(e,n);const o=_o.dot(_o),a=_o.dot(ka),l=_o.dot(yy),u=ka.dot(ka),c=ka.dot(yy),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(u*l-a*c)*p,y=(o*c-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Da),Da.x>=0&&Da.y>=0&&Da.x+Da.y<=1}static getUV(e,n,r,i,s,o,a,l){return o4===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),o4=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Da),l.setScalar(0),l.addScaledVector(s,Da.x),l.addScaledVector(o,Da.y),l.addScaledVector(a,Da.z),l}static isFrontFacing(e,n,r,i){return _o.subVectors(r,n),ka.subVectors(e,n),_o.cross(ka).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _o.subVectors(this.c,this.b),ka.subVectors(this.a,this.b),_o.cross(ka).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return es.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return es.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return o4===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),o4=!0),es.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return es.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return es.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return es.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;rh.subVectors(i,r),ih.subVectors(s,r),vy.subVectors(e,r);const l=rh.dot(vy),u=ih.dot(vy);if(l<=0&&u<=0)return n.copy(r);_y.subVectors(e,i);const c=rh.dot(_y),f=ih.dot(_y);if(c>=0&&f<=c)return n.copy(i);const p=l*f-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(rh,o);xy.subVectors(e,s);const m=rh.dot(xy),y=ih.dot(xy);if(y>=0&&m<=y)return n.copy(s);const _=m*u-l*y;if(_<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(ih,a);const x=c*y-m*f;if(x<=0&&f-c>=0&&m-y>=0)return SI.subVectors(s,i),a=(f-c)/(f-c+(m-y)),n.copy(i).addScaledVector(SI,a);const g=1/(x+_+p);return o=_*g,a=p*g,n.copy(r).addScaledVector(rh,o).addScaledVector(ih,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Q0e=0;class Ur extends _a{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Q0e++}),this.uuid=Cs(),this.name="",this.type="Material",this.blending=$c,this.side=ll,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=PE,this.blendDst=RE,this.blendEquation=_c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=O6,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vV,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=U5,this.stencilZFail=U5,this.stencilZPass=U5,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==$c&&(r.blending=this.blending),this.side!==ll&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const wV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xo={h:0,s:0,l:0},a4={h:0,s:0,l:0};function Sy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ft){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qs.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qs.workingColorSpace){return this.r=e,this.g=n,this.b=r,Qs.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qs.workingColorSpace){if(e=OE(e,1),n=sr(n,0,1),r=sr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Sy(o,s,e+1/3),this.g=Sy(o,s,e),this.b=Sy(o,s,e-1/3)}return Qs.toWorkingColorSpace(this,i),this}setStyle(e,n=Ft){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ft){const r=wV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vf(e.r),this.g=vf(e.g),this.b=vf(e.b),this}copyLinearToSRGB(e){return this.r=uy(e.r),this.g=uy(e.g),this.b=uy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ft){return Qs.fromWorkingColorSpace(Si.copy(this),e),Math.round(sr(Si.r*255,0,255))*65536+Math.round(sr(Si.g*255,0,255))*256+Math.round(sr(Si.b*255,0,255))}getHexString(e=Ft){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qs.workingColorSpace){Qs.fromWorkingColorSpace(Si.copy(this),n);const r=Si.r,i=Si.g,s=Si.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Qs.workingColorSpace){return Qs.fromWorkingColorSpace(Si.copy(this),n),e.r=Si.r,e.g=Si.g,e.b=Si.b,e}getStyle(e=Ft){Qs.fromWorkingColorSpace(Si.copy(this),e);const n=Si.r,r=Si.g,i=Si.b;return e!==Ft?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(xo),xo.h+=e,xo.s+=n,xo.l+=r,this.setHSL(xo.h,xo.s,xo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(xo),e.getHSL(a4);const r=op(xo.h,a4.h,n),i=op(xo.s,a4.s,n),s=op(xo.l,a4.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Si=new et;et.NAMES=wV;class Du extends Ur{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ha=Z0e();function Z0e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Zi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=sr(t,-65504,65504),Ha.floatView[0]=t;const e=Ha.uint32View[0],n=e>>23&511;return Ha.baseTable[n]+((e&8388607)>>Ha.shiftTable[n])}function I1(t){const e=t>>10;return Ha.uint32View[0]=Ha.mantissaTable[Ha.offsetTable[e]+(t&1023)]+Ha.exponentTable[e],Ha.floatView[0]}const J0e={toHalfFloat:Zi,fromHalfFloat:I1},xr=new O,l4=new Me;class Cn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=o2,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)l4.fromBufferAttribute(this,n),l4.applyMatrix3(e),this.setXY(n,l4.x,l4.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)xr.fromBufferAttribute(this,n),xr.applyMatrix3(e),this.setXYZ(n,xr.x,xr.y,xr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)xr.fromBufferAttribute(this,n),xr.applyMatrix4(e),this.setXYZ(n,xr.x,xr.y,xr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)xr.fromBufferAttribute(this,n),xr.applyNormalMatrix(e),this.setXYZ(n,xr.x,xr.y,xr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)xr.fromBufferAttribute(this,n),xr.transformDirection(e),this.setXYZ(n,xr.x,xr.y,xr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array),s=Vt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==o2&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class e1e extends Cn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class t1e extends Cn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class n1e extends Cn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class r1e extends Cn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class BE extends Cn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class i1e extends Cn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class VE extends Cn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class s1e extends Cn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=I1(this.array[e*this.itemSize]);return this.normalized&&(n=bs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize]=Zi(n),this}getY(e){let n=I1(this.array[e*this.itemSize+1]);return this.normalized&&(n=bs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+1]=Zi(n),this}getZ(e){let n=I1(this.array[e*this.itemSize+2]);return this.normalized&&(n=bs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+2]=Zi(n),this}getW(e){let n=I1(this.array[e*this.itemSize+3]);return this.normalized&&(n=bs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Vt(n,this.array)),this.array[e*this.itemSize+3]=Zi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array)),this.array[e+0]=Zi(n),this.array[e+1]=Zi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array)),this.array[e+0]=Zi(n),this.array[e+1]=Zi(r),this.array[e+2]=Zi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array),s=Vt(s,this.array)),this.array[e+0]=Zi(n),this.array[e+1]=Zi(r),this.array[e+2]=Zi(i),this.array[e+3]=Zi(s),this}}class tt extends Cn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class o1e extends Cn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let a1e=0;const Ys=new kt,wy=new ln,sh=new O,xs=new xa,l1=new xa,Xr=new O;class Rt extends _a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:a1e++}),this.uuid=Cs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(SV(e)?VE:BE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Wt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ys.makeRotationFromQuaternion(e),this.applyMatrix4(Ys),this}rotateX(e){return Ys.makeRotationX(e),this.applyMatrix4(Ys),this}rotateY(e){return Ys.makeRotationY(e),this.applyMatrix4(Ys),this}rotateZ(e){return Ys.makeRotationZ(e),this.applyMatrix4(Ys),this}translate(e,n,r){return Ys.makeTranslation(e,n,r),this.applyMatrix4(Ys),this}scale(e,n,r){return Ys.makeScale(e,n,r),this.applyMatrix4(Ys),this}lookAt(e){return wy.lookAt(e),wy.updateMatrix(),this.applyMatrix4(wy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sh).negate(),this.translate(sh.x,sh.y,sh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new tt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new O(-1/0,-1/0,-1/0),new O(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];xs.setFromBufferAttribute(s),this.morphTargetsRelative?(Xr.addVectors(this.boundingBox.min,xs.min),this.boundingBox.expandByPoint(Xr),Xr.addVectors(this.boundingBox.max,xs.max),this.boundingBox.expandByPoint(Xr)):(this.boundingBox.expandByPoint(xs.min),this.boundingBox.expandByPoint(xs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new O,1/0);return}if(e){const r=this.boundingSphere.center;if(xs.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];l1.setFromBufferAttribute(a),this.morphTargetsRelative?(Xr.addVectors(xs.min,l1.min),xs.expandByPoint(Xr),Xr.addVectors(xs.max,l1.max),xs.expandByPoint(Xr)):(xs.expandByPoint(l1.min),xs.expandByPoint(l1.max))}xs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Xr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Xr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Xr.fromBufferAttribute(a,u),l&&(sh.fromBufferAttribute(e,u),Xr.add(sh)),i=Math.max(i,r.distanceToSquared(Xr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Cn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let k=0;k<a;k++)u[k]=new O,c[k]=new O;const f=new O,p=new O,m=new O,y=new Me,_=new Me,x=new Me,g=new O,S=new O;function w(k,$,ee){f.fromArray(i,k*3),p.fromArray(i,$*3),m.fromArray(i,ee*3),y.fromArray(o,k*2),_.fromArray(o,$*2),x.fromArray(o,ee*2),p.sub(f),m.sub(f),_.sub(y),x.sub(y);const q=1/(_.x*x.y-x.x*_.y);isFinite(q)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(q),S.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(q),u[k].add(g),u[$].add(g),u[ee].add(g),c[k].add(S),c[$].add(S),c[ee].add(S))}let b=this.groups;b.length===0&&(b=[{start:0,count:r.length}]);for(let k=0,$=b.length;k<$;++k){const ee=b[k],q=ee.start,Z=ee.count;for(let ie=q,fe=q+Z;ie<fe;ie+=3)w(r[ie+0],r[ie+1],r[ie+2])}const M=new O,A=new O,R=new O,L=new O;function C(k){R.fromArray(s,k*3),L.copy(R);const $=u[k];M.copy($),M.sub(R.multiplyScalar(R.dot($))).normalize(),A.crossVectors(L,$);const q=A.dot(c[k])<0?-1:1;l[k*4]=M.x,l[k*4+1]=M.y,l[k*4+2]=M.z,l[k*4+3]=q}for(let k=0,$=b.length;k<$;++k){const ee=b[k],q=ee.start,Z=ee.count;for(let ie=q,fe=q+Z;ie<fe;ie+=3)C(r[ie+0]),C(r[ie+1]),C(r[ie+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Cn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new O,s=new O,o=new O,a=new O,l=new O,u=new O,c=new O,f=new O;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,_),o.fromBufferAttribute(n,x),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,x),a.add(c),l.add(c),u.add(c),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Xr.fromBufferAttribute(e,n),Xr.normalize(),e.setXYZ(n,Xr.x,Xr.y,Xr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,p=new u.constructor(l.length*c);let m=0,y=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*c;for(let g=0;g<c;g++)p[y++]=u[m++]}return new Cn(p,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Rt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let p=0,m=f.length;p<m;p++)c.push(f[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wI=new kt,Xo=new Z2,u4=new Sa,EI=new O,oh=new O,ah=new O,lh=new O,Ey=new O,c4=new O,d4=new Me,h4=new Me,f4=new Me,bI=new O,TI=new O,MI=new O,p4=new O,m4=new O;class Fr extends ln{constructor(e=new Rt,n=new Du){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){c4.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(Ey.fromBufferAttribute(f,e),o?c4.addScaledVector(Ey,c):c4.addScaledVector(Ey.sub(n),c))}n.add(c4)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),u4.copy(r.boundingSphere),u4.applyMatrix4(s),Xo.copy(e.ray).recast(e.near),!(u4.containsPoint(Xo.origin)===!1&&(Xo.intersectSphere(u4,EI)===null||Xo.origin.distanceToSquared(EI)>(e.far-e.near)**2))&&(wI.copy(s).invert(),Xo.copy(e.ray).applyMatrix4(wI),!(r.boundingBox!==null&&Xo.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n)))}_computeIntersections(e,n){let r;const i=this.geometry,s=this.material,o=i.index,a=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,f=i.groups,p=i.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,y=f.length;m<y;m++){const _=f[m],x=s[_.materialIndex],g=Math.max(_.start,p.start),S=Math.min(o.count,Math.min(_.start+_.count,p.start+p.count));for(let w=g,b=S;w<b;w+=3){const M=o.getX(w),A=o.getX(w+1),R=o.getX(w+2);r=g4(this,x,e,Xo,l,u,c,M,A,R),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,n.push(r))}}else{const m=Math.max(0,p.start),y=Math.min(o.count,p.start+p.count);for(let _=m,x=y;_<x;_+=3){const g=o.getX(_),S=o.getX(_+1),w=o.getX(_+2);r=g4(this,s,e,Xo,l,u,c,g,S,w),r&&(r.faceIndex=Math.floor(_/3),n.push(r))}}else if(a!==void 0)if(Array.isArray(s))for(let m=0,y=f.length;m<y;m++){const _=f[m],x=s[_.materialIndex],g=Math.max(_.start,p.start),S=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));for(let w=g,b=S;w<b;w+=3){const M=w,A=w+1,R=w+2;r=g4(this,x,e,Xo,l,u,c,M,A,R),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,n.push(r))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let _=m,x=y;_<x;_+=3){const g=_,S=_+1,w=_+2;r=g4(this,s,e,Xo,l,u,c,g,S,w),r&&(r.faceIndex=Math.floor(_/3),n.push(r))}}}}function l1e(t,e,n,r,i,s,o,a){let l;if(e.side===ji?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ll,a),l===null)return null;m4.copy(a),m4.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(m4);return u<n.near||u>n.far?null:{distance:u,point:m4.clone(),object:t}}function g4(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,oh),t.getVertexPosition(l,ah),t.getVertexPosition(u,lh);const c=l1e(t,e,n,r,oh,ah,lh,p4);if(c){i&&(d4.fromBufferAttribute(i,a),h4.fromBufferAttribute(i,l),f4.fromBufferAttribute(i,u),c.uv=es.getInterpolation(p4,oh,ah,lh,d4,h4,f4,new Me)),s&&(d4.fromBufferAttribute(s,a),h4.fromBufferAttribute(s,l),f4.fromBufferAttribute(s,u),c.uv1=es.getInterpolation(p4,oh,ah,lh,d4,h4,f4,new Me),c.uv2=c.uv1),o&&(bI.fromBufferAttribute(o,a),TI.fromBufferAttribute(o,l),MI.fromBufferAttribute(o,u),c.normal=es.getInterpolation(p4,oh,ah,lh,bI,TI,MI,new O),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new O,materialIndex:0};es.getNormal(oh,ah,lh,f.normal),c.face=f}return c}class Nu extends Rt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let p=0,m=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new tt(u,3)),this.setAttribute("normal",new tt(c,3)),this.setAttribute("uv",new tt(f,2));function y(_,x,g,S,w,b,M,A,R,L,C){const k=b/R,$=M/L,ee=b/2,q=M/2,Z=A/2,ie=R+1,fe=L+1;let me=0,G=0;const Y=new O;for(let X=0;X<fe;X++){const ae=X*$-q;for(let ce=0;ce<ie;ce++){const re=ce*k-ee;Y[_]=re*S,Y[x]=ae*w,Y[g]=Z,u.push(Y.x,Y.y,Y.z),Y[_]=0,Y[x]=0,Y[g]=A>0?1:-1,c.push(Y.x,Y.y,Y.z),f.push(ce/R),f.push(1-X/L),me+=1}}for(let X=0;X<L;X++)for(let ae=0;ae<R;ae++){const ce=p+ae+ie*X,re=p+ae+ie*(X+1),he=p+(ae+1)+ie*(X+1),Pe=p+(ae+1)+ie*X;l.push(ce,re,Pe),l.push(re,he,Pe),G+=6}a.addGroup(m,G,C),m+=G,p+=me}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Hf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ui(t){const e={};for(let n=0;n<t.length;n++){const r=Hf(t[n]);for(const i in r)e[i]=r[i]}return e}function u1e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function EV(t){return t.getRenderTarget()===null?t.outputColorSpace:Do}const bV={clone:Hf,merge:Ui};var c1e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,d1e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fa extends Ur{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=c1e,this.fragmentShader=d1e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hf(e.uniforms),this.uniformsGroups=u1e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class e3 extends ln{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kt,this.projectionMatrix=new kt,this.projectionMatrixInverse=new kt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Bn extends e3{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Vf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(jc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Vf*2*Math.atan(Math.tan(jc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(jc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const uh=-90,ch=1;class TV extends ln{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Bn(uh,ch,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Bn(uh,ch,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Bn(uh,ch,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Bn(uh,ch,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Bn(uh,ch,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Bn(uh,ch,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,p=e.xr.enabled;e.toneMapping=Lo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class t3 extends ar{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Su,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class MV extends No{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(ap("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===cu?Ft:du),this.texture=new t3(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:mr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Nu(5,5,5),s=new fa({name:"CubemapFromEquirect",uniforms:Hf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ji,blending:tl});s.uniforms.tEquirect.value=n;const o=new Fr(i,s),a=n.minFilter;return n.minFilter===Eu&&(n.minFilter=mr),new TV(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const by=new O,h1e=new O,f1e=new Wt;class Vl{constructor(e=new O(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=by.subVectors(r,n).cross(h1e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(by),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||f1e.getNormalMatrix(e),i=this.coplanarPoint(by).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const rc=new Sa,y4=new O;class a8{constructor(e=new Vl,n=new Vl,r=new Vl,i=new Vl,s=new Vl,o=new Vl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],p=r[8],m=r[9],y=r[10],_=r[11],x=r[12],g=r[13],S=r[14],w=r[15];return n[0].setComponents(a-i,f-l,_-p,w-x).normalize(),n[1].setComponents(a+i,f+l,_+p,w+x).normalize(),n[2].setComponents(a+s,f+u,_+m,w+g).normalize(),n[3].setComponents(a-s,f-u,_-m,w-g).normalize(),n[4].setComponents(a-o,f-c,_-y,w-S).normalize(),n[5].setComponents(a+o,f+c,_+y,w+S).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),rc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),rc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(rc)}intersectsSprite(e){return rc.center.set(0,0,0),rc.radius=.7071067811865476,rc.applyMatrix4(e.matrixWorld),this.intersectsSphere(rc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(y4.x=i.normal.x>0?e.max.x:e.min.x,y4.y=i.normal.y>0?e.max.y:e.min.y,y4.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(y4)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AV(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function p1e(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,f,p),u.onUploadCallback();let y;if(f instanceof Float32Array)y=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=t.SHORT;else if(f instanceof Uint32Array)y=t.UNSIGNED_INT;else if(f instanceof Int32Array)y=t.INT;else if(f instanceof Int8Array)y=t.BYTE;else if(f instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const p=c.array,m=c.updateRange;t.bindBuffer(f,u),m.count===-1?t.bufferSubData(f,0,p):(n?t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class u0 extends Rt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,p=n/l,m=[],y=[],_=[],x=[];for(let g=0;g<c;g++){const S=g*p-o;for(let w=0;w<u;w++){const b=w*f-s;y.push(b,-S,0),_.push(0,0,1),x.push(w/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const w=S+u*g,b=S+u*(g+1),M=S+1+u*(g+1),A=S+1+u*g;m.push(w,b,A),m.push(b,M,A)}this.setIndex(m),this.setAttribute("position",new tt(y,3)),this.setAttribute("normal",new tt(_,3)),this.setAttribute("uv",new tt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u0(e.width,e.height,e.widthSegments,e.heightSegments)}}var m1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,g1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y1e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,v1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,x1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,S1e="vec3 transformed = vec3( position );",w1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,E1e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,b1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,T1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,M1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,A1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,C1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,P1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,R1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,I1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,L1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,k1e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,D1e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,N1e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,F1e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,O1e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,U1e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,z1e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,B1e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,V1e="gl_FragColor = linearToOutputTexel( gl_FragColor );",H1e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,G1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,$1e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,W1e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,j1e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,q1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,X1e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Y1e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,K1e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Q1e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Z1e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,J1e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,epe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tpe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,npe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rpe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ipe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,spe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ope=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ape=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,upe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,cpe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dpe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,hpe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fpe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ppe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mpe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gpe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ype=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,vpe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,_pe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Spe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wpe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Epe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bpe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Tpe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Mpe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Ape=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Cpe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Ppe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ipe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kpe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Dpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Npe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Fpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ope=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Upe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zpe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Bpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Hpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Gpe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$pe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Wpe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,qpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Xpe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ype=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Kpe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qpe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Zpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Jpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,e2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,t2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,n2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,r2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,i2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,s2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,o2e=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,a2e=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,l2e=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,u2e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const c2e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,d2e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,h2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,f2e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,p2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,m2e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,g2e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,y2e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,v2e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_2e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,x2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,S2e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,w2e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,E2e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,b2e=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,T2e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,M2e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A2e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C2e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,P2e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R2e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,I2e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,L2e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,k2e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D2e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,N2e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F2e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O2e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U2e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,z2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,B2e=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V2e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,H2e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,G2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Bt={alphamap_fragment:m1e,alphamap_pars_fragment:g1e,alphatest_fragment:y1e,alphatest_pars_fragment:v1e,aomap_fragment:_1e,aomap_pars_fragment:x1e,begin_vertex:S1e,beginnormal_vertex:w1e,bsdfs:E1e,iridescence_fragment:b1e,bumpmap_pars_fragment:T1e,clipping_planes_fragment:M1e,clipping_planes_pars_fragment:A1e,clipping_planes_pars_vertex:C1e,clipping_planes_vertex:P1e,color_fragment:R1e,color_pars_fragment:I1e,color_pars_vertex:L1e,color_vertex:k1e,common:D1e,cube_uv_reflection_fragment:N1e,defaultnormal_vertex:F1e,displacementmap_pars_vertex:O1e,displacementmap_vertex:U1e,emissivemap_fragment:z1e,emissivemap_pars_fragment:B1e,encodings_fragment:V1e,encodings_pars_fragment:H1e,envmap_fragment:G1e,envmap_common_pars_fragment:$1e,envmap_pars_fragment:W1e,envmap_pars_vertex:j1e,envmap_physical_pars_fragment:ipe,envmap_vertex:q1e,fog_vertex:X1e,fog_pars_vertex:Y1e,fog_fragment:K1e,fog_pars_fragment:Q1e,gradientmap_pars_fragment:Z1e,lightmap_fragment:J1e,lightmap_pars_fragment:epe,lights_lambert_fragment:tpe,lights_lambert_pars_fragment:npe,lights_pars_begin:rpe,lights_toon_fragment:spe,lights_toon_pars_fragment:ope,lights_phong_fragment:ape,lights_phong_pars_fragment:lpe,lights_physical_fragment:upe,lights_physical_pars_fragment:cpe,lights_fragment_begin:dpe,lights_fragment_maps:hpe,lights_fragment_end:fpe,logdepthbuf_fragment:ppe,logdepthbuf_pars_fragment:mpe,logdepthbuf_pars_vertex:gpe,logdepthbuf_vertex:ype,map_fragment:vpe,map_pars_fragment:_pe,map_particle_fragment:xpe,map_particle_pars_fragment:Spe,metalnessmap_fragment:wpe,metalnessmap_pars_fragment:Epe,morphcolor_vertex:bpe,morphnormal_vertex:Tpe,morphtarget_pars_vertex:Mpe,morphtarget_vertex:Ape,normal_fragment_begin:Cpe,normal_fragment_maps:Ppe,normal_pars_fragment:Rpe,normal_pars_vertex:Ipe,normal_vertex:Lpe,normalmap_pars_fragment:kpe,clearcoat_normal_fragment_begin:Dpe,clearcoat_normal_fragment_maps:Npe,clearcoat_pars_fragment:Fpe,iridescence_pars_fragment:Ope,output_fragment:Upe,packing:zpe,premultiplied_alpha_fragment:Bpe,project_vertex:Vpe,dithering_fragment:Hpe,dithering_pars_fragment:Gpe,roughnessmap_fragment:$pe,roughnessmap_pars_fragment:Wpe,shadowmap_pars_fragment:jpe,shadowmap_pars_vertex:qpe,shadowmap_vertex:Xpe,shadowmask_pars_fragment:Ype,skinbase_vertex:Kpe,skinning_pars_vertex:Qpe,skinning_vertex:Zpe,skinnormal_vertex:Jpe,specularmap_fragment:e2e,specularmap_pars_fragment:t2e,tonemapping_fragment:n2e,tonemapping_pars_fragment:r2e,transmission_fragment:i2e,transmission_pars_fragment:s2e,uv_pars_fragment:o2e,uv_pars_vertex:a2e,uv_vertex:l2e,worldpos_vertex:u2e,background_vert:c2e,background_frag:d2e,backgroundCube_vert:h2e,backgroundCube_frag:f2e,cube_vert:p2e,cube_frag:m2e,depth_vert:g2e,depth_frag:y2e,distanceRGBA_vert:v2e,distanceRGBA_frag:_2e,equirect_vert:x2e,equirect_frag:S2e,linedashed_vert:w2e,linedashed_frag:E2e,meshbasic_vert:b2e,meshbasic_frag:T2e,meshlambert_vert:M2e,meshlambert_frag:A2e,meshmatcap_vert:C2e,meshmatcap_frag:P2e,meshnormal_vert:R2e,meshnormal_frag:I2e,meshphong_vert:L2e,meshphong_frag:k2e,meshphysical_vert:D2e,meshphysical_frag:N2e,meshtoon_vert:F2e,meshtoon_frag:O2e,points_vert:U2e,points_frag:z2e,shadow_vert:B2e,shadow_frag:V2e,sprite_vert:H2e,sprite_frag:G2e},We={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wt},normalScale:{value:new Me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaTest:{value:0}}},Mo={basic:{uniforms:Ui([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.fog]),vertexShader:Bt.meshbasic_vert,fragmentShader:Bt.meshbasic_frag},lambert:{uniforms:Ui([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new et(0)}}]),vertexShader:Bt.meshlambert_vert,fragmentShader:Bt.meshlambert_frag},phong:{uniforms:Ui([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:Bt.meshphong_vert,fragmentShader:Bt.meshphong_frag},standard:{uniforms:Ui([We.common,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.roughnessmap,We.metalnessmap,We.fog,We.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag},toon:{uniforms:Ui([We.common,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.gradientmap,We.fog,We.lights,{emissive:{value:new et(0)}}]),vertexShader:Bt.meshtoon_vert,fragmentShader:Bt.meshtoon_frag},matcap:{uniforms:Ui([We.common,We.bumpmap,We.normalmap,We.displacementmap,We.fog,{matcap:{value:null}}]),vertexShader:Bt.meshmatcap_vert,fragmentShader:Bt.meshmatcap_frag},points:{uniforms:Ui([We.points,We.fog]),vertexShader:Bt.points_vert,fragmentShader:Bt.points_frag},dashed:{uniforms:Ui([We.common,We.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bt.linedashed_vert,fragmentShader:Bt.linedashed_frag},depth:{uniforms:Ui([We.common,We.displacementmap]),vertexShader:Bt.depth_vert,fragmentShader:Bt.depth_frag},normal:{uniforms:Ui([We.common,We.bumpmap,We.normalmap,We.displacementmap,{opacity:{value:1}}]),vertexShader:Bt.meshnormal_vert,fragmentShader:Bt.meshnormal_frag},sprite:{uniforms:Ui([We.sprite,We.fog]),vertexShader:Bt.sprite_vert,fragmentShader:Bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bt.background_vert,fragmentShader:Bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Bt.backgroundCube_vert,fragmentShader:Bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bt.cube_vert,fragmentShader:Bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bt.equirect_vert,fragmentShader:Bt.equirect_frag},distanceRGBA:{uniforms:Ui([We.common,We.displacementmap,{referencePosition:{value:new O},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bt.distanceRGBA_vert,fragmentShader:Bt.distanceRGBA_frag},shadow:{uniforms:Ui([We.lights,We.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Bt.shadow_vert,fragmentShader:Bt.shadow_frag}};Mo.physical={uniforms:Ui([Mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wt},clearcoatNormalScale:{value:new Me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wt},transmissionSamplerSize:{value:new Me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wt}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag};const v4={r:0,b:0,g:0};function $2e(t,e,n,r,i,s,o){const a=new et(0);let l=s===!0?0:1,u,c,f=null,p=0,m=null;function y(x,g){let S=!1,w=g.isScene===!0?g.background:null;switch(w&&w.isTexture&&(w=(g.backgroundBlurriness>0?n:e).get(w)),w===null?_(a,l):w&&w.isColor&&(_(w,1),S=!0),t.xr.getEnvironmentBlendMode()){case"opaque":S=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),S=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),S=!0;break}(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===l0)?(c===void 0&&(c=new Fr(new Nu(1,1,1),new fa({name:"BackgroundCubeMaterial",uniforms:Hf(Mo.backgroundCube.uniforms),vertexShader:Mo.backgroundCube.vertexShader,fragmentShader:Mo.backgroundCube.fragmentShader,side:ji,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,R,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=w.colorSpace!==Ft,(f!==w||p!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Fr(new u0(2,2),new fa({name:"BackgroundMaterial",uniforms:Hf(Mo.background.uniforms),vertexShader:Mo.background.vertexShader,fragmentShader:Mo.background.fragmentShader,side:ll,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=w.colorSpace!==Ft,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function _(x,g){x.getRGB(v4,EV(t)),r.buffers.color.setClear(v4.r,v4.g,v4.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:y}}function W2e(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let u=l,c=!1;function f(Z,ie,fe,me,G){let Y=!1;if(o){const X=_(me,fe,ie);u!==X&&(u=X,m(u.object)),Y=g(Z,me,fe,G),Y&&S(Z,me,fe,G)}else{const X=ie.wireframe===!0;(u.geometry!==me.id||u.program!==fe.id||u.wireframe!==X)&&(u.geometry=me.id,u.program=fe.id,u.wireframe=X,Y=!0)}G!==null&&n.update(G,t.ELEMENT_ARRAY_BUFFER),(Y||c)&&(c=!1,L(Z,ie,fe,me),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(G).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(Z){return r.isWebGL2?t.bindVertexArray(Z):s.bindVertexArrayOES(Z)}function y(Z){return r.isWebGL2?t.deleteVertexArray(Z):s.deleteVertexArrayOES(Z)}function _(Z,ie,fe){const me=fe.wireframe===!0;let G=a[Z.id];G===void 0&&(G={},a[Z.id]=G);let Y=G[ie.id];Y===void 0&&(Y={},G[ie.id]=Y);let X=Y[me];return X===void 0&&(X=x(p()),Y[me]=X),X}function x(Z){const ie=[],fe=[],me=[];for(let G=0;G<i;G++)ie[G]=0,fe[G]=0,me[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ie,enabledAttributes:fe,attributeDivisors:me,object:Z,attributes:{},index:null}}function g(Z,ie,fe,me){const G=u.attributes,Y=ie.attributes;let X=0;const ae=fe.getAttributes();for(const ce in ae)if(ae[ce].location>=0){const he=G[ce];let Pe=Y[ce];if(Pe===void 0&&(ce==="instanceMatrix"&&Z.instanceMatrix&&(Pe=Z.instanceMatrix),ce==="instanceColor"&&Z.instanceColor&&(Pe=Z.instanceColor)),he===void 0||he.attribute!==Pe||Pe&&he.data!==Pe.data)return!0;X++}return u.attributesNum!==X||u.index!==me}function S(Z,ie,fe,me){const G={},Y=ie.attributes;let X=0;const ae=fe.getAttributes();for(const ce in ae)if(ae[ce].location>=0){let he=Y[ce];he===void 0&&(ce==="instanceMatrix"&&Z.instanceMatrix&&(he=Z.instanceMatrix),ce==="instanceColor"&&Z.instanceColor&&(he=Z.instanceColor));const Pe={};Pe.attribute=he,he&&he.data&&(Pe.data=he.data),G[ce]=Pe,X++}u.attributes=G,u.attributesNum=X,u.index=me}function w(){const Z=u.newAttributes;for(let ie=0,fe=Z.length;ie<fe;ie++)Z[ie]=0}function b(Z){M(Z,0)}function M(Z,ie){const fe=u.newAttributes,me=u.enabledAttributes,G=u.attributeDivisors;fe[Z]=1,me[Z]===0&&(t.enableVertexAttribArray(Z),me[Z]=1),G[Z]!==ie&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Z,ie),G[Z]=ie)}function A(){const Z=u.newAttributes,ie=u.enabledAttributes;for(let fe=0,me=ie.length;fe<me;fe++)ie[fe]!==Z[fe]&&(t.disableVertexAttribArray(fe),ie[fe]=0)}function R(Z,ie,fe,me,G,Y){r.isWebGL2===!0&&(fe===t.INT||fe===t.UNSIGNED_INT)?t.vertexAttribIPointer(Z,ie,fe,G,Y):t.vertexAttribPointer(Z,ie,fe,me,G,Y)}function L(Z,ie,fe,me){if(r.isWebGL2===!1&&(Z.isInstancedMesh||me.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const G=me.attributes,Y=fe.getAttributes(),X=ie.defaultAttributeValues;for(const ae in Y){const ce=Y[ae];if(ce.location>=0){let re=G[ae];if(re===void 0&&(ae==="instanceMatrix"&&Z.instanceMatrix&&(re=Z.instanceMatrix),ae==="instanceColor"&&Z.instanceColor&&(re=Z.instanceColor)),re!==void 0){const he=re.normalized,Pe=re.itemSize,Ae=n.get(re);if(Ae===void 0)continue;const j=Ae.buffer,Ze=Ae.type,nt=Ae.bytesPerElement;if(re.isInterleavedBufferAttribute){const Re=re.data,He=Re.stride,Te=re.offset;if(Re.isInstancedInterleavedBuffer){for(let ve=0;ve<ce.locationSize;ve++)M(ce.location+ve,Re.meshPerAttribute);Z.isInstancedMesh!==!0&&me._maxInstanceCount===void 0&&(me._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let ve=0;ve<ce.locationSize;ve++)b(ce.location+ve);t.bindBuffer(t.ARRAY_BUFFER,j);for(let ve=0;ve<ce.locationSize;ve++)R(ce.location+ve,Pe/ce.locationSize,Ze,he,He*nt,(Te+Pe/ce.locationSize*ve)*nt)}else{if(re.isInstancedBufferAttribute){for(let Re=0;Re<ce.locationSize;Re++)M(ce.location+Re,re.meshPerAttribute);Z.isInstancedMesh!==!0&&me._maxInstanceCount===void 0&&(me._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Re=0;Re<ce.locationSize;Re++)b(ce.location+Re);t.bindBuffer(t.ARRAY_BUFFER,j);for(let Re=0;Re<ce.locationSize;Re++)R(ce.location+Re,Pe/ce.locationSize,Ze,he,Pe*nt,Pe/ce.locationSize*Re*nt)}}else if(X!==void 0){const he=X[ae];if(he!==void 0)switch(he.length){case 2:t.vertexAttrib2fv(ce.location,he);break;case 3:t.vertexAttrib3fv(ce.location,he);break;case 4:t.vertexAttrib4fv(ce.location,he);break;default:t.vertexAttrib1fv(ce.location,he)}}}}A()}function C(){ee();for(const Z in a){const ie=a[Z];for(const fe in ie){const me=ie[fe];for(const G in me)y(me[G].object),delete me[G];delete ie[fe]}delete a[Z]}}function k(Z){if(a[Z.id]===void 0)return;const ie=a[Z.id];for(const fe in ie){const me=ie[fe];for(const G in me)y(me[G].object),delete me[G];delete ie[fe]}delete a[Z.id]}function $(Z){for(const ie in a){const fe=a[ie];if(fe[Z.id]===void 0)continue;const me=fe[Z.id];for(const G in me)y(me[G].object),delete me[G];delete fe[Z.id]}}function ee(){q(),c=!0,u!==l&&(u=l,m(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:ee,resetDefaultState:q,dispose:C,releaseStatesOfGeometry:k,releaseStatesOfProgram:$,initAttributes:w,enableAttribute:b,disableUnusedAttributes:A}}function j2e(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function q2e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,b=o||e.has("OES_texture_float"),M=w&&b,A=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:S,vertexTextures:w,floatFragmentTextures:b,floatVertexTextures:M,maxSamples:A}}function X2e(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Vl,a=new Wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){n=c(f,p,0)},this.setState=function(f,p,m){const y=f.clippingPlanes,_=f.clipIntersection,x=f.clipShadows,g=t.get(f);if(!i||y===null||y.length===0||s&&!x)s?c(null):u();else{const S=s?0:r,w=S*4;let b=g.clippingState||null;l.value=b,b=c(y,p,w,m);for(let M=0;M!==w;++M)b[M]=n[M];g.clippingState=b,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,p,m,y){const _=f!==null?f.length:0;let x=null;if(_!==0){if(x=l.value,y!==!0||x===null){const g=m+_*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<g)&&(x=new Float32Array(g));for(let w=0,b=m;w!==_;++w,b+=4)o.copy(f[w]).applyMatrix4(S,a),o.normal.toArray(x,b),x[b+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function Y2e(t){let e=new WeakMap;function n(o,a){return a===Jp?o.mapping=Su:a===e2&&(o.mapping=wu),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Jp||a===e2)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new MV(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class hu extends e3{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Qh=4,AI=[.125,.215,.35,.446,.526,.582],xc=20,Ty=new hu,CI=new et;let My=null;const mc=(1+Math.sqrt(5))/2,dh=1/mc,PI=[new O(1,1,1),new O(-1,1,1),new O(1,1,-1),new O(-1,1,-1),new O(0,mc,dh),new O(0,mc,-dh),new O(dh,0,mc),new O(-dh,0,mc),new O(mc,dh,0),new O(-mc,dh,0)];class Lx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){My=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=II(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(My),e.scissorTest=!1,_4(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Su||e.mapping===wu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),My=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:mr,minFilter:mr,generateMipmaps:!1,type:Bf,format:ns,colorSpace:Do,depthBuffer:!1},i=RI(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RI(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=K2e(s)),this._blurMaterial=Q2e(s,e,n)}return i}_compileMaterial(e){const n=new Fr(this._lodPlanes[0],e);this._renderer.compile(n,Ty)}_sceneToCubeUV(e,n,r,i){const a=new Bn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,p=c.toneMapping;c.getClearColor(CI),c.toneMapping=Lo,c.autoClear=!1;const m=new Du({name:"PMREM.Background",side:ji,depthWrite:!1,depthTest:!1}),y=new Fr(new Nu,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(CI),_=!0);for(let g=0;g<6;g++){const S=g%3;S===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):S===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const w=this._cubeSize;_4(i,S*w,g>2?w:0,w,w),c.setRenderTarget(i),_&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=p,c.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Su||e.mapping===wu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=LI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=II());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Fr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_4(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Ty)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=PI[(i-1)%PI.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Fr(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*xc-1),_=s/y,x=isFinite(s)?1+Math.floor(c*_):xc;x>xc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${xc}`);const g=[];let S=0;for(let R=0;R<xc;++R){const L=R/_,C=Math.exp(-L*L/2);g.push(C),R===0?S+=C:R<x&&(S+=2*C)}for(let R=0;R<g.length;R++)g[R]=g[R]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-r;const b=this._sizeLods[i],M=3*b*(i>w-Qh?i-w+Qh:0),A=4*(this._cubeSize-b);_4(n,M,A,3*b,2*b),l.setRenderTarget(n),l.render(f,Ty)}}function K2e(t){const e=[],n=[],r=[];let i=t;const s=t-Qh+1+AI.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Qh?l=AI[o-t+Qh-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,p=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,y=6,_=3,x=2,g=1,S=new Float32Array(_*y*m),w=new Float32Array(x*y*m),b=new Float32Array(g*y*m);for(let A=0;A<m;A++){const R=A%3*2/3-1,L=A>2?0:-1,C=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];S.set(C,_*y*A),w.set(p,x*y*A);const k=[A,A,A,A,A,A];b.set(k,g*y*A)}const M=new Rt;M.setAttribute("position",new Cn(S,_)),M.setAttribute("uv",new Cn(w,x)),M.setAttribute("faceIndex",new Cn(b,g)),e.push(M),i>Qh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function RI(t,e,n){const r=new No(t,e,n);return r.texture.mapping=l0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _4(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Q2e(t,e,n){const r=new Float32Array(xc),i=new O(0,1,0);return new fa({name:"SphericalGaussianBlur",defines:{n:xc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:HE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function II(){return new fa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function LI(){return new fa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function HE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Z2e(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Jp||l===e2,c=l===Su||l===wu;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new Lx(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new Lx(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function J2e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function e3e(t,e,n,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const y in m){const _=m[y];for(let x=0,g=_.length;x<g;x++)e.update(_[x],t.ARRAY_BUFFER)}}function u(f){const p=[],m=f.index,y=f.attributes.position;let _=0;if(m!==null){const S=m.array;_=m.version;for(let w=0,b=S.length;w<b;w+=3){const M=S[w+0],A=S[w+1],R=S[w+2];p.push(M,A,A,R,R,M)}}else{const S=y.array;_=y.version;for(let w=0,b=S.length/3-1;w<b;w+=3){const M=w+0,A=w+1,R=w+2;p.push(M,A,A,R,R,M)}}const x=new(SV(p)?VE:BE)(p,1);x.version=_;const g=s.get(f);g&&e.remove(g),s.set(f,x)}function c(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function t3e(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function f(p,m,y){if(y===0)return;let _,x;if(i)_=t,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,m,a,p*l,y),n.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function n3e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function r3e(t,e){return t[0]-e[0]}function i3e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function s3e(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new En,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,_=y!==void 0?y.length:0;let x=s.get(c);if(x===void 0||x.count!==_){let ie=function(){q.dispose(),s.delete(c),c.removeEventListener("dispose",ie)};var m=ie;x!==void 0&&x.texture.dispose();const w=c.morphAttributes.position!==void 0,b=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],L=c.morphAttributes.color||[];let C=0;w===!0&&(C=1),b===!0&&(C=2),M===!0&&(C=3);let k=c.attributes.position.count*C,$=1;k>e.maxTextureSize&&($=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const ee=new Float32Array(k*$*4*_),q=new o8(ee,k,$,_);q.type=Xa,q.needsUpdate=!0;const Z=C*4;for(let fe=0;fe<_;fe++){const me=A[fe],G=R[fe],Y=L[fe],X=k*$*4*fe;for(let ae=0;ae<me.count;ae++){const ce=ae*Z;w===!0&&(o.fromBufferAttribute(me,ae),ee[X+ce+0]=o.x,ee[X+ce+1]=o.y,ee[X+ce+2]=o.z,ee[X+ce+3]=0),b===!0&&(o.fromBufferAttribute(G,ae),ee[X+ce+4]=o.x,ee[X+ce+5]=o.y,ee[X+ce+6]=o.z,ee[X+ce+7]=0),M===!0&&(o.fromBufferAttribute(Y,ae),ee[X+ce+8]=o.x,ee[X+ce+9]=o.y,ee[X+ce+10]=o.z,ee[X+ce+11]=Y.itemSize===4?o.w:1)}}x={count:_,texture:q,size:new Me(k,$)},s.set(c,x),c.addEventListener("dispose",ie)}let g=0;for(let w=0;w<p.length;w++)g+=p[w];const S=c.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",p),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const y=p===void 0?0:p.length;let _=r[c.id];if(_===void 0||_.length!==y){_=[];for(let b=0;b<y;b++)_[b]=[b,0];r[c.id]=_}for(let b=0;b<y;b++){const M=_[b];M[0]=b,M[1]=p[b]}_.sort(i3e);for(let b=0;b<8;b++)b<y&&_[b][1]?(a[b][0]=_[b][0],a[b][1]=_[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(r3e);const x=c.morphAttributes.position,g=c.morphAttributes.normal;let S=0;for(let b=0;b<8;b++){const M=a[b],A=M[0],R=M[1];A!==Number.MAX_SAFE_INTEGER&&R?(x&&c.getAttribute("morphTarget"+b)!==x[A]&&c.setAttribute("morphTarget"+b,x[A]),g&&c.getAttribute("morphNormal"+b)!==g[A]&&c.setAttribute("morphNormal"+b,g[A]),i[b]=R,S+=R):(x&&c.hasAttribute("morphTarget"+b)===!0&&c.deleteAttribute("morphTarget"+b),g&&c.hasAttribute("morphNormal"+b)===!0&&c.deleteAttribute("morphNormal"+b),i[b]=0)}const w=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function o3e(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const CV=new ar,PV=new o8,RV=new zE,IV=new t3,kI=[],DI=[],NI=new Float32Array(16),FI=new Float32Array(9),OI=new Float32Array(4);function c0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=kI[i];if(s===void 0&&(s=new Float32Array(i),kI[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function zr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Br(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function l8(t,e){let n=DI[e];n===void 0&&(n=new Int32Array(e),DI[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function a3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function l3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2fv(this.addr,e),Br(n,e)}}function u3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(zr(n,e))return;t.uniform3fv(this.addr,e),Br(n,e)}}function c3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4fv(this.addr,e),Br(n,e)}}function d3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,r))return;OI.set(r),t.uniformMatrix2fv(this.addr,!1,OI),Br(n,r)}}function h3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,r))return;FI.set(r),t.uniformMatrix3fv(this.addr,!1,FI),Br(n,r)}}function f3e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,r))return;NI.set(r),t.uniformMatrix4fv(this.addr,!1,NI),Br(n,r)}}function p3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function m3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2iv(this.addr,e),Br(n,e)}}function g3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3iv(this.addr,e),Br(n,e)}}function y3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4iv(this.addr,e),Br(n,e)}}function v3e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2uiv(this.addr,e),Br(n,e)}}function x3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3uiv(this.addr,e),Br(n,e)}}function S3e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4uiv(this.addr,e),Br(n,e)}}function w3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||CV,i)}function E3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||RV,i)}function b3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||IV,i)}function T3e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||PV,i)}function M3e(t){switch(t){case 5126:return a3e;case 35664:return l3e;case 35665:return u3e;case 35666:return c3e;case 35674:return d3e;case 35675:return h3e;case 35676:return f3e;case 5124:case 35670:return p3e;case 35667:case 35671:return m3e;case 35668:case 35672:return g3e;case 35669:case 35673:return y3e;case 5125:return v3e;case 36294:return _3e;case 36295:return x3e;case 36296:return S3e;case 35678:case 36198:case 36298:case 36306:case 35682:return w3e;case 35679:case 36299:case 36307:return E3e;case 35680:case 36300:case 36308:case 36293:return b3e;case 36289:case 36303:case 36311:case 36292:return T3e}}function A3e(t,e){t.uniform1fv(this.addr,e)}function C3e(t,e){const n=c0(e,this.size,2);t.uniform2fv(this.addr,n)}function P3e(t,e){const n=c0(e,this.size,3);t.uniform3fv(this.addr,n)}function R3e(t,e){const n=c0(e,this.size,4);t.uniform4fv(this.addr,n)}function I3e(t,e){const n=c0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function L3e(t,e){const n=c0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function k3e(t,e){const n=c0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function D3e(t,e){t.uniform1iv(this.addr,e)}function N3e(t,e){t.uniform2iv(this.addr,e)}function F3e(t,e){t.uniform3iv(this.addr,e)}function O3e(t,e){t.uniform4iv(this.addr,e)}function U3e(t,e){t.uniform1uiv(this.addr,e)}function z3e(t,e){t.uniform2uiv(this.addr,e)}function B3e(t,e){t.uniform3uiv(this.addr,e)}function V3e(t,e){t.uniform4uiv(this.addr,e)}function H3e(t,e,n){const r=this.cache,i=e.length,s=l8(n,i);zr(r,s)||(t.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||CV,s[o])}function G3e(t,e,n){const r=this.cache,i=e.length,s=l8(n,i);zr(r,s)||(t.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||RV,s[o])}function $3e(t,e,n){const r=this.cache,i=e.length,s=l8(n,i);zr(r,s)||(t.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||IV,s[o])}function W3e(t,e,n){const r=this.cache,i=e.length,s=l8(n,i);zr(r,s)||(t.uniform1iv(this.addr,s),Br(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||PV,s[o])}function j3e(t){switch(t){case 5126:return A3e;case 35664:return C3e;case 35665:return P3e;case 35666:return R3e;case 35674:return I3e;case 35675:return L3e;case 35676:return k3e;case 5124:case 35670:return D3e;case 35667:case 35671:return N3e;case 35668:case 35672:return F3e;case 35669:case 35673:return O3e;case 5125:return U3e;case 36294:return z3e;case 36295:return B3e;case 36296:return V3e;case 35678:case 36198:case 36298:case 36306:case 35682:return H3e;case 35679:case 36299:case 36307:return G3e;case 35680:case 36300:case 36308:case 36293:return $3e;case 36289:case 36303:case 36311:case 36292:return W3e}}class q3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=M3e(n.type)}}class X3e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=j3e(n.type)}}class Y3e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Ay=/(\w+)(\])?(\[|\.)?/g;function UI(t,e){t.seq.push(e),t.map[e.id]=e}function K3e(t,e,n){const r=t.name,i=r.length;for(Ay.lastIndex=0;;){const s=Ay.exec(r),o=Ay.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){UI(n,u===void 0?new q3e(a,t,e):new X3e(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Y3e(a),UI(n,f)),n=f}}}class z5{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);K3e(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function zI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Q3e=0;function Z3e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function J3e(t){switch(t){case Do:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function BI(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Z3e(t.getShaderSource(e),o)}else return i}function eme(t,e){const n=J3e(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function tme(t,e){let n;switch(e){case qB:n="Linear";break;case XB:n="Reinhard";break;case YB:n="OptimizedCineon";break;case IE:n="ACESFilmic";break;case KB:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function nme(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(L1).join(`
`)}function rme(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function ime(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function L1(t){return t!==""}function VI(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function HI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sme=/^[ \t]*#include +<([\w\d./]+)>/gm;function kx(t){return t.replace(sme,ome)}function ome(t,e){const n=Bt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return kx(n)}const ame=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GI(t){return t.replace(ame,lme)}function lme(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function $I(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ume(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===r8?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ip?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Eo&&(e="SHADOWMAP_TYPE_VSM"),e}function cme(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Su:case wu:e="ENVMAP_TYPE_CUBE";break;case l0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function dme(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case wu:e="ENVMAP_MODE_REFRACTION";break}return e}function hme(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Q2:e="ENVMAP_BLENDING_MULTIPLY";break;case WB:e="ENVMAP_BLENDING_MIX";break;case jB:e="ENVMAP_BLENDING_ADD";break}return e}function fme(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function pme(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=ume(n),u=cme(n),c=dme(n),f=hme(n),p=fme(n),m=n.isWebGL2?"":nme(n),y=rme(s),_=i.createProgram();let x,g,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=[y].filter(L1).join(`
`),x.length>0&&(x+=`
`),g=[m,y].filter(L1).join(`
`),g.length>0&&(g+=`
`)):(x=[$I(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(L1).join(`
`),g=[m,$I(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Lo?"#define TONE_MAPPING":"",n.toneMapping!==Lo?Bt.tonemapping_pars_fragment:"",n.toneMapping!==Lo?tme("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Bt.encodings_pars_fragment,eme("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(L1).join(`
`)),o=kx(o),o=VI(o,n),o=HI(o,n),a=kx(a),a=VI(a,n),a=HI(a,n),o=GI(o),a=GI(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",n.glslVersion===Rx?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Rx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const w=S+x+o,b=S+g+a,M=zI(i,i.VERTEX_SHADER,w),A=zI(i,i.FRAGMENT_SHADER,b);if(i.attachShader(_,M),i.attachShader(_,A),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),t.debug.checkShaderErrors){const C=i.getProgramInfoLog(_).trim(),k=i.getShaderInfoLog(M).trim(),$=i.getShaderInfoLog(A).trim();let ee=!0,q=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,M,A);else{const Z=BI(i,M,"vertex"),ie=BI(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+Z+`
`+ie)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(k===""||$==="")&&(q=!1);q&&(this.diagnostics={runnable:ee,programLog:C,vertexShader:{log:k,prefix:x},fragmentShader:{log:$,prefix:g}})}i.deleteShader(M),i.deleteShader(A);let R;this.getUniforms=function(){return R===void 0&&(R=new z5(i,_)),R};let L;return this.getAttributes=function(){return L===void 0&&(L=ime(i,_)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=Q3e++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=M,this.fragmentShader=A,this}let mme=0;class gme{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new yme(e),n.set(e,r)),r}}class yme{constructor(e){this.id=mme++,this.code=e,this.usedTimes=0}}function vme(t,e,n,r,i,s,o){const a=new qc,l=new gme,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(C){return C===1?"uv1":C===2?"uv2":C===3?"uv3":"uv"}function x(C,k,$,ee,q){const Z=ee.fog,ie=q.geometry,fe=C.isMeshStandardMaterial?ee.environment:null,me=(C.isMeshStandardMaterial?n:e).get(C.envMap||fe),G=me&&me.mapping===l0?me.image.height:null,Y=y[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const X=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,ae=X!==void 0?X.length:0;let ce=0;ie.morphAttributes.position!==void 0&&(ce=1),ie.morphAttributes.normal!==void 0&&(ce=2),ie.morphAttributes.color!==void 0&&(ce=3);let re,he,Pe,Ae;if(Y){const _t=Mo[Y];re=_t.vertexShader,he=_t.fragmentShader}else re=C.vertexShader,he=C.fragmentShader,l.update(C),Pe=l.getVertexShaderID(C),Ae=l.getFragmentShaderID(C);const j=t.getRenderTarget(),Ze=q.isInstancedMesh===!0,nt=!!C.map,Re=!!C.matcap,He=!!me,Te=!!C.aoMap,ve=!!C.lightMap,Ce=!!C.bumpMap,Ye=!!C.normalMap,Ve=!!C.displacementMap,st=!!C.emissiveMap,at=!!C.metalnessMap,ot=!!C.roughnessMap,pt=C.clearcoat>0,It=C.iridescence>0,B=C.sheen>0,D=C.transmission>0,ge=pt&&!!C.clearcoatMap,Ie=pt&&!!C.clearcoatNormalMap,ke=pt&&!!C.clearcoatRoughnessMap,Ge=It&&!!C.iridescenceMap,lt=It&&!!C.iridescenceThicknessMap,qe=B&&!!C.sheenColorMap,H=B&&!!C.sheenRoughnessMap,J=!!C.specularMap,N=!!C.specularColorMap,K=!!C.specularIntensityMap,oe=D&&!!C.transmissionMap,xe=D&&!!C.thicknessMap,Le=!!C.gradientMap,Ne=!!C.alphaMap,Be=C.alphaTest>0,W=!!C.extensions,ue=!!ie.attributes.uv1,Ee=!!ie.attributes.uv2,Fe=!!ie.attributes.uv3;return{isWebGL2:c,shaderID:Y,shaderName:C.type,vertexShader:re,fragmentShader:he,defines:C.defines,customVertexShaderID:Pe,customFragmentShaderID:Ae,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:Ze,instancingColor:Ze&&q.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:j===null?t.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:Do,map:nt,matcap:Re,envMap:He,envMapMode:He&&me.mapping,envMapCubeUVHeight:G,aoMap:Te,lightMap:ve,bumpMap:Ce,normalMap:Ye,displacementMap:p&&Ve,emissiveMap:st,normalMapObjectSpace:Ye&&C.normalMapType===yV,normalMapTangentSpace:Ye&&C.normalMapType===ku,metalnessMap:at,roughnessMap:ot,clearcoat:pt,clearcoatMap:ge,clearcoatNormalMap:Ie,clearcoatRoughnessMap:ke,iridescence:It,iridescenceMap:Ge,iridescenceThicknessMap:lt,sheen:B,sheenColorMap:qe,sheenRoughnessMap:H,specularMap:J,specularColorMap:N,specularIntensityMap:K,transmission:D,transmissionMap:oe,thicknessMap:xe,gradientMap:Le,opaque:C.transparent===!1&&C.blending===$c,alphaMap:Ne,alphaTest:Be,combine:C.combine,mapUv:nt&&_(C.map.channel),aoMapUv:Te&&_(C.aoMap.channel),lightMapUv:ve&&_(C.lightMap.channel),bumpMapUv:Ce&&_(C.bumpMap.channel),normalMapUv:Ye&&_(C.normalMap.channel),displacementMapUv:Ve&&_(C.displacementMap.channel),emissiveMapUv:st&&_(C.emissiveMap.channel),metalnessMapUv:at&&_(C.metalnessMap.channel),roughnessMapUv:ot&&_(C.roughnessMap.channel),clearcoatMapUv:ge&&_(C.clearcoatMap.channel),clearcoatNormalMapUv:Ie&&_(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ke&&_(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ge&&_(C.iridescenceMap.channel),iridescenceThicknessMapUv:lt&&_(C.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&_(C.sheenColorMap.channel),sheenRoughnessMapUv:H&&_(C.sheenRoughnessMap.channel),specularMapUv:J&&_(C.specularMap.channel),specularColorMapUv:N&&_(C.specularColorMap.channel),specularIntensityMapUv:K&&_(C.specularIntensityMap.channel),transmissionMapUv:oe&&_(C.transmissionMap.channel),thicknessMapUv:xe&&_(C.thicknessMap.channel),alphaMapUv:Ne&&_(C.alphaMap.channel),vertexTangents:Ye&&!!ie.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,vertexUv1s:ue,vertexUv2s:Ee,vertexUv3s:Fe,pointsUvs:q.isPoints===!0&&!!ie.attributes.uv&&(nt||Ne),fog:!!Z,useFog:C.fog===!0,fogExp2:Z&&Z.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:q.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:ce,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&$.length>0,shadowMapType:t.shadowMap.type,toneMapping:C.toneMapped?t.toneMapping:Lo,useLegacyLights:t.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===na,flipSided:C.side===ji,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:W&&C.extensions.derivatives===!0,extensionFragDepth:W&&C.extensions.fragDepth===!0,extensionDrawBuffers:W&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:W&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function g(C){const k=[];if(C.shaderID?k.push(C.shaderID):(k.push(C.customVertexShaderID),k.push(C.customFragmentShaderID)),C.defines!==void 0)for(const $ in C.defines)k.push($),k.push(C.defines[$]);return C.isRawShaderMaterial===!1&&(S(k,C),w(k,C),k.push(t.outputColorSpace)),k.push(C.customProgramCacheKey),k.join()}function S(C,k){C.push(k.precision),C.push(k.outputColorSpace),C.push(k.envMapMode),C.push(k.envMapCubeUVHeight),C.push(k.mapUv),C.push(k.alphaMapUv),C.push(k.lightMapUv),C.push(k.aoMapUv),C.push(k.bumpMapUv),C.push(k.normalMapUv),C.push(k.displacementMapUv),C.push(k.emissiveMapUv),C.push(k.metalnessMapUv),C.push(k.roughnessMapUv),C.push(k.clearcoatMapUv),C.push(k.clearcoatNormalMapUv),C.push(k.clearcoatRoughnessMapUv),C.push(k.iridescenceMapUv),C.push(k.iridescenceThicknessMapUv),C.push(k.sheenColorMapUv),C.push(k.sheenRoughnessMapUv),C.push(k.specularMapUv),C.push(k.specularColorMapUv),C.push(k.specularIntensityMapUv),C.push(k.transmissionMapUv),C.push(k.thicknessMapUv),C.push(k.combine),C.push(k.fogExp2),C.push(k.sizeAttenuation),C.push(k.morphTargetsCount),C.push(k.morphAttributeCount),C.push(k.numDirLights),C.push(k.numPointLights),C.push(k.numSpotLights),C.push(k.numSpotLightMaps),C.push(k.numHemiLights),C.push(k.numRectAreaLights),C.push(k.numDirLightShadows),C.push(k.numPointLightShadows),C.push(k.numSpotLightShadows),C.push(k.numSpotLightShadowsWithMaps),C.push(k.shadowMapType),C.push(k.toneMapping),C.push(k.numClippingPlanes),C.push(k.numClipIntersection),C.push(k.depthPacking)}function w(C,k){a.disableAll(),k.isWebGL2&&a.enable(0),k.supportsVertexTextures&&a.enable(1),k.instancing&&a.enable(2),k.instancingColor&&a.enable(3),k.matcap&&a.enable(4),k.envMap&&a.enable(5),k.normalMapObjectSpace&&a.enable(6),k.normalMapTangentSpace&&a.enable(7),k.clearcoat&&a.enable(8),k.iridescence&&a.enable(9),k.alphaTest&&a.enable(10),k.vertexColors&&a.enable(11),k.vertexAlphas&&a.enable(12),k.vertexUv1s&&a.enable(13),k.vertexUv2s&&a.enable(14),k.vertexUv3s&&a.enable(15),k.vertexTangents&&a.enable(16),C.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.useLegacyLights&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.transmission&&a.enable(15),k.sheen&&a.enable(16),k.opaque&&a.enable(17),k.pointsUvs&&a.enable(18),C.push(a.mask)}function b(C){const k=y[C.type];let $;if(k){const ee=Mo[k];$=bV.clone(ee.uniforms)}else $=C.uniforms;return $}function M(C,k){let $;for(let ee=0,q=u.length;ee<q;ee++){const Z=u[ee];if(Z.cacheKey===k){$=Z,++$.usedTimes;break}}return $===void 0&&($=new pme(t,k,C,s),u.push($)),$}function A(C){if(--C.usedTimes===0){const k=u.indexOf(C);u[k]=u[u.length-1],u.pop(),C.destroy()}}function R(C){l.remove(C)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:b,acquireProgram:M,releaseProgram:A,releaseShaderCache:R,programs:u,dispose:L}}function _me(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function xme(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function WI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function jI(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,p,m,y,_,x){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:y,renderOrder:f.renderOrder,z:_,group:x},t[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=_,g.group=x),e++,g}function a(f,p,m,y,_,x){const g=o(f,p,m,y,_,x);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(f,p,m,y,_,x){const g=o(f,p,m,y,_,x);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,p){n.length>1&&n.sort(f||xme),r.length>1&&r.sort(p||WI),i.length>1&&i.sort(p||WI)}function c(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Sme(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new jI,t.set(r,[o])):i>=s.length?(o=new jI,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function wme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new O,color:new et};break;case"SpotLight":n={position:new O,direction:new O,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new O,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new O,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new O,halfWidth:new O,halfHeight:new O};break}return t[e.id]=n,n}}}function Eme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let bme=0;function Tme(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Mme(t,e){const n=new wme,r=Eme(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new O);const s=new O,o=new kt,a=new kt;function l(c,f){let p=0,m=0,y=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let _=0,x=0,g=0,S=0,w=0,b=0,M=0,A=0,R=0,L=0;c.sort(Tme);const C=f===!0?Math.PI:1;for(let $=0,ee=c.length;$<ee;$++){const q=c[$],Z=q.color,ie=q.intensity,fe=q.distance,me=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)p+=Z.r*ie*C,m+=Z.g*ie*C,y+=Z.b*ie*C;else if(q.isLightProbe)for(let G=0;G<9;G++)i.probe[G].addScaledVector(q.sh.coefficients[G],ie);else if(q.isDirectionalLight){const G=n.get(q);if(G.color.copy(q.color).multiplyScalar(q.intensity*C),q.castShadow){const Y=q.shadow,X=r.get(q);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,i.directionalShadow[_]=X,i.directionalShadowMap[_]=me,i.directionalShadowMatrix[_]=q.shadow.matrix,b++}i.directional[_]=G,_++}else if(q.isSpotLight){const G=n.get(q);G.position.setFromMatrixPosition(q.matrixWorld),G.color.copy(Z).multiplyScalar(ie*C),G.distance=fe,G.coneCos=Math.cos(q.angle),G.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),G.decay=q.decay,i.spot[g]=G;const Y=q.shadow;if(q.map&&(i.spotLightMap[R]=q.map,R++,Y.updateMatrices(q),q.castShadow&&L++),i.spotLightMatrix[g]=Y.matrix,q.castShadow){const X=r.get(q);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,i.spotShadow[g]=X,i.spotShadowMap[g]=me,A++}g++}else if(q.isRectAreaLight){const G=n.get(q);G.color.copy(Z).multiplyScalar(ie),G.halfWidth.set(q.width*.5,0,0),G.halfHeight.set(0,q.height*.5,0),i.rectArea[S]=G,S++}else if(q.isPointLight){const G=n.get(q);if(G.color.copy(q.color).multiplyScalar(q.intensity*C),G.distance=q.distance,G.decay=q.decay,q.castShadow){const Y=q.shadow,X=r.get(q);X.shadowBias=Y.bias,X.shadowNormalBias=Y.normalBias,X.shadowRadius=Y.radius,X.shadowMapSize=Y.mapSize,X.shadowCameraNear=Y.camera.near,X.shadowCameraFar=Y.camera.far,i.pointShadow[x]=X,i.pointShadowMap[x]=me,i.pointShadowMatrix[x]=q.shadow.matrix,M++}i.point[x]=G,x++}else if(q.isHemisphereLight){const G=n.get(q);G.skyColor.copy(q.color).multiplyScalar(ie*C),G.groundColor.copy(q.groundColor).multiplyScalar(ie*C),i.hemi[w]=G,w++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=We.LTC_FLOAT_1,i.rectAreaLTC2=We.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=We.LTC_HALF_1,i.rectAreaLTC2=We.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const k=i.hash;(k.directionalLength!==_||k.pointLength!==x||k.spotLength!==g||k.rectAreaLength!==S||k.hemiLength!==w||k.numDirectionalShadows!==b||k.numPointShadows!==M||k.numSpotShadows!==A||k.numSpotMaps!==R)&&(i.directional.length=_,i.spot.length=g,i.rectArea.length=S,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=A+R-L,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=L,k.directionalLength=_,k.pointLength=x,k.spotLength=g,k.rectAreaLength=S,k.hemiLength=w,k.numDirectionalShadows=b,k.numPointShadows=M,k.numSpotShadows=A,k.numSpotMaps=R,i.version=bme++)}function u(c,f){let p=0,m=0,y=0,_=0,x=0;const g=f.matrixWorldInverse;for(let S=0,w=c.length;S<w;S++){const b=c[S];if(b.isDirectionalLight){const M=i.directional[p];M.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),p++}else if(b.isSpotLight){const M=i.spot[y];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),y++}else if(b.isRectAreaLight){const M=i.rectArea[_];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),a.identity(),o.copy(b.matrixWorld),o.premultiply(g),a.extractRotation(o),M.halfWidth.set(b.width*.5,0,0),M.halfHeight.set(0,b.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),_++}else if(b.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(g),m++}else if(b.isHemisphereLight){const M=i.hemi[x];M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(g),x++}}}return{setup:l,setupView:u,state:i}}function qI(t,e){const n=new Mme(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Ame(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new qI(t,e),n.set(s,[l])):o>=a.length?(l=new qI(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class GE extends Ur{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $E extends Ur{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Cme=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Pme=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Rme(t,e,n){let r=new a8;const i=new Me,s=new Me,o=new En,a=new GE({depthPacking:gV}),l=new $E,u={},c=n.maxTextureSize,f={[ll]:ji,[ji]:ll,[na]:na},p=new fa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Me},radius:{value:4}},vertexShader:Cme,fragmentShader:Pme}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Rt;y.setAttribute("position",new Cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Fr(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=r8;let g=this.type;this.render=function(M,A,R){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const L=t.getRenderTarget(),C=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),$=t.state;$.setBlending(tl),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const ee=g!==Eo&&this.type===Eo,q=g===Eo&&this.type!==Eo;for(let Z=0,ie=M.length;Z<ie;Z++){const fe=M[Z],me=fe.shadow;if(me===void 0){console.warn("THREE.WebGLShadowMap:",fe,"has no shadow.");continue}if(me.autoUpdate===!1&&me.needsUpdate===!1)continue;i.copy(me.mapSize);const G=me.getFrameExtents();if(i.multiply(G),s.copy(me.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/G.x),i.x=s.x*G.x,me.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/G.y),i.y=s.y*G.y,me.mapSize.y=s.y)),me.map===null||ee===!0||q===!0){const X=this.type!==Eo?{minFilter:fr,magFilter:fr}:{};me.map!==null&&me.map.dispose(),me.map=new No(i.x,i.y,X),me.map.texture.name=fe.name+".shadowMap",me.camera.updateProjectionMatrix()}t.setRenderTarget(me.map),t.clear();const Y=me.getViewportCount();for(let X=0;X<Y;X++){const ae=me.getViewport(X);o.set(s.x*ae.x,s.y*ae.y,s.x*ae.z,s.y*ae.w),$.viewport(o),me.updateMatrices(fe,X),r=me.getFrustum(),b(A,R,me.camera,fe,this.type)}me.isPointLightShadow!==!0&&this.type===Eo&&S(me,R),me.needsUpdate=!1}g=this.type,x.needsUpdate=!1,t.setRenderTarget(L,C,k)};function S(M,A){const R=e.update(_);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new No(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(A,null,R,p,_,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(A,null,R,m,_,null)}function w(M,A,R,L){let C=null;const k=R.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(k!==void 0)C=k;else if(C=R.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const $=C.uuid,ee=A.uuid;let q=u[$];q===void 0&&(q={},u[$]=q);let Z=q[ee];Z===void 0&&(Z=C.clone(),q[ee]=Z),C=Z}if(C.visible=A.visible,C.wireframe=A.wireframe,L===Eo?C.side=A.shadowSide!==null?A.shadowSide:A.side:C.side=A.shadowSide!==null?A.shadowSide:f[A.side],C.alphaMap=A.alphaMap,C.alphaTest=A.alphaTest,C.map=A.map,C.clipShadows=A.clipShadows,C.clippingPlanes=A.clippingPlanes,C.clipIntersection=A.clipIntersection,C.displacementMap=A.displacementMap,C.displacementScale=A.displacementScale,C.displacementBias=A.displacementBias,C.wireframeLinewidth=A.wireframeLinewidth,C.linewidth=A.linewidth,R.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const $=t.properties.get(C);$.light=R}return C}function b(M,A,R,L,C){if(M.visible===!1)return;if(M.layers.test(A.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&C===Eo)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,M.matrixWorld);const ee=e.update(M),q=M.material;if(Array.isArray(q)){const Z=ee.groups;for(let ie=0,fe=Z.length;ie<fe;ie++){const me=Z[ie],G=q[me.materialIndex];if(G&&G.visible){const Y=w(M,G,L,C);t.renderBufferDirect(R,null,ee,Y,M,me)}}}else if(q.visible){const Z=w(M,q,L,C);t.renderBufferDirect(R,null,ee,Z,M,null)}}const $=M.children;for(let ee=0,q=$.length;ee<q;ee++)b($[ee],A,R,L,C)}}function Ime(t,e,n){const r=n.isWebGL2;function i(){let W=!1;const ue=new En;let Ee=null;const Fe=new En(0,0,0,0);return{setMask:function($e){Ee!==$e&&!W&&(t.colorMask($e,$e,$e,$e),Ee=$e)},setLocked:function($e){W=$e},setClear:function($e,_t,Gt,On,Hr){Hr===!0&&($e*=On,_t*=On,Gt*=On),ue.set($e,_t,Gt,On),Fe.equals(ue)===!1&&(t.clearColor($e,_t,Gt,On),Fe.copy(ue))},reset:function(){W=!1,Ee=null,Fe.set(-1,0,0,0)}}}function s(){let W=!1,ue=null,Ee=null,Fe=null;return{setTest:function($e){$e?j(t.DEPTH_TEST):Ze(t.DEPTH_TEST)},setMask:function($e){ue!==$e&&!W&&(t.depthMask($e),ue=$e)},setFunc:function($e){if(Ee!==$e){switch($e){case UB:t.depthFunc(t.NEVER);break;case zB:t.depthFunc(t.ALWAYS);break;case BB:t.depthFunc(t.LESS);break;case O6:t.depthFunc(t.LEQUAL);break;case VB:t.depthFunc(t.EQUAL);break;case HB:t.depthFunc(t.GEQUAL);break;case GB:t.depthFunc(t.GREATER);break;case $B:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ee=$e}},setLocked:function($e){W=$e},setClear:function($e){Fe!==$e&&(t.clearDepth($e),Fe=$e)},reset:function(){W=!1,ue=null,Ee=null,Fe=null}}}function o(){let W=!1,ue=null,Ee=null,Fe=null,$e=null,_t=null,Gt=null,On=null,Hr=null;return{setTest:function(Kt){W||(Kt?j(t.STENCIL_TEST):Ze(t.STENCIL_TEST))},setMask:function(Kt){ue!==Kt&&!W&&(t.stencilMask(Kt),ue=Kt)},setFunc:function(Kt,Jn,Pn){(Ee!==Kt||Fe!==Jn||$e!==Pn)&&(t.stencilFunc(Kt,Jn,Pn),Ee=Kt,Fe=Jn,$e=Pn)},setOp:function(Kt,Jn,Pn){(_t!==Kt||Gt!==Jn||On!==Pn)&&(t.stencilOp(Kt,Jn,Pn),_t=Kt,Gt=Jn,On=Pn)},setLocked:function(Kt){W=Kt},setClear:function(Kt){Hr!==Kt&&(t.clearStencil(Kt),Hr=Kt)},reset:function(){W=!1,ue=null,Ee=null,Fe=null,$e=null,_t=null,Gt=null,On=null,Hr=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let p={},m={},y=new WeakMap,_=[],x=null,g=!1,S=null,w=null,b=null,M=null,A=null,R=null,L=null,C=!1,k=null,$=null,ee=null,q=null,Z=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fe=!1,me=0;const G=t.getParameter(t.VERSION);G.indexOf("WebGL")!==-1?(me=parseFloat(/^WebGL (\d)/.exec(G)[1]),fe=me>=1):G.indexOf("OpenGL ES")!==-1&&(me=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),fe=me>=2);let Y=null,X={};const ae=t.getParameter(t.SCISSOR_BOX),ce=t.getParameter(t.VIEWPORT),re=new En().fromArray(ae),he=new En().fromArray(ce);function Pe(W,ue,Ee,Fe){const $e=new Uint8Array(4),_t=t.createTexture();t.bindTexture(W,_t),t.texParameteri(W,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(W,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Gt=0;Gt<Ee;Gt++)r&&(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)?t.texImage3D(ue,0,t.RGBA,1,1,Fe,0,t.RGBA,t.UNSIGNED_BYTE,$e):t.texImage2D(ue+Gt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,$e);return _t}const Ae={};Ae[t.TEXTURE_2D]=Pe(t.TEXTURE_2D,t.TEXTURE_2D,1),Ae[t.TEXTURE_CUBE_MAP]=Pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ae[t.TEXTURE_2D_ARRAY]=Pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ae[t.TEXTURE_3D]=Pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),j(t.DEPTH_TEST),l.setFunc(O6),Ve(!1),st(tx),j(t.CULL_FACE),Ce(tl);function j(W){p[W]!==!0&&(t.enable(W),p[W]=!0)}function Ze(W){p[W]!==!1&&(t.disable(W),p[W]=!1)}function nt(W,ue){return m[W]!==ue?(t.bindFramebuffer(W,ue),m[W]=ue,r&&(W===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=ue),W===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=ue)),!0):!1}function Re(W,ue){let Ee=_,Fe=!1;if(W)if(Ee=y.get(ue),Ee===void 0&&(Ee=[],y.set(ue,Ee)),W.isWebGLMultipleRenderTargets){const $e=W.texture;if(Ee.length!==$e.length||Ee[0]!==t.COLOR_ATTACHMENT0){for(let _t=0,Gt=$e.length;_t<Gt;_t++)Ee[_t]=t.COLOR_ATTACHMENT0+_t;Ee.length=$e.length,Fe=!0}}else Ee[0]!==t.COLOR_ATTACHMENT0&&(Ee[0]=t.COLOR_ATTACHMENT0,Fe=!0);else Ee[0]!==t.BACK&&(Ee[0]=t.BACK,Fe=!0);Fe&&(n.isWebGL2?t.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function He(W){return x!==W?(t.useProgram(W),x=W,!0):!1}const Te={[_c]:t.FUNC_ADD,[AB]:t.FUNC_SUBTRACT,[CB]:t.FUNC_REVERSE_SUBTRACT};if(r)Te[sx]=t.MIN,Te[ox]=t.MAX;else{const W=e.get("EXT_blend_minmax");W!==null&&(Te[sx]=W.MIN_EXT,Te[ox]=W.MAX_EXT)}const ve={[PB]:t.ZERO,[RB]:t.ONE,[IB]:t.SRC_COLOR,[PE]:t.SRC_ALPHA,[OB]:t.SRC_ALPHA_SATURATE,[NB]:t.DST_COLOR,[kB]:t.DST_ALPHA,[LB]:t.ONE_MINUS_SRC_COLOR,[RE]:t.ONE_MINUS_SRC_ALPHA,[FB]:t.ONE_MINUS_DST_COLOR,[DB]:t.ONE_MINUS_DST_ALPHA};function Ce(W,ue,Ee,Fe,$e,_t,Gt,On){if(W===tl){g===!0&&(Ze(t.BLEND),g=!1);return}if(g===!1&&(j(t.BLEND),g=!0),W!==MB){if(W!==S||On!==C){if((w!==_c||A!==_c)&&(t.blendEquation(t.FUNC_ADD),w=_c,A=_c),On)switch(W){case $c:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nx:t.blendFunc(t.ONE,t.ONE);break;case rx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ix:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case $c:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nx:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case rx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ix:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}b=null,M=null,R=null,L=null,S=W,C=On}return}$e=$e||ue,_t=_t||Ee,Gt=Gt||Fe,(ue!==w||$e!==A)&&(t.blendEquationSeparate(Te[ue],Te[$e]),w=ue,A=$e),(Ee!==b||Fe!==M||_t!==R||Gt!==L)&&(t.blendFuncSeparate(ve[Ee],ve[Fe],ve[_t],ve[Gt]),b=Ee,M=Fe,R=_t,L=Gt),S=W,C=!1}function Ye(W,ue){W.side===na?Ze(t.CULL_FACE):j(t.CULL_FACE);let Ee=W.side===ji;ue&&(Ee=!Ee),Ve(Ee),W.blending===$c&&W.transparent===!1?Ce(tl):Ce(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.premultipliedAlpha),l.setFunc(W.depthFunc),l.setTest(W.depthTest),l.setMask(W.depthWrite),a.setMask(W.colorWrite);const Fe=W.stencilWrite;u.setTest(Fe),Fe&&(u.setMask(W.stencilWriteMask),u.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),u.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),ot(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits),W.alphaToCoverage===!0?j(t.SAMPLE_ALPHA_TO_COVERAGE):Ze(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(W){k!==W&&(W?t.frontFace(t.CW):t.frontFace(t.CCW),k=W)}function st(W){W!==EB?(j(t.CULL_FACE),W!==$&&(W===tx?t.cullFace(t.BACK):W===bB?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ze(t.CULL_FACE),$=W}function at(W){W!==ee&&(fe&&t.lineWidth(W),ee=W)}function ot(W,ue,Ee){W?(j(t.POLYGON_OFFSET_FILL),(q!==ue||Z!==Ee)&&(t.polygonOffset(ue,Ee),q=ue,Z=Ee)):Ze(t.POLYGON_OFFSET_FILL)}function pt(W){W?j(t.SCISSOR_TEST):Ze(t.SCISSOR_TEST)}function It(W){W===void 0&&(W=t.TEXTURE0+ie-1),Y!==W&&(t.activeTexture(W),Y=W)}function B(W,ue,Ee){Ee===void 0&&(Y===null?Ee=t.TEXTURE0+ie-1:Ee=Y);let Fe=X[Ee];Fe===void 0&&(Fe={type:void 0,texture:void 0},X[Ee]=Fe),(Fe.type!==W||Fe.texture!==ue)&&(Y!==Ee&&(t.activeTexture(Ee),Y=Ee),t.bindTexture(W,ue||Ae[W]),Fe.type=W,Fe.texture=ue)}function D(){const W=X[Y];W!==void 0&&W.type!==void 0&&(t.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function ge(){try{t.compressedTexImage2D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function ke(){try{t.texSubImage2D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ge(){try{t.texSubImage3D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function lt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function qe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function H(){try{t.texStorage2D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function J(){try{t.texStorage3D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function K(){try{t.texImage3D.apply(t,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function oe(W){re.equals(W)===!1&&(t.scissor(W.x,W.y,W.z,W.w),re.copy(W))}function xe(W){he.equals(W)===!1&&(t.viewport(W.x,W.y,W.z,W.w),he.copy(W))}function Le(W,ue){let Ee=f.get(ue);Ee===void 0&&(Ee=new WeakMap,f.set(ue,Ee));let Fe=Ee.get(W);Fe===void 0&&(Fe=t.getUniformBlockIndex(ue,W.name),Ee.set(W,Fe))}function Ne(W,ue){const Fe=f.get(ue).get(W);c.get(ue)!==Fe&&(t.uniformBlockBinding(ue,Fe,W.__bindingPointIndex),c.set(ue,Fe))}function Be(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},Y=null,X={},m={},y=new WeakMap,_=[],x=null,g=!1,S=null,w=null,b=null,M=null,A=null,R=null,L=null,C=!1,k=null,$=null,ee=null,q=null,Z=null,re.set(0,0,t.canvas.width,t.canvas.height),he.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:j,disable:Ze,bindFramebuffer:nt,drawBuffers:Re,useProgram:He,setBlending:Ce,setMaterial:Ye,setFlipSided:Ve,setCullFace:st,setLineWidth:at,setPolygonOffset:ot,setScissorTest:pt,activeTexture:It,bindTexture:B,unbindTexture:D,compressedTexImage2D:ge,compressedTexImage3D:Ie,texImage2D:N,texImage3D:K,updateUBOMapping:Le,uniformBlockBinding:Ne,texStorage2D:H,texStorage3D:J,texSubImage2D:ke,texSubImage3D:Ge,compressedTexSubImage2D:lt,compressedTexSubImage3D:qe,scissor:oe,viewport:xe,reset:Be}}function Lme(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let _;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(B,D){return g?new OffscreenCanvas(B,D):a2("canvas")}function w(B,D,ge,Ie){let ke=1;if((B.width>Ie||B.height>Ie)&&(ke=Ie/Math.max(B.width,B.height)),ke<1||D===!0)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const Ge=D?xV:Math.floor,lt=Ge(ke*B.width),qe=Ge(ke*B.height);_===void 0&&(_=S(lt,qe));const H=ge?S(lt,qe):_;return H.width=lt,H.height=qe,H.getContext("2d").drawImage(B,0,0,lt,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+lt+"x"+qe+")."),H}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function b(B){return Ix(B.width)&&Ix(B.height)}function M(B){return a?!1:B.wrapS!==Ai||B.wrapT!==Ai||B.minFilter!==fr&&B.minFilter!==mr}function A(B,D){return B.generateMipmaps&&D&&B.minFilter!==fr&&B.minFilter!==mr}function R(B){t.generateMipmap(B)}function L(B,D,ge,Ie,ke=!1){if(a===!1)return D;if(B!==null){if(t[B]!==void 0)return t[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Ge=D;return D===t.RED&&(ge===t.FLOAT&&(Ge=t.R32F),ge===t.HALF_FLOAT&&(Ge=t.R16F),ge===t.UNSIGNED_BYTE&&(Ge=t.R8)),D===t.RG&&(ge===t.FLOAT&&(Ge=t.RG32F),ge===t.HALF_FLOAT&&(Ge=t.RG16F),ge===t.UNSIGNED_BYTE&&(Ge=t.RG8)),D===t.RGBA&&(ge===t.FLOAT&&(Ge=t.RGBA32F),ge===t.HALF_FLOAT&&(Ge=t.RGBA16F),ge===t.UNSIGNED_BYTE&&(Ge=Ie===Ft&&ke===!1?t.SRGB8_ALPHA8:t.RGBA8),ge===t.UNSIGNED_SHORT_4_4_4_4&&(Ge=t.RGBA4),ge===t.UNSIGNED_SHORT_5_5_5_1&&(Ge=t.RGB5_A1)),(Ge===t.R16F||Ge===t.R32F||Ge===t.RG16F||Ge===t.RG32F||Ge===t.RGBA16F||Ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ge}function C(B,D,ge){return A(B,ge)===!0||B.isFramebufferTexture&&B.minFilter!==fr&&B.minFilter!==mr?Math.log2(Math.max(D.width,D.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?D.mipmaps.length:1}function k(B){return B===fr||B===U6||B===sp?t.NEAREST:t.LINEAR}function $(B){const D=B.target;D.removeEventListener("dispose",$),q(D),D.isVideoTexture&&y.delete(D)}function ee(B){const D=B.target;D.removeEventListener("dispose",ee),ie(D)}function q(B){const D=r.get(B);if(D.__webglInit===void 0)return;const ge=B.source,Ie=x.get(ge);if(Ie){const ke=Ie[D.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&Z(B),Object.keys(Ie).length===0&&x.delete(ge)}r.remove(B)}function Z(B){const D=r.get(B);t.deleteTexture(D.__webglTexture);const ge=B.source,Ie=x.get(ge);delete Ie[D.__cacheKey],o.memory.textures--}function ie(B){const D=B.texture,ge=r.get(B),Ie=r.get(D);if(Ie.__webglTexture!==void 0&&(t.deleteTexture(Ie.__webglTexture),o.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++)t.deleteFramebuffer(ge.__webglFramebuffer[ke]),ge.__webglDepthbuffer&&t.deleteRenderbuffer(ge.__webglDepthbuffer[ke]);else{if(t.deleteFramebuffer(ge.__webglFramebuffer),ge.__webglDepthbuffer&&t.deleteRenderbuffer(ge.__webglDepthbuffer),ge.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ge.__webglMultisampledFramebuffer),ge.__webglColorRenderbuffer)for(let ke=0;ke<ge.__webglColorRenderbuffer.length;ke++)ge.__webglColorRenderbuffer[ke]&&t.deleteRenderbuffer(ge.__webglColorRenderbuffer[ke]);ge.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ge.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let ke=0,Ge=D.length;ke<Ge;ke++){const lt=r.get(D[ke]);lt.__webglTexture&&(t.deleteTexture(lt.__webglTexture),o.memory.textures--),r.remove(D[ke])}r.remove(D),r.remove(B)}let fe=0;function me(){fe=0}function G(){const B=fe;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),fe+=1,B}function Y(B){const D=[];return D.push(B.wrapS),D.push(B.wrapT),D.push(B.wrapR||0),D.push(B.magFilter),D.push(B.minFilter),D.push(B.anisotropy),D.push(B.internalFormat),D.push(B.format),D.push(B.type),D.push(B.generateMipmaps),D.push(B.premultiplyAlpha),D.push(B.flipY),D.push(B.unpackAlignment),D.push(B.colorSpace),D.join()}function X(B,D){const ge=r.get(B);if(B.isVideoTexture&&pt(B),B.isRenderTargetTexture===!1&&B.version>0&&ge.__version!==B.version){const Ie=B.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ze(ge,B,D);return}}n.bindTexture(t.TEXTURE_2D,ge.__webglTexture,t.TEXTURE0+D)}function ae(B,D){const ge=r.get(B);if(B.version>0&&ge.__version!==B.version){Ze(ge,B,D);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ge.__webglTexture,t.TEXTURE0+D)}function ce(B,D){const ge=r.get(B);if(B.version>0&&ge.__version!==B.version){Ze(ge,B,D);return}n.bindTexture(t.TEXTURE_3D,ge.__webglTexture,t.TEXTURE0+D)}function re(B,D){const ge=r.get(B);if(B.version>0&&ge.__version!==B.version){nt(ge,B,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture,t.TEXTURE0+D)}const he={[t2]:t.REPEAT,[Ai]:t.CLAMP_TO_EDGE,[n2]:t.MIRRORED_REPEAT},Pe={[fr]:t.NEAREST,[U6]:t.NEAREST_MIPMAP_NEAREST,[sp]:t.NEAREST_MIPMAP_LINEAR,[mr]:t.LINEAR,[LE]:t.LINEAR_MIPMAP_NEAREST,[Eu]:t.LINEAR_MIPMAP_LINEAR};function Ae(B,D,ge){if(ge?(t.texParameteri(B,t.TEXTURE_WRAP_S,he[D.wrapS]),t.texParameteri(B,t.TEXTURE_WRAP_T,he[D.wrapT]),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,he[D.wrapR]),t.texParameteri(B,t.TEXTURE_MAG_FILTER,Pe[D.magFilter]),t.texParameteri(B,t.TEXTURE_MIN_FILTER,Pe[D.minFilter])):(t.texParameteri(B,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(B,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(D.wrapS!==Ai||D.wrapT!==Ai)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(B,t.TEXTURE_MAG_FILTER,k(D.magFilter)),t.texParameteri(B,t.TEXTURE_MIN_FILTER,k(D.minFilter)),D.minFilter!==fr&&D.minFilter!==mr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ie=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===fr||D.minFilter!==sp&&D.minFilter!==Eu||D.type===Xa&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Bf&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(t.texParameterf(B,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function j(B,D){let ge=!1;B.__webglInit===void 0&&(B.__webglInit=!0,D.addEventListener("dispose",$));const Ie=D.source;let ke=x.get(Ie);ke===void 0&&(ke={},x.set(Ie,ke));const Ge=Y(D);if(Ge!==B.__cacheKey){ke[Ge]===void 0&&(ke[Ge]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ge=!0),ke[Ge].usedTimes++;const lt=ke[B.__cacheKey];lt!==void 0&&(ke[B.__cacheKey].usedTimes--,lt.usedTimes===0&&Z(D)),B.__cacheKey=Ge,B.__webglTexture=ke[Ge].texture}return ge}function Ze(B,D,ge){let Ie=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Ie=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Ie=t.TEXTURE_3D);const ke=j(B,D),Ge=D.source;n.bindTexture(Ie,B.__webglTexture,t.TEXTURE0+ge);const lt=r.get(Ge);if(Ge.version!==lt.__version||ke===!0){n.activeTexture(t.TEXTURE0+ge),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const qe=M(D)&&b(D.image)===!1;let H=w(D.image,qe,!1,c);H=It(D,H);const J=b(H)||a,N=s.convert(D.format,D.colorSpace);let K=s.convert(D.type),oe=L(D.internalFormat,N,K,D.colorSpace);Ae(Ie,D,J);let xe;const Le=D.mipmaps,Ne=a&&D.isVideoTexture!==!0,Be=lt.__version===void 0||ke===!0,W=C(D,H,J);if(D.isDepthTexture)oe=t.DEPTH_COMPONENT,a?D.type===Xa?oe=t.DEPTH_COMPONENT32F:D.type===Kl?oe=t.DEPTH_COMPONENT24:D.type===Wc?oe=t.DEPTH24_STENCIL8:oe=t.DEPTH_COMPONENT16:D.type===Xa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===uu&&oe===t.DEPTH_COMPONENT&&D.type!==kE&&D.type!==Kl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Kl,K=s.convert(D.type)),D.format===od&&oe===t.DEPTH_COMPONENT&&(oe=t.DEPTH_STENCIL,D.type!==Wc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Wc,K=s.convert(D.type))),Be&&(Ne?n.texStorage2D(t.TEXTURE_2D,1,oe,H.width,H.height):n.texImage2D(t.TEXTURE_2D,0,oe,H.width,H.height,0,N,K,null));else if(D.isDataTexture)if(Le.length>0&&J){Ne&&Be&&n.texStorage2D(t.TEXTURE_2D,W,oe,Le[0].width,Le[0].height);for(let ue=0,Ee=Le.length;ue<Ee;ue++)xe=Le[ue],Ne?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,xe.width,xe.height,N,K,xe.data):n.texImage2D(t.TEXTURE_2D,ue,oe,xe.width,xe.height,0,N,K,xe.data);D.generateMipmaps=!1}else Ne?(Be&&n.texStorage2D(t.TEXTURE_2D,W,oe,H.width,H.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,H.width,H.height,N,K,H.data)):n.texImage2D(t.TEXTURE_2D,0,oe,H.width,H.height,0,N,K,H.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Ne&&Be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,W,oe,Le[0].width,Le[0].height,H.depth);for(let ue=0,Ee=Le.length;ue<Ee;ue++)xe=Le[ue],D.format!==ns?N!==null?Ne?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,xe.width,xe.height,H.depth,N,xe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ue,oe,xe.width,xe.height,H.depth,0,xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,xe.width,xe.height,H.depth,N,K,xe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ue,oe,xe.width,xe.height,H.depth,0,N,K,xe.data)}else{Ne&&Be&&n.texStorage2D(t.TEXTURE_2D,W,oe,Le[0].width,Le[0].height);for(let ue=0,Ee=Le.length;ue<Ee;ue++)xe=Le[ue],D.format!==ns?N!==null?Ne?n.compressedTexSubImage2D(t.TEXTURE_2D,ue,0,0,xe.width,xe.height,N,xe.data):n.compressedTexImage2D(t.TEXTURE_2D,ue,oe,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,xe.width,xe.height,N,K,xe.data):n.texImage2D(t.TEXTURE_2D,ue,oe,xe.width,xe.height,0,N,K,xe.data)}else if(D.isDataArrayTexture)Ne?(Be&&n.texStorage3D(t.TEXTURE_2D_ARRAY,W,oe,H.width,H.height,H.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,H.width,H.height,H.depth,N,K,H.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,oe,H.width,H.height,H.depth,0,N,K,H.data);else if(D.isData3DTexture)Ne?(Be&&n.texStorage3D(t.TEXTURE_3D,W,oe,H.width,H.height,H.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,H.width,H.height,H.depth,N,K,H.data)):n.texImage3D(t.TEXTURE_3D,0,oe,H.width,H.height,H.depth,0,N,K,H.data);else if(D.isFramebufferTexture){if(Be)if(Ne)n.texStorage2D(t.TEXTURE_2D,W,oe,H.width,H.height);else{let ue=H.width,Ee=H.height;for(let Fe=0;Fe<W;Fe++)n.texImage2D(t.TEXTURE_2D,Fe,oe,ue,Ee,0,N,K,null),ue>>=1,Ee>>=1}}else if(Le.length>0&&J){Ne&&Be&&n.texStorage2D(t.TEXTURE_2D,W,oe,Le[0].width,Le[0].height);for(let ue=0,Ee=Le.length;ue<Ee;ue++)xe=Le[ue],Ne?n.texSubImage2D(t.TEXTURE_2D,ue,0,0,N,K,xe):n.texImage2D(t.TEXTURE_2D,ue,oe,N,K,xe);D.generateMipmaps=!1}else Ne?(Be&&n.texStorage2D(t.TEXTURE_2D,W,oe,H.width,H.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,N,K,H)):n.texImage2D(t.TEXTURE_2D,0,oe,N,K,H);A(D,J)&&R(Ie),lt.__version=Ge.version,D.onUpdate&&D.onUpdate(D)}B.__version=D.version}function nt(B,D,ge){if(D.image.length!==6)return;const Ie=j(B,D),ke=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+ge);const Ge=r.get(ke);if(ke.version!==Ge.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ge),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const lt=D.isCompressedTexture||D.image[0].isCompressedTexture,qe=D.image[0]&&D.image[0].isDataTexture,H=[];for(let ue=0;ue<6;ue++)!lt&&!qe?H[ue]=w(D.image[ue],!1,!0,u):H[ue]=qe?D.image[ue].image:D.image[ue],H[ue]=It(D,H[ue]);const J=H[0],N=b(J)||a,K=s.convert(D.format,D.colorSpace),oe=s.convert(D.type),xe=L(D.internalFormat,K,oe,D.colorSpace),Le=a&&D.isVideoTexture!==!0,Ne=Ge.__version===void 0||Ie===!0;let Be=C(D,J,N);Ae(t.TEXTURE_CUBE_MAP,D,N);let W;if(lt){Le&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Be,xe,J.width,J.height);for(let ue=0;ue<6;ue++){W=H[ue].mipmaps;for(let Ee=0;Ee<W.length;Ee++){const Fe=W[Ee];D.format!==ns?K!==null?Le?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee,0,0,Fe.width,Fe.height,K,Fe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee,xe,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee,0,0,Fe.width,Fe.height,K,oe,Fe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee,xe,Fe.width,Fe.height,0,K,oe,Fe.data)}}}else{W=D.mipmaps,Le&&Ne&&(W.length>0&&Be++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Be,xe,H[0].width,H[0].height));for(let ue=0;ue<6;ue++)if(qe){Le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,0,0,H[ue].width,H[ue].height,K,oe,H[ue].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,xe,H[ue].width,H[ue].height,0,K,oe,H[ue].data);for(let Ee=0;Ee<W.length;Ee++){const $e=W[Ee].image[ue].image;Le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee+1,0,0,$e.width,$e.height,K,oe,$e.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee+1,xe,$e.width,$e.height,0,K,oe,$e.data)}}else{Le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,0,0,K,oe,H[ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,0,xe,K,oe,H[ue]);for(let Ee=0;Ee<W.length;Ee++){const Fe=W[Ee];Le?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee+1,0,0,K,oe,Fe.image[ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ue,Ee+1,xe,K,oe,Fe.image[ue])}}}A(D,N)&&R(t.TEXTURE_CUBE_MAP),Ge.__version=ke.version,D.onUpdate&&D.onUpdate(D)}B.__version=D.version}function Re(B,D,ge,Ie,ke){const Ge=s.convert(ge.format,ge.colorSpace),lt=s.convert(ge.type),qe=L(ge.internalFormat,Ge,lt,ge.colorSpace);r.get(D).__hasExternalTextures||(ke===t.TEXTURE_3D||ke===t.TEXTURE_2D_ARRAY?n.texImage3D(ke,0,qe,D.width,D.height,D.depth,0,Ge,lt,null):n.texImage2D(ke,0,qe,D.width,D.height,0,Ge,lt,null)),n.bindFramebuffer(t.FRAMEBUFFER,B),ot(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ie,ke,r.get(ge).__webglTexture,0,at(D)):(ke===t.TEXTURE_2D||ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ie,ke,r.get(ge).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function He(B,D,ge){if(t.bindRenderbuffer(t.RENDERBUFFER,B),D.depthBuffer&&!D.stencilBuffer){let Ie=t.DEPTH_COMPONENT16;if(ge||ot(D)){const ke=D.depthTexture;ke&&ke.isDepthTexture&&(ke.type===Xa?Ie=t.DEPTH_COMPONENT32F:ke.type===Kl&&(Ie=t.DEPTH_COMPONENT24));const Ge=at(D);ot(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ge,Ie,D.width,D.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ge,Ie,D.width,D.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ie,D.width,D.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,B)}else if(D.depthBuffer&&D.stencilBuffer){const Ie=at(D);ge&&ot(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,t.DEPTH24_STENCIL8,D.width,D.height):ot(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,t.DEPTH24_STENCIL8,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,B)}else{const Ie=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let ke=0;ke<Ie.length;ke++){const Ge=Ie[ke],lt=s.convert(Ge.format,Ge.colorSpace),qe=s.convert(Ge.type),H=L(Ge.internalFormat,lt,qe,Ge.colorSpace),J=at(D);ge&&ot(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,J,H,D.width,D.height):ot(D)?p.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,J,H,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,H,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Te(B,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,B),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),X(D.depthTexture,0);const Ie=r.get(D.depthTexture).__webglTexture,ke=at(D);if(D.depthTexture.format===uu)ot(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(D.depthTexture.format===od)ot(D)?p.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function ve(B){const D=r.get(B),ge=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!D.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");Te(D.__webglFramebuffer,B)}else if(ge){D.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[Ie]),D.__webglDepthbuffer[Ie]=t.createRenderbuffer(),He(D.__webglDepthbuffer[Ie],B,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=t.createRenderbuffer(),He(D.__webglDepthbuffer,B,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ce(B,D,ge){const Ie=r.get(B);D!==void 0&&Re(Ie.__webglFramebuffer,B,B.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),ge!==void 0&&ve(B)}function Ye(B){const D=B.texture,ge=r.get(B),Ie=r.get(D);B.addEventListener("dispose",ee),B.isWebGLMultipleRenderTargets!==!0&&(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=D.version,o.memory.textures++);const ke=B.isWebGLCubeRenderTarget===!0,Ge=B.isWebGLMultipleRenderTargets===!0,lt=b(B)||a;if(ke){ge.__webglFramebuffer=[];for(let qe=0;qe<6;qe++)ge.__webglFramebuffer[qe]=t.createFramebuffer()}else{if(ge.__webglFramebuffer=t.createFramebuffer(),Ge)if(i.drawBuffers){const qe=B.texture;for(let H=0,J=qe.length;H<J;H++){const N=r.get(qe[H]);N.__webglTexture===void 0&&(N.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&B.samples>0&&ot(B)===!1){const qe=Ge?D:[D];ge.__webglMultisampledFramebuffer=t.createFramebuffer(),ge.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let H=0;H<qe.length;H++){const J=qe[H];ge.__webglColorRenderbuffer[H]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ge.__webglColorRenderbuffer[H]);const N=s.convert(J.format,J.colorSpace),K=s.convert(J.type),oe=L(J.internalFormat,N,K,J.colorSpace,B.isXRRenderTarget===!0),xe=at(B);t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,oe,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+H,t.RENDERBUFFER,ge.__webglColorRenderbuffer[H])}t.bindRenderbuffer(t.RENDERBUFFER,null),B.depthBuffer&&(ge.__webglDepthRenderbuffer=t.createRenderbuffer(),He(ge.__webglDepthRenderbuffer,B,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ke){n.bindTexture(t.TEXTURE_CUBE_MAP,Ie.__webglTexture),Ae(t.TEXTURE_CUBE_MAP,D,lt);for(let qe=0;qe<6;qe++)Re(ge.__webglFramebuffer[qe],B,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+qe);A(D,lt)&&R(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ge){const qe=B.texture;for(let H=0,J=qe.length;H<J;H++){const N=qe[H],K=r.get(N);n.bindTexture(t.TEXTURE_2D,K.__webglTexture),Ae(t.TEXTURE_2D,N,lt),Re(ge.__webglFramebuffer,B,N,t.COLOR_ATTACHMENT0+H,t.TEXTURE_2D),A(N,lt)&&R(t.TEXTURE_2D)}n.unbindTexture()}else{let qe=t.TEXTURE_2D;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(a?qe=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(qe,Ie.__webglTexture),Ae(qe,D,lt),Re(ge.__webglFramebuffer,B,D,t.COLOR_ATTACHMENT0,qe),A(D,lt)&&R(qe),n.unbindTexture()}B.depthBuffer&&ve(B)}function Ve(B){const D=b(B)||a,ge=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Ie=0,ke=ge.length;Ie<ke;Ie++){const Ge=ge[Ie];if(A(Ge,D)){const lt=B.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,qe=r.get(Ge).__webglTexture;n.bindTexture(lt,qe),R(lt),n.unbindTexture()}}}function st(B){if(a&&B.samples>0&&ot(B)===!1){const D=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],ge=B.width,Ie=B.height;let ke=t.COLOR_BUFFER_BIT;const Ge=[],lt=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,qe=r.get(B),H=B.isWebGLMultipleRenderTargets===!0;if(H)for(let J=0;J<D.length;J++)n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+J,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+J,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglFramebuffer);for(let J=0;J<D.length;J++){Ge.push(t.COLOR_ATTACHMENT0+J),B.depthBuffer&&Ge.push(lt);const N=qe.__ignoreDepthValues!==void 0?qe.__ignoreDepthValues:!1;if(N===!1&&(B.depthBuffer&&(ke|=t.DEPTH_BUFFER_BIT),B.stencilBuffer&&(ke|=t.STENCIL_BUFFER_BIT)),H&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,qe.__webglColorRenderbuffer[J]),N===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[lt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[lt])),H){const K=r.get(D[J]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,K,0)}t.blitFramebuffer(0,0,ge,Ie,0,0,ge,Ie,ke,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ge)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),H)for(let J=0;J<D.length;J++){n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+J,t.RENDERBUFFER,qe.__webglColorRenderbuffer[J]);const N=r.get(D[J]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+J,t.TEXTURE_2D,N,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,qe.__webglMultisampledFramebuffer)}}function at(B){return Math.min(f,B.samples)}function ot(B){const D=r.get(B);return a&&B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function pt(B){const D=o.render.frame;y.get(B)!==D&&(y.set(B,D),B.update())}function It(B,D){const ge=B.colorSpace,Ie=B.format,ke=B.type;return B.isCompressedTexture===!0||B.format===z6||ge!==Do&&ge!==du&&(ge===Ft?a===!1?e.has("EXT_sRGB")===!0&&Ie===ns?(B.format=z6,B.minFilter=mr,B.generateMipmaps=!1):D=UE.sRGBToLinear(D):(Ie!==ns||ke!==ul)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),D}this.allocateTextureUnit=G,this.resetTextureUnits=me,this.setTexture2D=X,this.setTexture2DArray=ae,this.setTexture3D=ce,this.setTextureCube=re,this.rebindTextures=Ce,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=ot}function LV(t,e,n){const r=n.isWebGL2;function i(s,o=du){let a;if(s===ul)return t.UNSIGNED_BYTE;if(s===eV)return t.UNSIGNED_SHORT_4_4_4_4;if(s===tV)return t.UNSIGNED_SHORT_5_5_5_1;if(s===QB)return t.BYTE;if(s===ZB)return t.SHORT;if(s===kE)return t.UNSIGNED_SHORT;if(s===JB)return t.INT;if(s===Kl)return t.UNSIGNED_INT;if(s===Xa)return t.FLOAT;if(s===Bf)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===nV)return t.ALPHA;if(s===ns)return t.RGBA;if(s===rV)return t.LUMINANCE;if(s===iV)return t.LUMINANCE_ALPHA;if(s===uu)return t.DEPTH_COMPONENT;if(s===od)return t.DEPTH_STENCIL;if(s===z6)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===sV)return t.RED;if(s===oV)return t.RED_INTEGER;if(s===aV)return t.RG;if(s===lV)return t.RG_INTEGER;if(s===uV)return t.RGBA_INTEGER;if(s===L5||s===k5||s===D5||s===N5)if(o===Ft)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===L5)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===k5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===D5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===N5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===L5)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===k5)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===D5)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===N5)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===ax||s===lx||s===ux||s===cx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===ax)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===lx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===ux)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===cx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===cV)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===dx||s===hx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===dx)return o===Ft?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===hx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===fx||s===px||s===mx||s===gx||s===yx||s===vx||s===_x||s===xx||s===Sx||s===wx||s===Ex||s===bx||s===Tx||s===Mx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===fx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===px)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===mx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===gx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===yx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===vx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===_x)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===xx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Sx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===wx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Ex)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===bx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Tx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Mx)return o===Ft?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===F5)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===F5)return o===Ft?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===dV||s===Ax||s===Cx||s===Px)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===F5)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Ax)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Cx)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Px)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wc?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class kV extends Bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class kc extends ln{constructor(){super(),this.isGroup=!0,this.type="Group"}}const kme={type:"move"};class Cy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new O,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new O),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new O,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new O),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,r),g=this._getHandJoint(u,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=c.position.distanceTo(f.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(kme)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new kc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class DV extends ar{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:uu,c!==uu&&c!==od)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===uu&&(r=Kl),r===void 0&&c===od&&(r=Wc),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:fr,this.minFilter=l!==void 0?l:fr,this.flipY=!1,this.generateMipmaps=!1}}class Dme extends _a{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,p=null,m=null,y=null;const _=n.getContextAttributes();let x=null,g=null;const S=[],w=[],b=new Set,M=new Map,A=new Bn;A.layers.enable(1),A.viewport=new En;const R=new Bn;R.layers.enable(2),R.viewport=new En;const L=[A,R],C=new kV;C.layers.enable(1),C.layers.enable(2);let k=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let he=S[re];return he===void 0&&(he=new Cy,S[re]=he),he.getTargetRaySpace()},this.getControllerGrip=function(re){let he=S[re];return he===void 0&&(he=new Cy,S[re]=he),he.getGripSpace()},this.getHand=function(re){let he=S[re];return he===void 0&&(he=new Cy,S[re]=he),he.getHandSpace()};function ee(re){const he=w.indexOf(re.inputSource);if(he===-1)return;const Pe=S[he];Pe!==void 0&&(Pe.update(re.inputSource,re.frame,u||o),Pe.dispatchEvent({type:re.type,data:re.inputSource}))}function q(){i.removeEventListener("select",ee),i.removeEventListener("selectstart",ee),i.removeEventListener("selectend",ee),i.removeEventListener("squeeze",ee),i.removeEventListener("squeezestart",ee),i.removeEventListener("squeezeend",ee),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",Z);for(let re=0;re<S.length;re++){const he=w[re];he!==null&&(w[re]=null,S[re].disconnect(he))}k=null,$=null,e.setRenderTarget(x),m=null,p=null,f=null,i=null,g=null,ce.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(re){u=re},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",ee),i.addEventListener("selectstart",ee),i.addEventListener("selectend",ee),i.addEventListener("squeeze",ee),i.addEventListener("squeezestart",ee),i.addEventListener("squeezeend",ee),i.addEventListener("end",q),i.addEventListener("inputsourceschange",Z),_.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const he={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,he),i.updateRenderState({baseLayer:m}),g=new No(m.framebufferWidth,m.framebufferHeight,{format:ns,type:ul,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let he=null,Pe=null,Ae=null;_.depth&&(Ae=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,he=_.stencil?od:uu,Pe=_.stencil?Wc:Kl);const j={colorFormat:n.RGBA8,depthFormat:Ae,scaleFactor:s};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(j),i.updateRenderState({layers:[p]}),g=new No(p.textureWidth,p.textureHeight,{format:ns,type:ul,depthTexture:new DV(p.textureWidth,p.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const Ze=e.properties.get(g);Ze.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ce.setContext(i),ce.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Z(re){for(let he=0;he<re.removed.length;he++){const Pe=re.removed[he],Ae=w.indexOf(Pe);Ae>=0&&(w[Ae]=null,S[Ae].disconnect(Pe))}for(let he=0;he<re.added.length;he++){const Pe=re.added[he];let Ae=w.indexOf(Pe);if(Ae===-1){for(let Ze=0;Ze<S.length;Ze++)if(Ze>=w.length){w.push(Pe),Ae=Ze;break}else if(w[Ze]===null){w[Ze]=Pe,Ae=Ze;break}if(Ae===-1)break}const j=S[Ae];j&&j.connect(Pe)}}const ie=new O,fe=new O;function me(re,he,Pe){ie.setFromMatrixPosition(he.matrixWorld),fe.setFromMatrixPosition(Pe.matrixWorld);const Ae=ie.distanceTo(fe),j=he.projectionMatrix.elements,Ze=Pe.projectionMatrix.elements,nt=j[14]/(j[10]-1),Re=j[14]/(j[10]+1),He=(j[9]+1)/j[5],Te=(j[9]-1)/j[5],ve=(j[8]-1)/j[0],Ce=(Ze[8]+1)/Ze[0],Ye=nt*ve,Ve=nt*Ce,st=Ae/(-ve+Ce),at=st*-ve;he.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(at),re.translateZ(st),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const ot=nt+st,pt=Re+st,It=Ye-at,B=Ve+(Ae-at),D=He*Re/pt*ot,ge=Te*Re/pt*ot;re.projectionMatrix.makePerspective(It,B,D,ge,ot,pt),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function G(re,he){he===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(he.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;C.near=R.near=A.near=re.near,C.far=R.far=A.far=re.far,(k!==C.near||$!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),k=C.near,$=C.far);const he=re.parent,Pe=C.cameras;G(C,he);for(let Ae=0;Ae<Pe.length;Ae++)G(Pe[Ae],he);Pe.length===2?me(C,A,R):C.projectionMatrix.copy(A.projectionMatrix),Y(re,C,he)};function Y(re,he,Pe){Pe===null?re.matrix.copy(he.matrixWorld):(re.matrix.copy(Pe.matrixWorld),re.matrix.invert(),re.matrix.multiply(he.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0);const Ae=re.children;for(let j=0,Ze=Ae.length;j<Ze;j++)Ae[j].updateMatrixWorld(!0);re.projectionMatrix.copy(he.projectionMatrix),re.projectionMatrixInverse.copy(he.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=Vf*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(re){l=re,p!==null&&(p.fixedFoveation=re),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=re)},this.getPlanes=function(){return b};let X=null;function ae(re,he){if(c=he.getViewerPose(u||o),y=he,c!==null){const Pe=c.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ae=!1;Pe.length!==C.cameras.length&&(C.cameras.length=0,Ae=!0);for(let j=0;j<Pe.length;j++){const Ze=Pe[j];let nt=null;if(m!==null)nt=m.getViewport(Ze);else{const He=f.getViewSubImage(p,Ze);nt=He.viewport,j===0&&(e.setRenderTargetTextures(g,He.colorTexture,p.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(g))}let Re=L[j];Re===void 0&&(Re=new Bn,Re.layers.enable(j),Re.viewport=new En,L[j]=Re),Re.matrix.fromArray(Ze.transform.matrix),Re.matrix.decompose(Re.position,Re.quaternion,Re.scale),Re.projectionMatrix.fromArray(Ze.projectionMatrix),Re.projectionMatrixInverse.copy(Re.projectionMatrix).invert(),Re.viewport.set(nt.x,nt.y,nt.width,nt.height),j===0&&(C.matrix.copy(Re.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),Ae===!0&&C.cameras.push(Re)}}for(let Pe=0;Pe<S.length;Pe++){const Ae=w[Pe],j=S[Pe];Ae!==null&&j!==void 0&&j.update(Ae,he,u||o)}if(X&&X(re,he),he.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:he.detectedPlanes});let Pe=null;for(const Ae of b)he.detectedPlanes.has(Ae)||(Pe===null&&(Pe=[]),Pe.push(Ae));if(Pe!==null)for(const Ae of Pe)b.delete(Ae),M.delete(Ae),r.dispatchEvent({type:"planeremoved",data:Ae});for(const Ae of he.detectedPlanes)if(!b.has(Ae))b.add(Ae),M.set(Ae,he.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Ae});else{const j=M.get(Ae);Ae.lastChangedTime>j&&(M.set(Ae,Ae.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Ae}))}}y=null}const ce=new AV;ce.setAnimationLoop(ae),this.setAnimationLoop=function(re){X=re},this.dispose=function(){}}}function Nme(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,EV(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,S,w,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),f(x,g)):g.isMeshPhongMaterial?(s(x,g),c(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,b)):g.isMeshMatcapMaterial?(s(x,g),y(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,S,w):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===ji&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===ji&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const S=e.get(g).envMap;if(S&&(x.envMap.value=S,x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const w=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*w,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,S,w){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*S,x.scale.value=w*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function f(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,S){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ji&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const S=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Fme(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,w){const b=w.program;r.uniformBlockBinding(S,b)}function u(S,w){let b=i[S.id];b===void 0&&(y(S),b=c(S),i[S.id]=b,S.addEventListener("dispose",x));const M=w.program;r.updateUBOMapping(S,M);const A=e.render.frame;s[S.id]!==A&&(p(S),s[S.id]=A)}function c(S){const w=f();S.__bindingPointIndex=w;const b=t.createBuffer(),M=S.__size,A=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,M,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,b),b}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=i[S.id],b=S.uniforms,M=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let A=0,R=b.length;A<R;A++){const L=b[A];if(m(L,A,M)===!0){const C=L.__offset,k=Array.isArray(L.value)?L.value:[L.value];let $=0;for(let ee=0;ee<k.length;ee++){const q=k[ee],Z=_(q);typeof q=="number"?(L.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,C+$,L.__data)):q.isMatrix3?(L.__data[0]=q.elements[0],L.__data[1]=q.elements[1],L.__data[2]=q.elements[2],L.__data[3]=q.elements[0],L.__data[4]=q.elements[3],L.__data[5]=q.elements[4],L.__data[6]=q.elements[5],L.__data[7]=q.elements[0],L.__data[8]=q.elements[6],L.__data[9]=q.elements[7],L.__data[10]=q.elements[8],L.__data[11]=q.elements[0]):(q.toArray(L.__data,$),$+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,C,L.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,w,b){const M=S.value;if(b[w]===void 0){if(typeof M=="number")b[w]=M;else{const A=Array.isArray(M)?M:[M],R=[];for(let L=0;L<A.length;L++)R.push(A[L].clone());b[w]=R}return!0}else if(typeof M=="number"){if(b[w]!==M)return b[w]=M,!0}else{const A=Array.isArray(b[w])?b[w]:[b[w]],R=Array.isArray(M)?M:[M];for(let L=0;L<A.length;L++){const C=A[L];if(C.equals(R[L])===!1)return C.copy(R[L]),!0}}return!1}function y(S){const w=S.uniforms;let b=0;const M=16;let A=0;for(let R=0,L=w.length;R<L;R++){const C=w[R],k={boundary:0,storage:0},$=Array.isArray(C.value)?C.value:[C.value];for(let ee=0,q=$.length;ee<q;ee++){const Z=$[ee],ie=_(Z);k.boundary+=ie.boundary,k.storage+=ie.storage}if(C.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=b,R>0){A=b%M;const ee=M-A;A!==0&&ee-k.boundary<0&&(b+=M-A,C.__offset=b)}b+=k.storage}return A=b%M,A>0&&(b+=M-A),S.__size=b,S.__cache={},this}function _(S){const w={boundary:0,storage:0};return typeof S=="number"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function x(S){const w=S.target;w.removeEventListener("dispose",x);const b=o.indexOf(w.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function g(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}function Ome(){const t=a2("canvas");return t.style.display="block",t}class WE{constructor(e={}){const{canvas:n=Ome(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;let m=null,y=null;const _=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ft,this.useLegacyLights=!0,this.toneMapping=Lo,this.toneMappingExposure=1;const g=this;let S=!1,w=0,b=0,M=null,A=-1,R=null;const L=new En,C=new En;let k=null,$=n.width,ee=n.height,q=1,Z=null,ie=null;const fe=new En(0,0,$,ee),me=new En(0,0,$,ee);let G=!1;const Y=new a8;let X=!1,ae=!1,ce=null;const re=new kt,he=new O,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return M===null?q:1}let j=r;function Ze(F,de){for(let _e=0;_e<F.length;_e++){const le=F[_e],be=n.getContext(le,de);if(be!==null)return be}return null}try{const F={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${n8}`),n.addEventListener("webglcontextlost",xe,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",Ne,!1),j===null){const de=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&de.shift(),j=Ze(de,F),j===null)throw Ze(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let nt,Re,He,Te,ve,Ce,Ye,Ve,st,at,ot,pt,It,B,D,ge,Ie,ke,Ge,lt,qe,H,J,N;function K(){nt=new J2e(j),Re=new q2e(j,nt,e),nt.init(Re),H=new LV(j,nt,Re),He=new Ime(j,nt,Re),Te=new n3e(j),ve=new _me,Ce=new Lme(j,nt,He,ve,Re,H,Te),Ye=new Y2e(g),Ve=new Z2e(g),st=new p1e(j,Re),J=new W2e(j,nt,st,Re),at=new e3e(j,st,Te,J),ot=new o3e(j,at,st,Te),Ge=new s3e(j,Re,Ce),ge=new X2e(ve),pt=new vme(g,Ye,Ve,nt,Re,J,ge),It=new Nme(g,ve),B=new Sme,D=new Ame(nt,Re),ke=new $2e(g,Ye,Ve,He,ot,p,l),Ie=new Rme(g,ot,Re),N=new Fme(j,Te,Re,He),lt=new j2e(j,nt,Te,Re),qe=new t3e(j,nt,Te,Re),Te.programs=pt.programs,g.capabilities=Re,g.extensions=nt,g.properties=ve,g.renderLists=B,g.shadowMap=Ie,g.state=He,g.info=Te}K();const oe=new Dme(g,j);this.xr=oe,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const F=nt.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=nt.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(F){F!==void 0&&(q=F,this.setSize($,ee,!1))},this.getSize=function(F){return F.set($,ee)},this.setSize=function(F,de,_e=!0){if(oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=F,ee=de,n.width=Math.floor(F*q),n.height=Math.floor(de*q),_e===!0&&(n.style.width=F+"px",n.style.height=de+"px"),this.setViewport(0,0,F,de)},this.getDrawingBufferSize=function(F){return F.set($*q,ee*q).floor()},this.setDrawingBufferSize=function(F,de,_e){$=F,ee=de,q=_e,n.width=Math.floor(F*_e),n.height=Math.floor(de*_e),this.setViewport(0,0,F,de)},this.getCurrentViewport=function(F){return F.copy(L)},this.getViewport=function(F){return F.copy(fe)},this.setViewport=function(F,de,_e,le){F.isVector4?fe.set(F.x,F.y,F.z,F.w):fe.set(F,de,_e,le),He.viewport(L.copy(fe).multiplyScalar(q).floor())},this.getScissor=function(F){return F.copy(me)},this.setScissor=function(F,de,_e,le){F.isVector4?me.set(F.x,F.y,F.z,F.w):me.set(F,de,_e,le),He.scissor(C.copy(me).multiplyScalar(q).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(F){He.setScissorTest(G=F)},this.setOpaqueSort=function(F){Z=F},this.setTransparentSort=function(F){ie=F},this.getClearColor=function(F){return F.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor.apply(ke,arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha.apply(ke,arguments)},this.clear=function(F=!0,de=!0,_e=!0){let le=0;F&&(le|=j.COLOR_BUFFER_BIT),de&&(le|=j.DEPTH_BUFFER_BIT),_e&&(le|=j.STENCIL_BUFFER_BIT),j.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",xe,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",Ne,!1),B.dispose(),D.dispose(),ve.dispose(),Ye.dispose(),Ve.dispose(),ot.dispose(),J.dispose(),N.dispose(),pt.dispose(),oe.dispose(),oe.removeEventListener("sessionstart",$e),oe.removeEventListener("sessionend",_t),ce&&(ce.dispose(),ce=null),Gt.stop()};function xe(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const F=Te.autoReset,de=Ie.enabled,_e=Ie.autoUpdate,le=Ie.needsUpdate,be=Ie.type;K(),Te.autoReset=F,Ie.enabled=de,Ie.autoUpdate=_e,Ie.needsUpdate=le,Ie.type=be}function Ne(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Be(F){const de=F.target;de.removeEventListener("dispose",Be),W(de)}function W(F){ue(F),ve.remove(F)}function ue(F){const de=ve.get(F).programs;de!==void 0&&(de.forEach(function(_e){pt.releaseProgram(_e)}),F.isShaderMaterial&&pt.releaseShaderCache(F))}this.renderBufferDirect=function(F,de,_e,le,be,ut){de===null&&(de=Pe);const ct=be.isMesh&&be.matrixWorld.determinant()<0,St=co(F,de,_e,le,be);He.setMaterial(le,ct);let bt=_e.index,Dt=1;le.wireframe===!0&&(bt=at.getWireframeAttribute(_e),Dt=2);const Nt=_e.drawRange,Ot=_e.attributes.position;let nn=Nt.start*Dt,ur=(Nt.start+Nt.count)*Dt;ut!==null&&(nn=Math.max(nn,ut.start*Dt),ur=Math.min(ur,(ut.start+ut.count)*Dt)),bt!==null?(nn=Math.max(nn,0),ur=Math.min(ur,bt.count)):Ot!=null&&(nn=Math.max(nn,0),ur=Math.min(ur,Ot.count));const Di=ur-nn;if(Di<0||Di===1/0)return;J.setup(be,le,St,_e,bt);let hi,mn=lt;if(bt!==null&&(hi=st.get(bt),mn=qe,mn.setIndex(hi)),be.isMesh)le.wireframe===!0?(He.setLineWidth(le.wireframeLinewidth*Ae()),mn.setMode(j.LINES)):mn.setMode(j.TRIANGLES);else if(be.isLine){let Ut=le.linewidth;Ut===void 0&&(Ut=1),He.setLineWidth(Ut*Ae()),be.isLineSegments?mn.setMode(j.LINES):be.isLineLoop?mn.setMode(j.LINE_LOOP):mn.setMode(j.LINE_STRIP)}else be.isPoints?mn.setMode(j.POINTS):be.isSprite&&mn.setMode(j.TRIANGLES);if(be.isInstancedMesh)mn.renderInstances(nn,Di,be.count);else if(_e.isInstancedBufferGeometry){const Ut=_e._maxInstanceCount!==void 0?_e._maxInstanceCount:1/0,Os=Math.min(_e.instanceCount,Ut);mn.renderInstances(nn,Di,Os)}else mn.render(nn,Di)},this.compile=function(F,de){function _e(le,be,ut){le.transparent===!0&&le.side===na&&le.forceSinglePass===!1?(le.side=ji,le.needsUpdate=!0,Fs(le,be,ut),le.side=ll,le.needsUpdate=!0,Fs(le,be,ut),le.side=na):Fs(le,be,ut)}y=D.get(F),y.init(),x.push(y),F.traverseVisible(function(le){le.isLight&&le.layers.test(de.layers)&&(y.pushLight(le),le.castShadow&&y.pushShadow(le))}),y.setupLights(g.useLegacyLights),F.traverse(function(le){const be=le.material;if(be)if(Array.isArray(be))for(let ut=0;ut<be.length;ut++){const ct=be[ut];_e(ct,F,le)}else _e(be,F,le)}),x.pop(),y=null};let Ee=null;function Fe(F){Ee&&Ee(F)}function $e(){Gt.stop()}function _t(){Gt.start()}const Gt=new AV;Gt.setAnimationLoop(Fe),typeof self<"u"&&Gt.setContext(self),this.setAnimationLoop=function(F){Ee=F,oe.setAnimationLoop(F),F===null?Gt.stop():Gt.start()},oe.addEventListener("sessionstart",$e),oe.addEventListener("sessionend",_t),this.render=function(F,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),oe.enabled===!0&&oe.isPresenting===!0&&(oe.cameraAutoUpdate===!0&&oe.updateCamera(de),de=oe.getCamera()),F.isScene===!0&&F.onBeforeRender(g,F,de,M),y=D.get(F,x.length),y.init(),x.push(y),re.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),Y.setFromProjectionMatrix(re),ae=this.localClippingEnabled,X=ge.init(this.clippingPlanes,ae),m=B.get(F,_.length),m.init(),_.push(m),On(F,de,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(Z,ie),X===!0&&ge.beginShadows();const _e=y.state.shadowsArray;if(Ie.render(_e,F,de),X===!0&&ge.endShadows(),this.info.autoReset===!0&&this.info.reset(),ke.render(m,F),y.setupLights(g.useLegacyLights),de.isArrayCamera){const le=de.cameras;for(let be=0,ut=le.length;be<ut;be++){const ct=le[be];Hr(m,F,ct,ct.viewport)}}else Hr(m,F,de);M!==null&&(Ce.updateMultisampleRenderTarget(M),Ce.updateRenderTargetMipmap(M)),F.isScene===!0&&F.onAfterRender(g,F,de),J.resetDefaultState(),A=-1,R=null,x.pop(),x.length>0?y=x[x.length-1]:y=null,_.pop(),_.length>0?m=_[_.length-1]:m=null};function On(F,de,_e,le){if(F.visible===!1)return;if(F.layers.test(de.layers)){if(F.isGroup)_e=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(de);else if(F.isLight)y.pushLight(F),F.castShadow&&y.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||Y.intersectsSprite(F)){le&&he.setFromMatrixPosition(F.matrixWorld).applyMatrix4(re);const ct=ot.update(F),St=F.material;St.visible&&m.push(F,ct,St,_e,he.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||Y.intersectsObject(F))){F.isSkinnedMesh&&F.skeleton.frame!==Te.render.frame&&(F.skeleton.update(),F.skeleton.frame=Te.render.frame);const ct=ot.update(F),St=F.material;if(le&&(ct.boundingSphere===null&&ct.computeBoundingSphere(),he.copy(ct.boundingSphere.center).applyMatrix4(F.matrixWorld).applyMatrix4(re)),Array.isArray(St)){const bt=ct.groups;for(let Dt=0,Nt=bt.length;Dt<Nt;Dt++){const Ot=bt[Dt],nn=St[Ot.materialIndex];nn&&nn.visible&&m.push(F,ct,nn,_e,he.z,Ot)}}else St.visible&&m.push(F,ct,St,_e,he.z,null)}}const ut=F.children;for(let ct=0,St=ut.length;ct<St;ct++)On(ut[ct],de,_e,le)}function Hr(F,de,_e,le){const be=F.opaque,ut=F.transmissive,ct=F.transparent;y.setupLightsView(_e),X===!0&&ge.setGlobalState(g.clippingPlanes,_e),ut.length>0&&Kt(be,ut,de,_e),le&&He.viewport(L.copy(le)),be.length>0&&Jn(be,de,_e),ut.length>0&&Jn(ut,de,_e),ct.length>0&&Jn(ct,de,_e),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function Kt(F,de,_e,le){if(ce===null){const St=Re.isWebGL2;ce=new No(1024,1024,{generateMipmaps:!0,type:nt.has("EXT_color_buffer_half_float")?Bf:ul,minFilter:Eu,samples:St&&a===!0?4:0})}const be=g.getRenderTarget();g.setRenderTarget(ce),g.clear();const ut=g.toneMapping;g.toneMapping=Lo,Jn(F,_e,le),Ce.updateMultisampleRenderTarget(ce),Ce.updateRenderTargetMipmap(ce);let ct=!1;for(let St=0,bt=de.length;St<bt;St++){const Dt=de[St],Nt=Dt.object,Ot=Dt.geometry,nn=Dt.material,ur=Dt.group;if(nn.side===na&&Nt.layers.test(le.layers)){const Di=nn.side;nn.side=ji,nn.needsUpdate=!0,Pn(Nt,_e,le,Ot,nn,ur),nn.side=Di,nn.needsUpdate=!0,ct=!0}}ct===!0&&(Ce.updateMultisampleRenderTarget(ce),Ce.updateRenderTargetMipmap(ce)),g.setRenderTarget(be),g.toneMapping=ut}function Jn(F,de,_e){const le=de.isScene===!0?de.overrideMaterial:null;for(let be=0,ut=F.length;be<ut;be++){const ct=F[be],St=ct.object,bt=ct.geometry,Dt=le===null?ct.material:le,Nt=ct.group;St.layers.test(_e.layers)&&Pn(St,de,_e,bt,Dt,Nt)}}function Pn(F,de,_e,le,be,ut){F.onBeforeRender(g,de,_e,le,be,ut),F.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),be.onBeforeRender(g,de,_e,le,F,ut),be.transparent===!0&&be.side===na&&be.forceSinglePass===!1?(be.side=ji,be.needsUpdate=!0,g.renderBufferDirect(_e,de,le,be,F,ut),be.side=ll,be.needsUpdate=!0,g.renderBufferDirect(_e,de,le,be,F,ut),be.side=na):g.renderBufferDirect(_e,de,le,be,F,ut),F.onAfterRender(g,de,_e,le,be,ut)}function Fs(F,de,_e){de.isScene!==!0&&(de=Pe);const le=ve.get(F),be=y.state.lights,ut=y.state.shadowsArray,ct=be.state.version,St=pt.getParameters(F,be.state,ut,de,_e),bt=pt.getProgramCacheKey(St);let Dt=le.programs;le.environment=F.isMeshStandardMaterial?de.environment:null,le.fog=de.fog,le.envMap=(F.isMeshStandardMaterial?Ve:Ye).get(F.envMap||le.environment),Dt===void 0&&(F.addEventListener("dispose",Be),Dt=new Map,le.programs=Dt);let Nt=Dt.get(bt);if(Nt!==void 0){if(le.currentProgram===Nt&&le.lightsStateVersion===ct)return Bo(F,St),Nt}else St.uniforms=pt.getUniforms(F),F.onBuild(_e,St,g),F.onBeforeCompile(St,g),Nt=pt.acquireProgram(St,bt),Dt.set(bt,Nt),le.uniforms=St.uniforms;const Ot=le.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Ot.clippingPlanes=ge.uniform),Bo(F,St),le.needsLights=Gr(F),le.lightsStateVersion=ct,le.needsLights&&(Ot.ambientLightColor.value=be.state.ambient,Ot.lightProbe.value=be.state.probe,Ot.directionalLights.value=be.state.directional,Ot.directionalLightShadows.value=be.state.directionalShadow,Ot.spotLights.value=be.state.spot,Ot.spotLightShadows.value=be.state.spotShadow,Ot.rectAreaLights.value=be.state.rectArea,Ot.ltc_1.value=be.state.rectAreaLTC1,Ot.ltc_2.value=be.state.rectAreaLTC2,Ot.pointLights.value=be.state.point,Ot.pointLightShadows.value=be.state.pointShadow,Ot.hemisphereLights.value=be.state.hemi,Ot.directionalShadowMap.value=be.state.directionalShadowMap,Ot.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Ot.spotShadowMap.value=be.state.spotShadowMap,Ot.spotLightMatrix.value=be.state.spotLightMatrix,Ot.spotLightMap.value=be.state.spotLightMap,Ot.pointShadowMap.value=be.state.pointShadowMap,Ot.pointShadowMatrix.value=be.state.pointShadowMatrix);const nn=Nt.getUniforms(),ur=z5.seqWithValue(nn.seq,Ot);return le.currentProgram=Nt,le.uniformsList=ur,Nt}function Bo(F,de){const _e=ve.get(F);_e.outputColorSpace=de.outputColorSpace,_e.instancing=de.instancing,_e.skinning=de.skinning,_e.morphTargets=de.morphTargets,_e.morphNormals=de.morphNormals,_e.morphColors=de.morphColors,_e.morphTargetsCount=de.morphTargetsCount,_e.numClippingPlanes=de.numClippingPlanes,_e.numIntersection=de.numClipIntersection,_e.vertexAlphas=de.vertexAlphas,_e.vertexTangents=de.vertexTangents,_e.toneMapping=de.toneMapping}function co(F,de,_e,le,be){de.isScene!==!0&&(de=Pe),Ce.resetTextureUnits();const ut=de.fog,ct=le.isMeshStandardMaterial?de.environment:null,St=M===null?g.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:Do,bt=(le.isMeshStandardMaterial?Ve:Ye).get(le.envMap||ct),Dt=le.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,Nt=!!le.normalMap&&!!_e.attributes.tangent,Ot=!!_e.morphAttributes.position,nn=!!_e.morphAttributes.normal,ur=!!_e.morphAttributes.color,Di=le.toneMapped?g.toneMapping:Lo,hi=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,mn=hi!==void 0?hi.length:0,Ut=ve.get(le),Os=y.state.lights;if(X===!0&&(ae===!0||F!==R)){const gn=F===R&&le.id===A;ge.setState(le,F,gn)}let Wn=!1;le.version===Ut.__version?(Ut.needsLights&&Ut.lightsStateVersion!==Os.state.version||Ut.outputColorSpace!==St||be.isInstancedMesh&&Ut.instancing===!1||!be.isInstancedMesh&&Ut.instancing===!0||be.isSkinnedMesh&&Ut.skinning===!1||!be.isSkinnedMesh&&Ut.skinning===!0||Ut.envMap!==bt||le.fog===!0&&Ut.fog!==ut||Ut.numClippingPlanes!==void 0&&(Ut.numClippingPlanes!==ge.numPlanes||Ut.numIntersection!==ge.numIntersection)||Ut.vertexAlphas!==Dt||Ut.vertexTangents!==Nt||Ut.morphTargets!==Ot||Ut.morphNormals!==nn||Ut.morphColors!==ur||Ut.toneMapping!==Di||Re.isWebGL2===!0&&Ut.morphTargetsCount!==mn)&&(Wn=!0):(Wn=!0,Ut.__version=le.version);let cs=Ut.currentProgram;Wn===!0&&(cs=Fs(le,de,be));let ho=!1,fi=!1,rn=!1;const Tt=cs.getUniforms(),$r=Ut.uniforms;if(He.useProgram(cs.program)&&(ho=!0,fi=!0,rn=!0),le.id!==A&&(A=le.id,fi=!0),ho||R!==F){if(Tt.setValue(j,"projectionMatrix",F.projectionMatrix),Re.logarithmicDepthBuffer&&Tt.setValue(j,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),R!==F&&(R=F,fi=!0,rn=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const gn=Tt.map.cameraPosition;gn!==void 0&&gn.setValue(j,he.setFromMatrixPosition(F.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Tt.setValue(j,"isOrthographic",F.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||be.isSkinnedMesh)&&Tt.setValue(j,"viewMatrix",F.matrixWorldInverse)}if(be.isSkinnedMesh){Tt.setOptional(j,be,"bindMatrix"),Tt.setOptional(j,be,"bindMatrixInverse");const gn=be.skeleton;gn&&(Re.floatVertexTextures?(gn.boneTexture===null&&gn.computeBoneTexture(),Tt.setValue(j,"boneTexture",gn.boneTexture,Ce),Tt.setValue(j,"boneTextureSize",gn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const er=_e.morphAttributes;if((er.position!==void 0||er.normal!==void 0||er.color!==void 0&&Re.isWebGL2===!0)&&Ge.update(be,_e,cs),(fi||Ut.receiveShadow!==be.receiveShadow)&&(Ut.receiveShadow=be.receiveShadow,Tt.setValue(j,"receiveShadow",be.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&($r.envMap.value=bt,$r.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),fi&&(Tt.setValue(j,"toneMappingExposure",g.toneMappingExposure),Ut.needsLights&&un($r,rn),ut&&le.fog===!0&&It.refreshFogUniforms($r,ut),It.refreshMaterialUniforms($r,le,q,ee,ce),z5.upload(j,Ut.uniformsList,$r,Ce)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(z5.upload(j,Ut.uniformsList,$r,Ce),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Tt.setValue(j,"center",be.center),Tt.setValue(j,"modelViewMatrix",be.modelViewMatrix),Tt.setValue(j,"normalMatrix",be.normalMatrix),Tt.setValue(j,"modelMatrix",be.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const gn=le.uniformsGroups;for(let ds=0,Vo=gn.length;ds<Vo;ds++)if(Re.isWebGL2){const Rr=gn[ds];N.update(Rr,cs),N.bind(Rr,cs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return cs}function un(F,de){F.ambientLightColor.needsUpdate=de,F.lightProbe.needsUpdate=de,F.directionalLights.needsUpdate=de,F.directionalLightShadows.needsUpdate=de,F.pointLights.needsUpdate=de,F.pointLightShadows.needsUpdate=de,F.spotLights.needsUpdate=de,F.spotLightShadows.needsUpdate=de,F.rectAreaLights.needsUpdate=de,F.hemisphereLights.needsUpdate=de}function Gr(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(F,de,_e){ve.get(F.texture).__webglTexture=de,ve.get(F.depthTexture).__webglTexture=_e;const le=ve.get(F);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=_e===void 0,le.__autoAllocateDepthBuffer||nt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,de){const _e=ve.get(F);_e.__webglFramebuffer=de,_e.__useDefaultFramebuffer=de===void 0},this.setRenderTarget=function(F,de=0,_e=0){M=F,w=de,b=_e;let le=!0,be=null,ut=!1,ct=!1;if(F){const bt=ve.get(F);bt.__useDefaultFramebuffer!==void 0?(He.bindFramebuffer(j.FRAMEBUFFER,null),le=!1):bt.__webglFramebuffer===void 0?Ce.setupRenderTarget(F):bt.__hasExternalTextures&&Ce.rebindTextures(F,ve.get(F.texture).__webglTexture,ve.get(F.depthTexture).__webglTexture);const Dt=F.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(ct=!0);const Nt=ve.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(be=Nt[de],ut=!0):Re.isWebGL2&&F.samples>0&&Ce.useMultisampledRTT(F)===!1?be=ve.get(F).__webglMultisampledFramebuffer:be=Nt,L.copy(F.viewport),C.copy(F.scissor),k=F.scissorTest}else L.copy(fe).multiplyScalar(q).floor(),C.copy(me).multiplyScalar(q).floor(),k=G;if(He.bindFramebuffer(j.FRAMEBUFFER,be)&&Re.drawBuffers&&le&&He.drawBuffers(F,be),He.viewport(L),He.scissor(C),He.setScissorTest(k),ut){const bt=ve.get(F.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+de,bt.__webglTexture,_e)}else if(ct){const bt=ve.get(F.texture),Dt=de||0;j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,bt.__webglTexture,_e||0,Dt)}A=-1},this.readRenderTargetPixels=function(F,de,_e,le,be,ut,ct){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=ve.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&ct!==void 0&&(St=St[ct]),St){He.bindFramebuffer(j.FRAMEBUFFER,St);try{const bt=F.texture,Dt=bt.format,Nt=bt.type;if(Dt!==ns&&H.convert(Dt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ot=Nt===Bf&&(nt.has("EXT_color_buffer_half_float")||Re.isWebGL2&&nt.has("EXT_color_buffer_float"));if(Nt!==ul&&H.convert(Nt)!==j.getParameter(j.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Nt===Xa&&(Re.isWebGL2||nt.has("OES_texture_float")||nt.has("WEBGL_color_buffer_float")))&&!Ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=F.width-le&&_e>=0&&_e<=F.height-be&&j.readPixels(de,_e,le,be,H.convert(Dt),H.convert(Nt),ut)}finally{const bt=M!==null?ve.get(M).__webglFramebuffer:null;He.bindFramebuffer(j.FRAMEBUFFER,bt)}}},this.copyFramebufferToTexture=function(F,de,_e=0){const le=Math.pow(2,-_e),be=Math.floor(de.image.width*le),ut=Math.floor(de.image.height*le);Ce.setTexture2D(de,0),j.copyTexSubImage2D(j.TEXTURE_2D,_e,0,0,F.x,F.y,be,ut),He.unbindTexture()},this.copyTextureToTexture=function(F,de,_e,le=0){const be=de.image.width,ut=de.image.height,ct=H.convert(_e.format),St=H.convert(_e.type);Ce.setTexture2D(_e,0),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,_e.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,_e.unpackAlignment),de.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,le,F.x,F.y,be,ut,ct,St,de.image.data):de.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,le,F.x,F.y,de.mipmaps[0].width,de.mipmaps[0].height,ct,de.mipmaps[0].data):j.texSubImage2D(j.TEXTURE_2D,le,F.x,F.y,ct,St,de.image),le===0&&_e.generateMipmaps&&j.generateMipmap(j.TEXTURE_2D),He.unbindTexture()},this.copyTextureToTexture3D=function(F,de,_e,le,be=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ut=F.max.x-F.min.x+1,ct=F.max.y-F.min.y+1,St=F.max.z-F.min.z+1,bt=H.convert(le.format),Dt=H.convert(le.type);let Nt;if(le.isData3DTexture)Ce.setTexture3D(le,0),Nt=j.TEXTURE_3D;else if(le.isDataArrayTexture)Ce.setTexture2DArray(le,0),Nt=j.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,le.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,le.unpackAlignment);const Ot=j.getParameter(j.UNPACK_ROW_LENGTH),nn=j.getParameter(j.UNPACK_IMAGE_HEIGHT),ur=j.getParameter(j.UNPACK_SKIP_PIXELS),Di=j.getParameter(j.UNPACK_SKIP_ROWS),hi=j.getParameter(j.UNPACK_SKIP_IMAGES),mn=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;j.pixelStorei(j.UNPACK_ROW_LENGTH,mn.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,mn.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,F.min.x),j.pixelStorei(j.UNPACK_SKIP_ROWS,F.min.y),j.pixelStorei(j.UNPACK_SKIP_IMAGES,F.min.z),_e.isDataTexture||_e.isData3DTexture?j.texSubImage3D(Nt,be,de.x,de.y,de.z,ut,ct,St,bt,Dt,mn.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(Nt,be,de.x,de.y,de.z,ut,ct,St,bt,mn.data)):j.texSubImage3D(Nt,be,de.x,de.y,de.z,ut,ct,St,bt,Dt,mn),j.pixelStorei(j.UNPACK_ROW_LENGTH,Ot),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,nn),j.pixelStorei(j.UNPACK_SKIP_PIXELS,ur),j.pixelStorei(j.UNPACK_SKIP_ROWS,Di),j.pixelStorei(j.UNPACK_SKIP_IMAGES,hi),be===0&&le.generateMipmaps&&j.generateMipmap(Nt),He.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?Ce.setTextureCube(F,0):F.isData3DTexture?Ce.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Ce.setTexture2DArray(F,0):Ce.setTexture2D(F,0),He.unbindTexture()},this.resetState=function(){w=0,b=0,M=null,He.reset(),J.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ft?cu:NE}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===cu?Ft:Do}}class NV extends WE{}NV.prototype.isWebGL1Renderer=!0;class u8{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new u8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class c8{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new c8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class B6 extends ln{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class d8{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=o2,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oi=new O;class ad{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.applyMatrix4(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.applyNormalMatrix(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.transformDirection(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}setX(e,n){return this.normalized&&(n=Vt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Vt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=bs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=bs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=bs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=bs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Vt(n,this.array),r=Vt(r,this.array),i=Vt(i,this.array),s=Vt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Cn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ad(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class jE extends Ur{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let hh;const u1=new O,fh=new O,ph=new O,mh=new Me,c1=new Me,FV=new kt,x4=new O,d1=new O,S4=new O,XI=new Me,Py=new Me,YI=new Me;class OV extends ln{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",hh===void 0){hh=new Rt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new d8(n,5);hh.setIndex([0,1,2,0,2,3]),hh.setAttribute("position",new ad(r,3,0,!1)),hh.setAttribute("uv",new ad(r,2,3,!1))}this.geometry=hh,this.material=e!==void 0?e:new jE,this.center=new Me(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fh.setFromMatrixScale(this.matrixWorld),FV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ph.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fh.multiplyScalar(-ph.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;w4(x4.set(-.5,-.5,0),ph,o,fh,i,s),w4(d1.set(.5,-.5,0),ph,o,fh,i,s),w4(S4.set(.5,.5,0),ph,o,fh,i,s),XI.set(0,0),Py.set(1,0),YI.set(1,1);let a=e.ray.intersectTriangle(x4,d1,S4,!1,u1);if(a===null&&(w4(d1.set(-.5,.5,0),ph,o,fh,i,s),Py.set(0,1),a=e.ray.intersectTriangle(x4,S4,d1,!1,u1),a===null))return;const l=e.ray.origin.distanceTo(u1);l<e.near||l>e.far||n.push({distance:l,point:u1.clone(),uv:es.getInterpolation(u1,x4,d1,S4,XI,Py,YI,new Me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function w4(t,e,n,r,i,s){mh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(c1.x=s*mh.x-i*mh.y,c1.y=i*mh.x+s*mh.y):c1.copy(mh),t.copy(e),t.x+=c1.x,t.y+=c1.y,t.applyMatrix4(FV)}const E4=new O,KI=new O;class UV extends ln{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){E4.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(E4);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){E4.setFromMatrixPosition(e.matrixWorld),KI.setFromMatrixPosition(this.matrixWorld);const r=E4.distanceTo(KI)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const QI=new O,ZI=new En,JI=new En,Ume=new O,eL=new kt,gh=new O;class zV extends Fr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new kt,this.bindMatrixInverse=new kt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new xa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)gh.fromBufferAttribute(n,r),this.applyBoneTransform(r,gh),this.boundingBox.expandByPoint(gh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sa),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)gh.fromBufferAttribute(n,r),this.applyBoneTransform(r,gh),this.boundingSphere.expandByPoint(gh)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new En,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;ZI.fromBufferAttribute(i.attributes.skinIndex,e),JI.fromBufferAttribute(i.attributes.skinWeight,e),QI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=JI.getComponent(s);if(o!==0){const a=ZI.getComponent(s);eL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Ume.copy(QI).applyMatrix4(eL),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class qE extends ln{constructor(){super(),this.isBone=!0,this.type="Bone"}}class _f extends ar{constructor(e=null,n=1,r=1,i,s,o,a,l,u=fr,c=fr,f,p){super(null,o,a,l,u,c,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tL=new kt,zme=new kt;class h8{constructor(e=[],n=[]){this.uuid=Cs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new kt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new kt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:zme;tL.multiplyMatrices(a,n[s]),tL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new h8(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=_V(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new _f(n,e,e,ns,Xa);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new qE),this.bones.push(o),this.boneInverses.push(new kt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Gf extends Cn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yh=new kt,nL=new kt,b4=[],rL=new xa,Bme=new kt,h1=new Fr,f1=new Sa;class BV extends Fr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Gf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Bme)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new xa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yh),rL.copy(e.boundingBox).applyMatrix4(yh),this.boundingBox.union(rL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yh),f1.copy(e.boundingSphere).applyMatrix4(yh),this.boundingSphere.union(f1)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(h1.geometry=this.geometry,h1.material=this.material,h1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),f1.copy(this.boundingSphere),f1.applyMatrix4(r),e.ray.intersectsSphere(f1)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,yh),nL.multiplyMatrices(r,yh),h1.matrixWorld=nL,h1.raycast(e,b4);for(let o=0,a=b4.length;o<a;o++){const l=b4[o];l.instanceId=s,l.object=this,n.push(l)}b4.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Gf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Or extends Ur{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const iL=new O,sL=new O,oL=new kt,Ry=new Z2,T4=new Sa;class cl extends ln{constructor(e=new Rt,n=new Or){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)iL.fromBufferAttribute(n,i-1),sL.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=iL.distanceTo(sL);e.setAttribute("lineDistance",new tt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),T4.copy(r.boundingSphere),T4.applyMatrix4(i),T4.radius+=s,e.ray.intersectsSphere(T4)===!1)return;oL.copy(i).invert(),Ry.copy(e.ray).applyMatrix4(oL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new O,c=new O,f=new O,p=new O,m=this.isLineSegments?2:1,y=r.index,x=r.attributes.position;if(y!==null){const g=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let w=g,b=S-1;w<b;w+=m){const M=y.getX(w),A=y.getX(w+1);if(u.fromBufferAttribute(x,M),c.fromBufferAttribute(x,A),Ry.distanceSqToSegment(u,c,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(p);L<e.near||L>e.far||n.push({distance:L,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let w=g,b=S-1;w<b;w+=m){if(u.fromBufferAttribute(x,w),c.fromBufferAttribute(x,w+1),Ry.distanceSqToSegment(u,c,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(p);A<e.near||A>e.far||n.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const aL=new O,lL=new O;class uo extends cl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)aL.fromBufferAttribute(n,i),lL.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+aL.distanceTo(lL);e.setAttribute("lineDistance",new tt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VV extends cl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Dc extends Ur{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uL=new kt,Dx=new Z2,M4=new Sa,A4=new O;class lp extends ln{constructor(e=new Rt,n=new Dc){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),M4.copy(r.boundingSphere),M4.applyMatrix4(i),M4.radius+=s,e.ray.intersectsSphere(M4)===!1)return;uL.copy(i).invert(),Dx.copy(e.ray).applyMatrix4(uL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,_=m;y<_;y++){const x=u.getX(y);A4.fromBufferAttribute(f,x),cL(A4,x,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,_=m;y<_;y++)A4.fromBufferAttribute(f,y),cL(A4,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function cL(t,e,n,r,i,s,o){const a=Dx.distanceSqToPoint(t);if(a<n){const l=new O;Dx.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Vme extends ar{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:mr,this.magFilter=s!==void 0?s:mr,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Hme extends ar{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=fr,this.minFilter=fr,this.generateMipmaps=!1,this.needsUpdate=!0}}class XE extends ar{constructor(e,n,r,i,s,o,a,l,u,c,f,p){super(null,o,a,l,u,c,i,s,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Gme extends XE{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ai}}class $me extends ar{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Uo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Me:new O);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new O,i=[],s=[],o=[],a=new O,l=new kt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new O)}s[0]=new O,o[0]=new O;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(sr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(sr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class f8 extends Uo{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Me,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*f+this.aX,u=p*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class HV extends f8{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function YE(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;p*=c,m*=c,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const C4=new O,Iy=new YE,Ly=new YE,ky=new YE;class GV extends Uo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new O){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(C4.subVectors(i[0],i[1]).add(i[0]),u=C4);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(C4.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=C4),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(f),m),_=Math.pow(f.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(c),m);_<1e-4&&(_=1),y<1e-4&&(y=_),x<1e-4&&(x=_),Iy.initNonuniformCatmullRom(u.x,f.x,p.x,c.x,y,_,x),Ly.initNonuniformCatmullRom(u.y,f.y,p.y,c.y,y,_,x),ky.initNonuniformCatmullRom(u.z,f.z,p.z,c.z,y,_,x)}else this.curveType==="catmullrom"&&(Iy.initCatmullRom(u.x,f.x,p.x,c.x,this.tension),Ly.initCatmullRom(u.y,f.y,p.y,c.y,this.tension),ky.initCatmullRom(u.z,f.z,p.z,c.z,this.tension));return r.set(Iy.calc(l),Ly.calc(l),ky.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new O().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dL(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Wme(t,e){const n=1-t;return n*n*e}function jme(t,e){return 2*(1-t)*t*e}function qme(t,e){return t*t*e}function up(t,e,n,r){return Wme(t,e)+jme(t,n)+qme(t,r)}function Xme(t,e){const n=1-t;return n*n*n*e}function Yme(t,e){const n=1-t;return 3*n*n*t*e}function Kme(t,e){return 3*(1-t)*t*t*e}function Qme(t,e){return t*t*t*e}function cp(t,e,n,r,i){return Xme(t,e)+Yme(t,n)+Kme(t,r)+Qme(t,i)}class KE extends Uo{constructor(e=new Me,n=new Me,r=new Me,i=new Me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Me){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cp(e,i.x,s.x,o.x,a.x),cp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $V extends Uo{constructor(e=new O,n=new O,r=new O,i=new O){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cp(e,i.x,s.x,o.x,a.x),cp(e,i.y,s.y,o.y,a.y),cp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class p8 extends Uo{constructor(e=new Me,n=new Me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Me){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WV extends Uo{constructor(e=new O,n=new O){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new O){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new O){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QE extends Uo{constructor(e=new Me,n=new Me,r=new Me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Me){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZE extends Uo{constructor(e=new O,n=new O,r=new O){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y),up(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JE extends Uo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Me){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(dL(a,l.x,u.x,c.x,f.x),dL(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Me().fromArray(i))}return this}}var eb=Object.freeze({__proto__:null,ArcCurve:HV,CatmullRomCurve3:GV,CubicBezierCurve:KE,CubicBezierCurve3:$V,EllipseCurve:f8,LineCurve:p8,LineCurve3:WV,QuadraticBezierCurve:QE,QuadraticBezierCurve3:ZE,SplineCurve:JE});class jV extends Uo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new p8(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new eb[i.type]().fromJSON(i))}return this}}class l2 extends jV{constructor(e){super(),this.type="Path",this.currentPoint=new Me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new p8(this.currentPoint.clone(),new Me(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new QE(this.currentPoint.clone(),new Me(e,n),new Me(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new KE(this.currentPoint.clone(),new Me(e,n),new Me(r,i),new Me(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new JE(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new f8(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class d0 extends Rt{constructor(e=[new Me(0,-.5),new Me(.5,0),new Me(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=sr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new O,p=new Me,m=new O,y=new O,_=new O;let x=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(y)}for(let S=0;S<=n;S++){const w=r+S*c*i,b=Math.sin(w),M=Math.cos(w);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*b,f.y=e[A].y,f.z=e[A].x*M,o.push(f.x,f.y,f.z),p.x=S/n,p.y=A/(e.length-1),a.push(p.x,p.y);const R=l[3*A+0]*b,L=l[3*A+1],C=l[3*A+0]*M;u.push(R,L,C)}}for(let S=0;S<n;S++)for(let w=0;w<e.length-1;w++){const b=w+S*e.length,M=b,A=b+e.length,R=b+e.length+1,L=b+1;s.push(M,A,L),s.push(R,L,A)}this.setIndex(s),this.setAttribute("position",new tt(o,3)),this.setAttribute("uv",new tt(a,2)),this.setAttribute("normal",new tt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d0(e.points,e.segments,e.phiStart,e.phiLength)}}class n3 extends d0{constructor(e=1,n=1,r=4,i=8){const s=new l2;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new n3(e.radius,e.length,e.capSegments,e.radialSegments)}}class r3 extends Rt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new O,c=new Me;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new tt(o,3)),this.setAttribute("normal",new tt(a,3)),this.setAttribute("uv",new tt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r3(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Sd extends Rt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],p=[],m=[];let y=0;const _=[],x=r/2;let g=0;S(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new tt(f,3)),this.setAttribute("normal",new tt(p,3)),this.setAttribute("uv",new tt(m,2));function S(){const b=new O,M=new O;let A=0;const R=(n-e)/r;for(let L=0;L<=s;L++){const C=[],k=L/s,$=k*(n-e)+e;for(let ee=0;ee<=i;ee++){const q=ee/i,Z=q*l+a,ie=Math.sin(Z),fe=Math.cos(Z);M.x=$*ie,M.y=-k*r+x,M.z=$*fe,f.push(M.x,M.y,M.z),b.set(ie,R,fe).normalize(),p.push(b.x,b.y,b.z),m.push(q,1-k),C.push(y++)}_.push(C)}for(let L=0;L<i;L++)for(let C=0;C<s;C++){const k=_[C][L],$=_[C+1][L],ee=_[C+1][L+1],q=_[C][L+1];c.push(k,$,q),c.push($,ee,q),A+=6}u.addGroup(g,A,0),g+=A}function w(b){const M=y,A=new Me,R=new O;let L=0;const C=b===!0?e:n,k=b===!0?1:-1;for(let ee=1;ee<=i;ee++)f.push(0,x*k,0),p.push(0,k,0),m.push(.5,.5),y++;const $=y;for(let ee=0;ee<=i;ee++){const Z=ee/i*l+a,ie=Math.cos(Z),fe=Math.sin(Z);R.x=C*fe,R.y=x*k,R.z=C*ie,f.push(R.x,R.y,R.z),p.push(0,k,0),A.x=ie*.5+.5,A.y=fe*.5*k+.5,m.push(A.x,A.y),y++}for(let ee=0;ee<i;ee++){const q=M+ee,Z=$+ee;b===!0?c.push(Z,Z+1,q):c.push(Z+1,Z,q),L+=3}u.addGroup(g,L,b===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class i3 extends Sd{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new i3(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pl extends Rt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new tt(s,3)),this.setAttribute("normal",new tt(s.slice(),3)),this.setAttribute("uv",new tt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new O,b=new O,M=new O;for(let A=0;A<n.length;A+=3)m(n[A+0],w),m(n[A+1],b),m(n[A+2],M),l(w,b,M,S)}function l(S,w,b,M){const A=M+1,R=[];for(let L=0;L<=A;L++){R[L]=[];const C=S.clone().lerp(b,L/A),k=w.clone().lerp(b,L/A),$=A-L;for(let ee=0;ee<=$;ee++)ee===0&&L===A?R[L][ee]=C:R[L][ee]=C.clone().lerp(k,ee/$)}for(let L=0;L<A;L++)for(let C=0;C<2*(A-L)-1;C++){const k=Math.floor(C/2);C%2===0?(p(R[L][k+1]),p(R[L+1][k]),p(R[L][k])):(p(R[L][k+1]),p(R[L+1][k+1]),p(R[L+1][k]))}}function u(S){const w=new O;for(let b=0;b<s.length;b+=3)w.x=s[b+0],w.y=s[b+1],w.z=s[b+2],w.normalize().multiplyScalar(S),s[b+0]=w.x,s[b+1]=w.y,s[b+2]=w.z}function c(){const S=new O;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const b=x(S)/2/Math.PI+.5,M=g(S)/Math.PI+.5;o.push(b,1-M)}y(),f()}function f(){for(let S=0;S<o.length;S+=6){const w=o[S+0],b=o[S+2],M=o[S+4],A=Math.max(w,b,M),R=Math.min(w,b,M);A>.9&&R<.1&&(w<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),M<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,w){const b=S*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function y(){const S=new O,w=new O,b=new O,M=new O,A=new Me,R=new Me,L=new Me;for(let C=0,k=0;C<s.length;C+=9,k+=6){S.set(s[C+0],s[C+1],s[C+2]),w.set(s[C+3],s[C+4],s[C+5]),b.set(s[C+6],s[C+7],s[C+8]),A.set(o[k+0],o[k+1]),R.set(o[k+2],o[k+3]),L.set(o[k+4],o[k+5]),M.copy(S).add(w).add(b).divideScalar(3);const $=x(M);_(A,k+0,S,$),_(R,k+2,w,$),_(L,k+4,b,$)}}function _(S,w,b,M){M<0&&S.x===1&&(o[w]=S.x-1),b.x===0&&b.z===0&&(o[w]=M/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pl(e.vertices,e.indices,e.radius,e.details)}}class s3 extends pl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new s3(e.radius,e.detail)}}const P4=new O,R4=new O,Dy=new O,I4=new es;class qV extends Rt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(jc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:_,b:x,c:g}=I4;if(_.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),I4.getNormal(Dy),f[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const w=(S+1)%3,b=f[S],M=f[w],A=I4[c[S]],R=I4[c[w]],L=`${b}_${M}`,C=`${M}_${b}`;C in p&&p[C]?(Dy.dot(p[C].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(R.x,R.y,R.z)),p[C]=null):L in p||(p[L]={index0:u[S],index1:u[w],normal:Dy.clone()})}}for(const y in p)if(p[y]){const{index0:_,index1:x}=p[y];P4.fromBufferAttribute(a,_),R4.fromBufferAttribute(a,x),m.push(P4.x,P4.y,P4.z),m.push(R4.x,R4.y,R4.z)}this.setAttribute("position",new tt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xc extends l2{constructor(e){super(e),this.uuid=Cs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new l2().fromJSON(i))}return this}}const Zme={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=XV(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,p,m;if(r&&(s=r4e(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let y=n;y<i;y+=n)f=t[y],p=t[y+1],f<a&&(a=f),p<l&&(l=p),f>u&&(u=f),p>c&&(c=p);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return u2(s,o,n,a,l,m,0),o}};function XV(t,e,n,r,i){let s,o;if(i===p4e(t,e,n,r)>0)for(s=e;s<n;s+=r)o=hL(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=hL(s,t[s],t[s+1],o);return o&&m8(o,o.next)&&(d2(o),o=o.next),o}function ld(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(m8(n,n.next)||Kn(n.prev,n,n.next)===0)){if(d2(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function u2(t,e,n,r,i,s,o){if(!t)return;!o&&s&&l4e(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?e4e(t,r,i,s):Jme(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),d2(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=t4e(ld(t),e,n),u2(t,e,n,r,i,s,2)):o===2&&n4e(t,e,n,r,i,s):u2(ld(t),e,n,r,i,s,1);break}}}function Jme(t){const e=t.prev,n=t,r=t.next;if(Kn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=c&&y.x<=p&&y.y>=f&&y.y<=m&&Zh(i,a,s,l,o,u,y.x,y.y)&&Kn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function e4e(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Kn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,y=c<f?c<p?c:p:f<p?f:p,_=a>l?a>u?a:u:l>u?l:u,x=c>f?c>p?c:p:f>p?f:p,g=Nx(m,y,e,n,r),S=Nx(_,x,e,n,r);let w=t.prevZ,b=t.nextZ;for(;w&&w.z>=g&&b&&b.z<=S;){if(w.x>=m&&w.x<=_&&w.y>=y&&w.y<=x&&w!==i&&w!==o&&Zh(a,c,l,f,u,p,w.x,w.y)&&Kn(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=m&&b.x<=_&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&Zh(a,c,l,f,u,p,b.x,b.y)&&Kn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=_&&w.y>=y&&w.y<=x&&w!==i&&w!==o&&Zh(a,c,l,f,u,p,w.x,w.y)&&Kn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=S;){if(b.x>=m&&b.x<=_&&b.y>=y&&b.y<=x&&b!==i&&b!==o&&Zh(a,c,l,f,u,p,b.x,b.y)&&Kn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function t4e(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!m8(i,s)&&YV(i,r,r.next,s)&&c2(i,s)&&c2(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),d2(r),d2(r.next),r=t=s),r=r.next}while(r!==t);return ld(r)}function n4e(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&d4e(o,a)){let l=KV(o,a);o=ld(o,o.next),l=ld(l,l.next),u2(o,e,n,r,i,s,0),u2(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function r4e(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=XV(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(c4e(u));for(i.sort(i4e),s=0;s<i.length;s++)n=s4e(i[s],n);return n}function i4e(t,e){return t.x-e.x}function s4e(t,e){const n=o4e(t,e);if(!n)return e;const r=KV(n,t);return ld(r,r.next),ld(n,n.next)}function o4e(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Zh(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),c2(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&a4e(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function a4e(t,e){return Kn(t.prev,t,e.prev)<0&&Kn(e.next,t,t.next)<0}function l4e(t,e,n,r){let i=t;do i.z===0&&(i.z=Nx(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,u4e(i)}function u4e(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Nx(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function c4e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Zh(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function d4e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!h4e(t,e)&&(c2(t,e)&&c2(e,t)&&f4e(t,e)&&(Kn(t.prev,t,e.prev)||Kn(t,e.prev,e))||m8(t,e)&&Kn(t.prev,t,t.next)>0&&Kn(e.prev,e,e.next)>0)}function Kn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m8(t,e){return t.x===e.x&&t.y===e.y}function YV(t,e,n,r){const i=k4(Kn(t,e,n)),s=k4(Kn(t,e,r)),o=k4(Kn(n,r,t)),a=k4(Kn(n,r,e));return!!(i!==s&&o!==a||i===0&&L4(t,n,e)||s===0&&L4(t,r,e)||o===0&&L4(n,t,r)||a===0&&L4(n,e,r))}function L4(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function k4(t){return t>0?1:t<0?-1:0}function h4e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&YV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function c2(t,e){return Kn(t.prev,t,t.next)<0?Kn(t,e,t.next)>=0&&Kn(t,t.prev,e)>=0:Kn(t,e,t.prev)<0||Kn(t,t.next,e)<0}function f4e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function KV(t,e){const n=new Fx(t.i,t.x,t.y),r=new Fx(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function hL(t,e,n,r){const i=new Fx(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function d2(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Fx(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p4e(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class ha{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ha.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];fL(e),pL(r,e);let o=e.length;n.forEach(fL);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,pL(r,n[l]);const a=Zme.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function fL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function pL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class o3 extends Rt{constructor(e=new Xc([new Me(.5,.5),new Me(-.5,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new tt(i,3)),this.setAttribute("uv",new tt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:m4e;let w,b=!1,M,A,R,L;g&&(w=g.getSpacedPoints(c),b=!0,p=!1,M=g.computeFrenetFrames(c,!1),A=new O,R=new O,L=new O),p||(x=0,m=0,y=0,_=0);const C=a.extractPoints(u);let k=C.shape;const $=C.holes;if(!ha.isClockWise(k)){k=k.reverse();for(let Te=0,ve=$.length;Te<ve;Te++){const Ce=$[Te];ha.isClockWise(Ce)&&($[Te]=Ce.reverse())}}const q=ha.triangulateShape(k,$),Z=k;for(let Te=0,ve=$.length;Te<ve;Te++){const Ce=$[Te];k=k.concat(Ce)}function ie(Te,ve,Ce){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),Te.clone().addScaledVector(ve,Ce)}const fe=k.length,me=q.length;function G(Te,ve,Ce){let Ye,Ve,st;const at=Te.x-ve.x,ot=Te.y-ve.y,pt=Ce.x-Te.x,It=Ce.y-Te.y,B=at*at+ot*ot,D=at*It-ot*pt;if(Math.abs(D)>Number.EPSILON){const ge=Math.sqrt(B),Ie=Math.sqrt(pt*pt+It*It),ke=ve.x-ot/ge,Ge=ve.y+at/ge,lt=Ce.x-It/Ie,qe=Ce.y+pt/Ie,H=((lt-ke)*It-(qe-Ge)*pt)/(at*It-ot*pt);Ye=ke+at*H-Te.x,Ve=Ge+ot*H-Te.y;const J=Ye*Ye+Ve*Ve;if(J<=2)return new Me(Ye,Ve);st=Math.sqrt(J/2)}else{let ge=!1;at>Number.EPSILON?pt>Number.EPSILON&&(ge=!0):at<-Number.EPSILON?pt<-Number.EPSILON&&(ge=!0):Math.sign(ot)===Math.sign(It)&&(ge=!0),ge?(Ye=-ot,Ve=at,st=Math.sqrt(B)):(Ye=at,Ve=ot,st=Math.sqrt(B/2))}return new Me(Ye/st,Ve/st)}const Y=[];for(let Te=0,ve=Z.length,Ce=ve-1,Ye=Te+1;Te<ve;Te++,Ce++,Ye++)Ce===ve&&(Ce=0),Ye===ve&&(Ye=0),Y[Te]=G(Z[Te],Z[Ce],Z[Ye]);const X=[];let ae,ce=Y.concat();for(let Te=0,ve=$.length;Te<ve;Te++){const Ce=$[Te];ae=[];for(let Ye=0,Ve=Ce.length,st=Ve-1,at=Ye+1;Ye<Ve;Ye++,st++,at++)st===Ve&&(st=0),at===Ve&&(at=0),ae[Ye]=G(Ce[Ye],Ce[st],Ce[at]);X.push(ae),ce=ce.concat(ae)}for(let Te=0;Te<x;Te++){const ve=Te/x,Ce=m*Math.cos(ve*Math.PI/2),Ye=y*Math.sin(ve*Math.PI/2)+_;for(let Ve=0,st=Z.length;Ve<st;Ve++){const at=ie(Z[Ve],Y[Ve],Ye);j(at.x,at.y,-Ce)}for(let Ve=0,st=$.length;Ve<st;Ve++){const at=$[Ve];ae=X[Ve];for(let ot=0,pt=at.length;ot<pt;ot++){const It=ie(at[ot],ae[ot],Ye);j(It.x,It.y,-Ce)}}}const re=y+_;for(let Te=0;Te<fe;Te++){const ve=p?ie(k[Te],ce[Te],re):k[Te];b?(R.copy(M.normals[0]).multiplyScalar(ve.x),A.copy(M.binormals[0]).multiplyScalar(ve.y),L.copy(w[0]).add(R).add(A),j(L.x,L.y,L.z)):j(ve.x,ve.y,0)}for(let Te=1;Te<=c;Te++)for(let ve=0;ve<fe;ve++){const Ce=p?ie(k[ve],ce[ve],re):k[ve];b?(R.copy(M.normals[Te]).multiplyScalar(Ce.x),A.copy(M.binormals[Te]).multiplyScalar(Ce.y),L.copy(w[Te]).add(R).add(A),j(L.x,L.y,L.z)):j(Ce.x,Ce.y,f/c*Te)}for(let Te=x-1;Te>=0;Te--){const ve=Te/x,Ce=m*Math.cos(ve*Math.PI/2),Ye=y*Math.sin(ve*Math.PI/2)+_;for(let Ve=0,st=Z.length;Ve<st;Ve++){const at=ie(Z[Ve],Y[Ve],Ye);j(at.x,at.y,f+Ce)}for(let Ve=0,st=$.length;Ve<st;Ve++){const at=$[Ve];ae=X[Ve];for(let ot=0,pt=at.length;ot<pt;ot++){const It=ie(at[ot],ae[ot],Ye);b?j(It.x,It.y+w[c-1].y,w[c-1].x+Ce):j(It.x,It.y,f+Ce)}}}he(),Pe();function he(){const Te=i.length/3;if(p){let ve=0,Ce=fe*ve;for(let Ye=0;Ye<me;Ye++){const Ve=q[Ye];Ze(Ve[2]+Ce,Ve[1]+Ce,Ve[0]+Ce)}ve=c+x*2,Ce=fe*ve;for(let Ye=0;Ye<me;Ye++){const Ve=q[Ye];Ze(Ve[0]+Ce,Ve[1]+Ce,Ve[2]+Ce)}}else{for(let ve=0;ve<me;ve++){const Ce=q[ve];Ze(Ce[2],Ce[1],Ce[0])}for(let ve=0;ve<me;ve++){const Ce=q[ve];Ze(Ce[0]+fe*c,Ce[1]+fe*c,Ce[2]+fe*c)}}r.addGroup(Te,i.length/3-Te,0)}function Pe(){const Te=i.length/3;let ve=0;Ae(Z,ve),ve+=Z.length;for(let Ce=0,Ye=$.length;Ce<Ye;Ce++){const Ve=$[Ce];Ae(Ve,ve),ve+=Ve.length}r.addGroup(Te,i.length/3-Te,1)}function Ae(Te,ve){let Ce=Te.length;for(;--Ce>=0;){const Ye=Ce;let Ve=Ce-1;Ve<0&&(Ve=Te.length-1);for(let st=0,at=c+x*2;st<at;st++){const ot=fe*st,pt=fe*(st+1),It=ve+Ye+ot,B=ve+Ve+ot,D=ve+Ve+pt,ge=ve+Ye+pt;nt(It,B,D,ge)}}}function j(Te,ve,Ce){l.push(Te),l.push(ve),l.push(Ce)}function Ze(Te,ve,Ce){Re(Te),Re(ve),Re(Ce);const Ye=i.length/3,Ve=S.generateTopUV(r,i,Ye-3,Ye-2,Ye-1);He(Ve[0]),He(Ve[1]),He(Ve[2])}function nt(Te,ve,Ce,Ye){Re(Te),Re(ve),Re(Ye),Re(ve),Re(Ce),Re(Ye);const Ve=i.length/3,st=S.generateSideWallUV(r,i,Ve-6,Ve-3,Ve-2,Ve-1);He(st[0]),He(st[1]),He(st[3]),He(st[1]),He(st[2]),He(st[3])}function Re(Te){i.push(l[Te*3+0]),i.push(l[Te*3+1]),i.push(l[Te*3+2])}function He(Te){s.push(Te.x),s.push(Te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return g4e(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new eb[i.type]().fromJSON(i)),new o3(r,e.options)}}const m4e={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Me(s,o),new Me(a,l),new Me(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Me(o,1-l),new Me(u,1-f),new Me(p,1-y),new Me(_,1-g)]:[new Me(a,1-l),new Me(c,1-f),new Me(m,1-y),new Me(x,1-g)]}};function g4e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class a3 extends pl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new a3(e.radius,e.detail)}}class h0 extends pl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new h0(e.radius,e.detail)}}class l3 extends Rt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const p=(n-e)/i,m=new O,y=new Me;for(let _=0;_<=i;_++){for(let x=0;x<=r;x++){const g=s+x/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,c.push(y.x,y.y)}f+=p}for(let _=0;_<i;_++){const x=_*(r+1);for(let g=0;g<r;g++){const S=g+x,w=S,b=S+r+1,M=S+r+2,A=S+1;a.push(w,b,A),a.push(b,M,A)}}this.setIndex(a),this.setAttribute("position",new tt(l,3)),this.setAttribute("normal",new tt(u,3)),this.setAttribute("uv",new tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l3(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class u3 extends Rt{constructor(e=new Xc([new Me(0,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new tt(i,3)),this.setAttribute("normal",new tt(s,3)),this.setAttribute("uv",new tt(o,2));function u(c){const f=i.length/3,p=c.extractPoints(n);let m=p.shape;const y=p.holes;ha.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=y.length;x<g;x++){const S=y[x];ha.isClockWise(S)===!0&&(y[x]=S.reverse())}const _=ha.triangulateShape(m,y);for(let x=0,g=y.length;x<g;x++){const S=y[x];m=m.concat(S)}for(let x=0,g=m.length;x<g;x++){const S=m[x];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,g=_.length;x<g;x++){const S=_[x],w=S[0]+f,b=S[1]+f,M=S[2]+f;r.push(w,b,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return y4e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new u3(r,e.curveSegments)}}function y4e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class f0 extends Rt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new O,p=new O,m=[],y=[],_=[],x=[];for(let g=0;g<=r;g++){const S=[],w=g/r;let b=0;g===0&&o===0?b=.5/n:g===r&&l===Math.PI&&(b=-.5/n);for(let M=0;M<=n;M++){const A=M/n;f.x=-e*Math.cos(i+A*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+A*s)*Math.sin(o+w*a),y.push(f.x,f.y,f.z),p.copy(f).normalize(),_.push(p.x,p.y,p.z),x.push(A+b,1-w),S.push(u++)}c.push(S)}for(let g=0;g<r;g++)for(let S=0;S<n;S++){const w=c[g][S+1],b=c[g][S],M=c[g+1][S],A=c[g+1][S+1];(g!==0||o>0)&&m.push(w,b,A),(g!==r-1||l<Math.PI)&&m.push(b,M,A)}this.setIndex(m),this.setAttribute("position",new tt(y,3)),this.setAttribute("normal",new tt(_,3)),this.setAttribute("uv",new tt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class c3 extends pl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c3(e.radius,e.detail)}}class d3 extends Rt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new O,f=new O,p=new O;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const _=y/i*s,x=m/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(_),f.y=(e+n*Math.cos(x))*Math.sin(_),f.z=n*Math.sin(x),a.push(f.x,f.y,f.z),c.x=e*Math.cos(_),c.y=e*Math.sin(_),p.subVectors(f,c).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const _=(i+1)*m+y-1,x=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,S=(i+1)*m+y;o.push(_,x,S),o.push(x,g,S)}this.setIndex(o),this.setAttribute("position",new tt(a,3)),this.setAttribute("normal",new tt(l,3)),this.setAttribute("uv",new tt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new d3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class h3 extends Rt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new O,p=new O,m=new O,y=new O,_=new O,x=new O,g=new O;for(let w=0;w<=r;++w){const b=w/r*s*Math.PI*2;S(b,s,o,e,m),S(b+.01,s,o,e,y),x.subVectors(y,m),g.addVectors(y,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let M=0;M<=i;++M){const A=M/i*Math.PI*2,R=-n*Math.cos(A),L=n*Math.sin(A);f.x=m.x+(R*g.x+L*_.x),f.y=m.y+(R*g.y+L*_.y),f.z=m.z+(R*g.z+L*_.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),c.push(w/r),c.push(M/i)}}for(let w=1;w<=r;w++)for(let b=1;b<=i;b++){const M=(i+1)*(w-1)+(b-1),A=(i+1)*w+(b-1),R=(i+1)*w+b,L=(i+1)*(w-1)+b;a.push(M,A,L),a.push(A,R,L)}this.setIndex(a),this.setAttribute("position",new tt(l,3)),this.setAttribute("normal",new tt(u,3)),this.setAttribute("uv",new tt(c,2));function S(w,b,M,A,R){const L=Math.cos(w),C=Math.sin(w),k=M/b*w,$=Math.cos(k);R.x=A*(2+$)*.5*L,R.y=A*(2+$)*C*.5,R.z=A*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class f3 extends Rt{constructor(e=new ZE(new O(-1,-1,0),new O(-1,1,0),new O(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new O,l=new O,u=new Me;let c=new O;const f=[],p=[],m=[],y=[];_(),this.setIndex(y),this.setAttribute("position",new tt(f,3)),this.setAttribute("normal",new tt(p,3)),this.setAttribute("uv",new tt(m,2));function _(){for(let w=0;w<n;w++)x(w);x(s===!1?n:0),S(),g()}function x(w){c=e.getPointAt(w/n,c);const b=o.normals[w],M=o.binormals[w];for(let A=0;A<=i;A++){const R=A/i*Math.PI*2,L=Math.sin(R),C=-Math.cos(R);l.x=C*b.x+L*M.x,l.y=C*b.y+L*M.y,l.z=C*b.z+L*M.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=n;w++)for(let b=1;b<=i;b++){const M=(i+1)*(w-1)+(b-1),A=(i+1)*w+(b-1),R=(i+1)*w+b,L=(i+1)*(w-1)+b;y.push(M,A,L),y.push(A,R,L)}}function S(){for(let w=0;w<=n;w++)for(let b=0;b<=i;b++)u.x=w/n,u.y=b/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new f3(new eb[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class QV extends Rt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new O,s=new O;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],p=f.start,m=f.count;for(let y=p,_=p+m;y<_;y+=3)for(let x=0;x<3;x++){const g=a.getX(y+x),S=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),mL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),mL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new tt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var gL=Object.freeze({__proto__:null,BoxGeometry:Nu,CapsuleGeometry:n3,CircleGeometry:r3,ConeGeometry:i3,CylinderGeometry:Sd,DodecahedronGeometry:s3,EdgesGeometry:qV,ExtrudeGeometry:o3,IcosahedronGeometry:a3,LatheGeometry:d0,OctahedronGeometry:h0,PlaneGeometry:u0,PolyhedronGeometry:pl,RingGeometry:l3,ShapeGeometry:u3,SphereGeometry:f0,TetrahedronGeometry:c3,TorusGeometry:d3,TorusKnotGeometry:h3,TubeGeometry:f3,WireframeGeometry:QV});class ZV extends Ur{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class JV extends fa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class tb extends Ur{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eH extends tb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return sr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class nb extends Ur{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tH extends Ur{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nH extends Ur{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class rH extends Ur{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iH extends Ur{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ku,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sH extends Or{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function eo(t,e,n){return rb(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Nc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function rb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oH(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Ox(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function ib(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function v4e(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<n||y>=r)){f.push(u.times[m]);for(let _=0;_<c;++_)p.push(u.values[m*c+_])}}f.length!==0&&(u.times=Nc(f,u.times.constructor),u.values=Nc(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function _4e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let _;if(s<=a.times[0]){const g=c,S=f-c;_=eo(a.values,g,S)}else if(s>=a.times[y]){const g=y*f+c,S=g+f-c;_=eo(a.values,g,S)}else{const g=a.createInterpolant(),S=c,w=f-c;g.evaluate(s),_=eo(g.resultBuffer,S,w)}l==="quaternion"&&new Ci().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let g=0;g<x;++g){const S=g*m+p;if(l==="quaternion")Ci.multiplyQuaternionsFlat(u.values,S,_,0,u.values,S);else{const w=m-p*2;for(let b=0;b<w;++b)u.values[S+b]-=_[b]}}}return t.blendMode=DE,t}const x4e={arraySlice:eo,convertArray:Nc,isTypedArray:rb,getKeyframeOrder:oH,sortedArray:Ox,flattenJSON:ib,subclip:v4e,makeClipAdditive:_4e};class p3{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class aH extends p3{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Rc,endingEnd:Rc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ic:s=e,a=2*n-r;break;case s2:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ic:o=e,l=2*r-n;break;case s2:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),_=y*y,x=_*y,g=-p*x+2*p*_-p*y,S=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*y+1,w=(-1-m)*x+(1.5+m)*_+.5*y,b=m*x-m*_;for(let M=0;M!==a;++M)s[M]=g*o[c+M]+S*o[u+M]+w*o[l+M]+b*o[f+M];return s}}class sb extends p3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*f+o[l+p]*c;return s}}class lH extends p3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class zo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Nc(n,this.TimeBufferType),this.values=Nc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Nc(e.times,Array),values:Nc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new lH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sb(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case r2:n=this.InterpolantFactoryMethodDiscrete;break;case i2:n=this.InterpolantFactoryMethodLinear;break;case O5:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return r2;case this.InterpolantFactoryMethodLinear:return i2;case this.InterpolantFactoryMethodSmooth:return O5}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=eo(r,s,o),this.values=eo(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&rb(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=eo(this.times),n=eo(this.values),r=this.getValueSize(),i=this.getInterpolation()===O5,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let y=0;y!==r;++y){const _=n[f+y];if(_!==n[p+y]||_!==n[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=eo(e,0,o),this.values=eo(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=eo(this.times,0),n=eo(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}zo.prototype.TimeBufferType=Float32Array;zo.prototype.ValueBufferType=Float32Array;zo.prototype.DefaultInterpolation=i2;class wd extends zo{}wd.prototype.ValueTypeName="bool";wd.prototype.ValueBufferType=Array;wd.prototype.DefaultInterpolation=r2;wd.prototype.InterpolantFactoryMethodLinear=void 0;wd.prototype.InterpolantFactoryMethodSmooth=void 0;class ob extends zo{}ob.prototype.ValueTypeName="color";class h2 extends zo{}h2.prototype.ValueTypeName="number";class uH extends p3{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)Ci.slerpFlat(s,0,o,u-a,o,u,l);return s}}class p0 extends zo{InterpolantFactoryMethodLinear(e){return new uH(this.times,this.values,this.getValueSize(),e)}}p0.prototype.ValueTypeName="quaternion";p0.prototype.DefaultInterpolation=i2;p0.prototype.InterpolantFactoryMethodSmooth=void 0;class Ed extends zo{}Ed.prototype.ValueTypeName="string";Ed.prototype.ValueBufferType=Array;Ed.prototype.DefaultInterpolation=r2;Ed.prototype.InterpolantFactoryMethodLinear=void 0;Ed.prototype.InterpolantFactoryMethodSmooth=void 0;class f2 extends zo{}f2.prototype.ValueTypeName="vector";class p2{constructor(e,n=-1,r,i=s8){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Cs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(w4e(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(zo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=oH(l);l=Ox(l,1,c),u=Ox(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new h2(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,y,_){if(m.length!==0){const x=[],g=[];ib(m,x,g,y),x.length!==0&&_.push(new f(p,x,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let _=0;_<p[y].morphTargets.length;_++)m[p[y].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let S=0;S!==p[y].morphTargets.length;++S){const w=p[y];x.push(w.time),g.push(w.morphTarget===_?1:0)}i.push(new h2(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(f2,m+".position",p,"pos",i),r(p0,m+".quaternion",p,"rot",i),r(f2,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function S4e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return h2;case"vector":case"vector2":case"vector3":case"vector4":return f2;case"color":return ob;case"quaternion":return p0;case"bool":case"boolean":return wd;case"string":return Ed}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function w4e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=S4e(t.type);if(t.times===void 0){const n=[],r=[];ib(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ud={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class ab{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],y=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return y}return null}}}const cH=new ab;class us{constructor(e){this.manager=e!==void 0?e:cH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Na={};class E4e extends Error{constructor(e,n){super(e),this.response=n}}class pa extends us{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ud.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Na[e]!==void 0){Na[e].push({onLoad:n,onProgress:r,onError:i});return}Na[e]=[],Na[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Na[e],f=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let _=0;const x=new ReadableStream({start(g){S();function S(){f.read().then(({done:w,value:b})=>{if(w)g.close();else{_+=b.byteLength;const M=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:m});for(let A=0,R=c.length;A<R;A++){const L=c[A];L.onProgress&&L.onProgress(M)}g.enqueue(b),S()}})}}});return new Response(x)}else throw new E4e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{ud.add(e,u);const c=Na[e];delete Na[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Na[e];if(c===void 0)throw this.manager.itemError(e),u;delete Na[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class b4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=p2.parse(e[r]);n.push(i)}return n}}class T4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new XE,l=new pa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=mr),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)c(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+_]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=mr),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class m2 extends us{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ud.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=a2("img");function l(){c(),ud.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class M4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=new t3,o=new m2(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class A4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _f,a=new pa(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ai,o.wrapT=u.wrapT!==void 0?u.wrapT:Ai,o.magFilter=u.magFilter!==void 0?u.magFilter:mr,o.minFilter=u.minFilter!==void 0?u.minFilter:mr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Eu),u.mipmapCount===1&&(o.minFilter=mr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class C4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=new ar,o=new m2(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Fu extends ln{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class dH extends Fu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Ny=new kt,yL=new O,vL=new O;class lb{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Me(512,512),this.map=null,this.mapPass=null,this.matrix=new kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new a8,this._frameExtents=new Me(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;yL.setFromMatrixPosition(e.matrixWorld),n.position.copy(yL),vL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(vL),n.updateMatrixWorld(),Ny.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ny),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Ny)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class P4e extends lb{constructor(){super(new Bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Vf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class hH extends Fu{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.target=new ln,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new P4e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _L=new kt,p1=new O,Fy=new O;class R4e extends lb{constructor(){super(new Bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Me(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),p1.setFromMatrixPosition(e.matrixWorld),r.position.copy(p1),Fy.copy(r.position),Fy.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Fy),r.updateMatrixWorld(),i.makeTranslation(-p1.x,-p1.y,-p1.z),_L.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_L)}}class fH extends Fu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new R4e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class I4e extends lb{constructor(){super(new hu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class pH extends Fu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ln.DEFAULT_UP),this.updateMatrix(),this.target=new ln,this.shadow=new I4e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mH extends Fu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class gH extends Fu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class yH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new O)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class g8 extends Fu{constructor(e=new yH,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class y8 extends us{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new pa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=y8.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new Me().fromArray(o.value);break;case"v3":i.uniforms[s].value=new O().fromArray(o.value);break;case"v4":i.uniforms[s].value=new En().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Wt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new kt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Me().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:ZV,SpriteMaterial:jE,RawShaderMaterial:JV,ShaderMaterial:fa,PointsMaterial:Dc,MeshPhysicalMaterial:eH,MeshStandardMaterial:tb,MeshPhongMaterial:nb,MeshToonMaterial:tH,MeshNormalMaterial:nH,MeshLambertMaterial:rH,MeshDepthMaterial:GE,MeshDistanceMaterial:$E,MeshBasicMaterial:Du,MeshMatcapMaterial:iH,LineDashedMaterial:sH,LineBasicMaterial:Or,Material:Ur};return new n[e]}}class Ux{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class vH extends Rt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class _H extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,y){if(n[y]!==void 0)return n[y];const x=m.interleavedBuffers[y],g=s(m,x.buffer),S=Kh(x.type,g),w=new d8(S,x.stride);return w.uuid=x.uuid,n[y]=w,w}function s(m,y){if(r[y]!==void 0)return r[y];const x=m.arrayBuffers[y],g=new Uint32Array(x).buffer;return r[y]=g,g}const o=e.isInstancedBufferGeometry?new vH:new Rt,a=e.data.index;if(a!==void 0){const m=Kh(a.type,a.array);o.setIndex(new Cn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let _;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);_=new ad(x,y.itemSize,y.offset,y.normalized)}else{const x=Kh(y.type,y.array),g=y.isInstancedBufferAttribute?Gf:Cn;_=new g(x,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),y.usage!==void 0&&_.setUsage(y.usage),y.updateRange!==void 0&&(_.updateRange.offset=y.updateRange.offset,_.updateRange.count=y.updateRange.count),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],_=[];for(let x=0,g=y.length;x<g;x++){const S=y[x];let w;if(S.isInterleavedBufferAttribute){const b=i(e.data,S.data);w=new ad(b,S.itemSize,S.offset,S.normalized)}else{const b=Kh(S.type,S.array);w=new Cn(b,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),_.push(w)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const _=f[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new O;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Sa(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class L4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ux.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new pa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ux.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new pa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Xc().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new h8().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new _H;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in gL?a=gL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new y8;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=p2.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Kh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ab(n);s=new m2(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new _f(g.data,g.width,g.height)))}i[f.uuid]=new Lc(m)}else{const m=a(f.url);i[f.uuid]=new Lc(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Kh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new m2(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],y=await s(m);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new _f(y.data,y.width,y.height)))}r[l.uuid]=new Lc(c)}else{const c=await s(l.url);r[l.uuid]=new Lc(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new t3,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new _f:c=new ar,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,k4e)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],xL),c.wrapT=r(a.wrap[1],xL)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,SL)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,SL)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,f;switch(e.type){case"Scene":o=new B6,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new c8(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new u8(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new hu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new mH(e.color,e.intensity);break;case"DirectionalLight":o=new pH(e.color,e.intensity);break;case"PointLight":o=new fH(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new gH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new hH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new dH(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new g8().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new zV(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Fr(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new BV(c,f,p),o.instanceMatrix=new Gf(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Gf(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new UV;break;case"Line":o=new cl(a(e.geometry),l(e.material));break;case"LineLoop":o=new VV(a(e.geometry),l(e.material));break;case"LineSegments":o=new uo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new lp(a(e.geometry),l(e.material));break;case"Sprite":o=new OV(l(e.material));break;case"Group":o=new kc;break;case"Bone":o=new qE;break;default:o=new ln}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],_=o.getObjectByProperty("uuid",y.object);_!==void 0&&o.addLevel(_,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const k4e={UVMapping:i8,CubeReflectionMapping:Su,CubeRefractionMapping:wu,EquirectangularReflectionMapping:Jp,EquirectangularRefractionMapping:e2,CubeUVReflectionMapping:l0},xL={RepeatWrapping:t2,ClampToEdgeWrapping:Ai,MirroredRepeatWrapping:n2},SL={NearestFilter:fr,NearestMipmapNearestFilter:U6,NearestMipmapLinearFilter:sp,LinearFilter:mr,LinearMipmapNearestFilter:LE,LinearMipmapLinearFilter:Eu};class D4e extends us{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ud.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ud.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let D4;class ub{static getContext(){return D4===void 0&&(D4=new(window.AudioContext||window.webkitAudioContext)),D4}static setContext(e){D4=e}}class N4e extends us{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new pa(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);ub.getContext().decodeAudioData(u,function(f){n(f)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class F4e extends g8{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(n),o=new O(i.r,i.g,i.b),a=new O(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class O4e extends g8{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const wL=new kt,EL=new kt,ic=new kt;class U4e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,ic.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(jc*n.fov*.5)/n.zoom;let a,l;EL.elements[12]=-i,wL.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,ic.elements[0]=2*n.near/(l-a),ic.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ic),a=-o*n.aspect-s,l=o*n.aspect-s,ic.elements[0]=2*n.near/(l-a),ic.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ic)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wL)}}class cb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=bL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function bL(){return(typeof performance>"u"?Date:performance).now()}const sc=new O,TL=new Ci,z4e=new O,oc=new O;class B4e extends ln{constructor(){super(),this.type="AudioListener",this.context=ub.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new cb}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sc,TL,z4e),oc.set(0,0,-1).applyQuaternion(TL),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(sc.x,i),n.positionY.linearRampToValueAtTime(sc.y,i),n.positionZ.linearRampToValueAtTime(sc.z,i),n.forwardX.linearRampToValueAtTime(oc.x,i),n.forwardY.linearRampToValueAtTime(oc.y,i),n.forwardZ.linearRampToValueAtTime(oc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(sc.x,sc.y,sc.z),n.setOrientation(oc.x,oc.y,oc.z,r.x,r.y,r.z)}}class xH extends ln{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ac=new O,ML=new Ci,V4e=new O,lc=new O;class H4e extends xH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ac,ML,V4e),lc.set(0,0,1).applyQuaternion(ML);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(ac.x,r),n.positionY.linearRampToValueAtTime(ac.y,r),n.positionZ.linearRampToValueAtTime(ac.z,r),n.orientationX.linearRampToValueAtTime(lc.x,r),n.orientationY.linearRampToValueAtTime(lc.y,r),n.orientationZ.linearRampToValueAtTime(lc.z,r)}else n.setPosition(ac.x,ac.y,ac.z),n.setOrientation(lc.x,lc.y,lc.z)}}class G4e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class SH{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ci.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ci.multiplyQuaternionsFlat(e,o,e,n,e,r),Ci.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const db="\\[\\]\\.:\\/",$4e=new RegExp("["+db+"]","g"),hb="[^"+db+"]",W4e="[^"+db.replace("\\.","")+"]",j4e=/((?:WC+[\/:])*)/.source.replace("WC",hb),q4e=/(WCOD+)?/.source.replace("WCOD",W4e),X4e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hb),Y4e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hb),K4e=new RegExp("^"+j4e+q4e+X4e+Y4e+"$"),Q4e=["material","materials","bones","map"];class Z4e{constructor(e,n,r){const i=r||Zt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Zt{constructor(e,n,r){this.path=n,this.parsedPath=r||Zt.parseTrackName(n),this.node=Zt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Zt.Composite(e,n,r):new Zt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($4e,"")}static parseTrackName(e){const n=K4e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Q4e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Zt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zt.Composite=Z4e;Zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zt.prototype.GetterByBindingType=[Zt.prototype._getValue_direct,Zt.prototype._getValue_array,Zt.prototype._getValue_arrayElement,Zt.prototype._getValue_toArray];Zt.prototype.SetterByBindingTypeAndVersioning=[[Zt.prototype._setValue_direct,Zt.prototype._setValue_direct_setNeedsUpdate,Zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_array,Zt.prototype._setValue_array_setNeedsUpdate,Zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_arrayElement,Zt.prototype._setValue_arrayElement_setNeedsUpdate,Zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_fromArray,Zt.prototype._setValue_fromArray_setNeedsUpdate,Zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class J4e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Zt(p,r[_],i[_]))}else if(y<u){a=e[y];const _=--u,x=e[_];n[x.uuid]=y,e[y]=x,n[m]=_,e[_]=p;for(let g=0,S=o;g!==S;++g){const w=s[g],b=w[_];let M=w[y];w[y]=b,M===void 0&&(M=new Zt(p,r[g],i[g])),w[_]=M}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,p=e[f];n[p.uuid]=c,e[c]=p,n[u]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const _=r[m],x=_[f],g=_[c];_[c]=x,_[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const p=--s,m=e[p],y=--o,_=e[y];n[m.uuid]=f,e[f]=m,n[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=i;x!==g;++x){const S=r[x],w=S[p],b=S[y];S[f]=w,S[p]=b,S.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let y=0,_=i;y!==_;++y){const x=r[y];x[f]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let p=c,m=l.length;p!==m;++p){const y=l[p];f[p]=new Zt(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class wH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Rc,endingEnd:Rc};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case DE:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case s8:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===pV;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===hV){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Ic,i.endingEnd=Ic):(e?i.endingStart=this.zeroSlopeAtStart?Ic:Rc:i.endingStart=s2,n?i.endingEnd=this.zeroSlopeAtEnd?Ic:Rc:i.endingEnd=s2)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const e5e=new Float32Array(1);class t5e extends _a{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let y=c[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const _=n&&n._propertyBindings[f].binding.parsedPath;y=new SH(Zt.create(r,m,_),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new sb(new Float32Array(2),new Float32Array(2),1,e5e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?p2.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=s8),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new wH(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?p2.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class fb{constructor(e){this.value=e}clone(){return new fb(this.value.clone===void 0?this.value:this.value.clone())}}let n5e=0;class r5e extends _a{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:n5e++}),this.name="",this.usage=o2,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class i5e extends d8{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class s5e{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class EH{constructor(e,n,r=0,i=1/0){this.ray=new Z2(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new qc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return zx(e,this,r,n),r.sort(AL),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)zx(e[i],this,r,n);return r.sort(AL),r}}function AL(t,e){return t.distance-e.distance}function zx(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)zx(i[s],e,n,!0)}}class Bx{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(sr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class o5e{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const CL=new Me;class a5e{constructor(e=new Me(1/0,1/0),n=new Me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=CL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,CL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PL=new O,N4=new O;class l5e{constructor(e=new O,n=new O){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){PL.subVectors(e,this.start),N4.subVectors(this.end,this.start);const r=N4.dot(N4);let s=N4.dot(PL)/r;return n&&(s=sr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const RL=new O;class u5e extends ln{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new tt(i,3));const s=new Or({fog:!1,toneMapped:!1});this.cone=new uo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),RL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(RL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Nl=new O,F4=new kt,Oy=new kt;class c5e extends uo{constructor(e){const n=bH(e),r=new Rt,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new tt(i,3)),r.setAttribute("color",new tt(s,3));const l=new Or({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Oy.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(F4.multiplyMatrices(Oy,a.matrixWorld),Nl.setFromMatrixPosition(F4),i.setXYZ(o,Nl.x,Nl.y,Nl.z),F4.multiplyMatrices(Oy,a.parent.matrixWorld),Nl.setFromMatrixPosition(F4),i.setXYZ(o+1,Nl.x,Nl.y,Nl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,bH(t.children[n]));return e}class d5e extends Fr{constructor(e,n,r){const i=new f0(n,4,2),s=new Du({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const h5e=new O,IL=new et,LL=new et;class f5e extends ln{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new h0(n);i.rotateY(Math.PI*.5),this.material=new Du({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Cn(o,3)),this.add(new Fr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");IL.copy(this.light.color),LL.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?IL:LL;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(h5e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class p5e extends uo{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const _=p===s?r:i;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const c=new Rt;c.setAttribute("position",new tt(l,3)),c.setAttribute("color",new tt(u,3));const f=new Or({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class m5e extends uo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const _=f&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let y=0;y<i;y++){let _=y/i*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(y+1)/i*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new Rt;u.setAttribute("position",new tt(a,3)),u.setAttribute("color",new tt(l,3));const c=new Or({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kL=new O,O4=new O,DL=new O;class g5e extends ln{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Rt;i.setAttribute("position",new tt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Or({fog:!1,toneMapped:!1});this.lightPlane=new cl(i,s),this.add(this.lightPlane),i=new Rt,i.setAttribute("position",new tt([0,0,0,0,0,1],3)),this.targetLine=new cl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kL.setFromMatrixPosition(this.light.matrixWorld),O4.setFromMatrixPosition(this.light.target.matrixWorld),DL.subVectors(O4,kL),this.lightPlane.lookAt(O4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(O4),this.targetLine.scale.z=DL.length()}}const U4=new O,rr=new e3;class y5e extends uo{constructor(e){const n=new Rt,r=new Or({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,_){l(y),l(_)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new tt(i,3)),n.setAttribute("color",new tt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),f=new et(43775),p=new et(16777215),m=new et(3355443);this.setColors(u,c,f,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;rr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),hr("c",n,e,rr,0,0,-1),hr("t",n,e,rr,0,0,1),hr("n1",n,e,rr,-r,-i,-1),hr("n2",n,e,rr,r,-i,-1),hr("n3",n,e,rr,-r,i,-1),hr("n4",n,e,rr,r,i,-1),hr("f1",n,e,rr,-r,-i,1),hr("f2",n,e,rr,r,-i,1),hr("f3",n,e,rr,-r,i,1),hr("f4",n,e,rr,r,i,1),hr("u1",n,e,rr,r*.7,i*1.1,-1),hr("u2",n,e,rr,-r*.7,i*1.1,-1),hr("u3",n,e,rr,0,i*2,-1),hr("cf1",n,e,rr,-r,0,1),hr("cf2",n,e,rr,r,0,1),hr("cf3",n,e,rr,0,-i,1),hr("cf4",n,e,rr,0,i,1),hr("cn1",n,e,rr,-r,0,-1),hr("cn2",n,e,rr,r,0,-1),hr("cn3",n,e,rr,0,-i,-1),hr("cn4",n,e,rr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function hr(t,e,n,r,i,s,o){U4.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],U4.x,U4.y,U4.z)}}const z4=new xa;class v5e extends uo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Rt;s.setIndex(new Cn(r,1)),s.setAttribute("position",new Cn(i,3)),super(s,new Or({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&z4.setFromObject(this.object),z4.isEmpty())return;const n=z4.min,r=z4.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _5e extends uo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rt;s.setIndex(new Cn(r,1)),s.setAttribute("position",new tt(i,3)),super(s,new Or({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class x5e extends cl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Rt;o.setAttribute("position",new tt(s,3)),o.computeBoundingSphere(),super(o,new Or({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rt;l.setAttribute("position",new tt(a,3)),l.computeBoundingSphere(),this.add(new Fr(l,new Du({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const NL=new O;let B4,Uy;class S5e extends ln{constructor(e=new O(0,0,1),n=new O(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",B4===void 0&&(B4=new Rt,B4.setAttribute("position",new tt([0,0,0,0,1,0],3)),Uy=new Sd(0,.5,1,5,1),Uy.translate(0,-.5,0)),this.position.copy(n),this.line=new cl(B4,new Or({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fr(Uy,new Du({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{NL.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(NL,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class w5e extends uo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Rt;i.setAttribute("position",new tt(n,3)),i.setAttribute("color",new tt(r,3));const s=new Or({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class E5e{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new l2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const S=[];for(let w=0,b=g.length;w<b;w++){const M=g[w],A=new Xc;A.curves=M.curves,S.push(A)}return S}function r(g,S){const w=S.length;let b=!1;for(let M=w-1,A=0;A<w;M=A++){let R=S[M],L=S[A],C=L.x-R.x,k=L.y-R.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(R=S[A],C=-C,L=S[M],k=-k),g.y<R.y||g.y>L.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const $=k*(g.x-R.x)-C*(g.y-R.y);if($===0)return!0;if($<0)continue;b=!b}}else{if(g.y!==R.y)continue;if(L.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=L.x)return!0}}return b}const i=ha.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Xc,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],p=[];let m=[],y=0,_;p[y]=void 0,m[y]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],_=a.getPoints(),o=i(_),o=e?!o:o,o?(!c&&p[y]&&y++,p[y]={s:new Xc,p:_},p[y].s.curves=a.curves,c&&y++,m[y]=[]):m[y].push({h:a,p:_[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,S=0;for(let w=0,b=p.length;w<b;w++)f[w]=[];for(let w=0,b=p.length;w<b;w++){const M=m[w];for(let A=0;A<M.length;A++){const R=M[A];let L=!0;for(let C=0;C<p.length;C++)r(R.p,p[C].p)&&(w!==C&&S++,L?(L=!1,f[C].push(R)):g=!0);L&&f[w].push(R)}}S>0&&g===!1&&(m=f)}let x;for(let g=0,S=p.length;g<S;g++){l=p[g].s,u.push(l),x=m[g];for(let w=0,b=x.length;w<b;w++)l.holes.push(x[w].h)}return u}}class b5e extends Nu{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class T5e extends n3{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class M5e extends r3{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class A5e extends i3{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class C5e extends Sd{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class P5e extends s3{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class R5e extends o3{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class I5e extends a3{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class L5e extends d0{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class k5e extends h0{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class D5e extends u0{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class N5e extends pl{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class F5e extends l3{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class O5e extends u3{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class U5e extends f0{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class z5e extends c3{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class B5e extends d3{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class V5e extends h3{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class H5e extends f3{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n8}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=n8);const G5e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:IE,AddEquation:_c,AddOperation:jB,AdditiveAnimationBlendMode:DE,AdditiveBlending:nx,AlphaFormat:nV,AlwaysDepth:zB,AlwaysStencilFunc:vV,AmbientLight:mH,AmbientLightProbe:O4e,AnimationAction:wH,AnimationClip:p2,AnimationLoader:b4e,AnimationMixer:t5e,AnimationObjectGroup:J4e,AnimationUtils:x4e,ArcCurve:HV,ArrayCamera:kV,ArrowHelper:S5e,Audio:xH,AudioAnalyser:G4e,AudioContext:ub,AudioListener:B4e,AudioLoader:N4e,AxesHelper:w5e,BackSide:ji,BasicDepthPacking:mV,BasicShadowMap:TB,Bone:qE,BooleanKeyframeTrack:wd,Box2:a5e,Box3:xa,Box3Helper:_5e,BoxBufferGeometry:b5e,BoxGeometry:Nu,BoxHelper:v5e,BufferAttribute:Cn,BufferGeometry:Rt,BufferGeometryLoader:_H,ByteType:QB,Cache:ud,Camera:e3,CameraHelper:y5e,CanvasTexture:$me,CapsuleBufferGeometry:T5e,CapsuleGeometry:n3,CatmullRomCurve3:GV,CineonToneMapping:YB,CircleBufferGeometry:M5e,CircleGeometry:r3,ClampToEdgeWrapping:Ai,Clock:cb,Color:et,ColorKeyframeTrack:ob,ColorManagement:Qs,CompressedArrayTexture:Gme,CompressedTexture:XE,CompressedTextureLoader:T4e,ConeBufferGeometry:A5e,ConeGeometry:i3,CubeCamera:TV,CubeReflectionMapping:Su,CubeRefractionMapping:wu,CubeTexture:t3,CubeTextureLoader:M4e,CubeUVReflectionMapping:l0,CubicBezierCurve:KE,CubicBezierCurve3:$V,CubicInterpolant:aH,CullFaceBack:tx,CullFaceFront:bB,CullFaceFrontBack:Vfe,CullFaceNone:EB,Curve:Uo,CurvePath:jV,CustomBlending:MB,CustomToneMapping:KB,CylinderBufferGeometry:C5e,CylinderGeometry:Sd,Cylindrical:o5e,Data3DTexture:zE,DataArrayTexture:o8,DataTexture:_f,DataTextureLoader:A4e,DataUtils:J0e,DecrementStencilOp:Jfe,DecrementWrapStencilOp:t0e,DefaultLoadingManager:cH,DepthFormat:uu,DepthStencilFormat:od,DepthTexture:DV,DirectionalLight:pH,DirectionalLightHelper:g5e,DiscreteInterpolant:lH,DisplayP3ColorSpace:FE,DodecahedronBufferGeometry:P5e,DodecahedronGeometry:s3,DoubleSide:na,DstAlphaFactor:kB,DstColorFactor:NB,DynamicCopyUsage:g0e,DynamicDrawUsage:c0e,DynamicReadUsage:f0e,EdgesGeometry:qV,EllipseCurve:f8,EqualDepth:VB,EqualStencilFunc:s0e,EquirectangularReflectionMapping:Jp,EquirectangularRefractionMapping:e2,Euler:J2,EventDispatcher:_a,ExtrudeBufferGeometry:R5e,ExtrudeGeometry:o3,FileLoader:pa,Float16BufferAttribute:s1e,Float32BufferAttribute:tt,Float64BufferAttribute:o1e,FloatType:Xa,Fog:c8,FogExp2:u8,FramebufferTexture:Hme,FrontSide:ll,Frustum:a8,GLBufferAttribute:s5e,GLSL1:v0e,GLSL3:Rx,GreaterDepth:GB,GreaterEqualDepth:HB,GreaterEqualStencilFunc:u0e,GreaterStencilFunc:a0e,GridHelper:p5e,Group:kc,HalfFloatType:Bf,HemisphereLight:dH,HemisphereLightHelper:f5e,HemisphereLightProbe:F4e,IcosahedronBufferGeometry:I5e,IcosahedronGeometry:a3,ImageBitmapLoader:D4e,ImageLoader:m2,ImageUtils:UE,IncrementStencilOp:Zfe,IncrementWrapStencilOp:e0e,InstancedBufferAttribute:Gf,InstancedBufferGeometry:vH,InstancedInterleavedBuffer:i5e,InstancedMesh:BV,Int16BufferAttribute:r1e,Int32BufferAttribute:i1e,Int8BufferAttribute:e1e,IntType:JB,InterleavedBuffer:d8,InterleavedBufferAttribute:ad,Interpolant:p3,InterpolateDiscrete:r2,InterpolateLinear:i2,InterpolateSmooth:O5,InvertStencilOp:n0e,KeepStencilOp:U5,KeyframeTrack:zo,LOD:UV,LatheBufferGeometry:L5e,LatheGeometry:d0,Layers:qc,LessDepth:BB,LessEqualDepth:O6,LessEqualStencilFunc:o0e,LessStencilFunc:i0e,Light:Fu,LightProbe:g8,Line:cl,Line3:l5e,LineBasicMaterial:Or,LineCurve:p8,LineCurve3:WV,LineDashedMaterial:sH,LineLoop:VV,LineSegments:uo,LinearEncoding:NE,LinearFilter:mr,LinearInterpolant:sb,LinearMipMapLinearFilter:jfe,LinearMipMapNearestFilter:Wfe,LinearMipmapLinearFilter:Eu,LinearMipmapNearestFilter:LE,LinearSRGBColorSpace:Do,LinearToneMapping:qB,Loader:us,LoaderUtils:Ux,LoadingManager:ab,LoopOnce:hV,LoopPingPong:pV,LoopRepeat:fV,LuminanceAlphaFormat:iV,LuminanceFormat:rV,MOUSE:fc,Material:Ur,MaterialLoader:y8,MathUtils:L0e,Matrix3:Wt,Matrix4:kt,MaxEquation:ox,Mesh:Fr,MeshBasicMaterial:Du,MeshDepthMaterial:GE,MeshDistanceMaterial:$E,MeshLambertMaterial:rH,MeshMatcapMaterial:iH,MeshNormalMaterial:nH,MeshPhongMaterial:nb,MeshPhysicalMaterial:eH,MeshStandardMaterial:tb,MeshToonMaterial:tH,MinEquation:sx,MirroredRepeatWrapping:n2,MixOperation:WB,MultiplyBlending:ix,MultiplyOperation:Q2,NearestFilter:fr,NearestMipMapLinearFilter:$fe,NearestMipMapNearestFilter:Gfe,NearestMipmapLinearFilter:sp,NearestMipmapNearestFilter:U6,NeverDepth:UB,NeverStencilFunc:r0e,NoBlending:tl,NoColorSpace:du,NoToneMapping:Lo,NormalAnimationBlendMode:s8,NormalBlending:$c,NotEqualDepth:$B,NotEqualStencilFunc:l0e,NumberKeyframeTrack:h2,Object3D:ln,ObjectLoader:L4e,ObjectSpaceNormalMap:yV,OctahedronBufferGeometry:k5e,OctahedronGeometry:h0,OneFactor:RB,OneMinusDstAlphaFactor:DB,OneMinusDstColorFactor:FB,OneMinusSrcAlphaFactor:RE,OneMinusSrcColorFactor:LB,OrthographicCamera:hu,PCFShadowMap:r8,PCFSoftShadowMap:ip,PMREMGenerator:Lx,Path:l2,PerspectiveCamera:Bn,Plane:Vl,PlaneBufferGeometry:D5e,PlaneGeometry:u0,PlaneHelper:x5e,PointLight:fH,PointLightHelper:d5e,Points:lp,PointsMaterial:Dc,PolarGridHelper:m5e,PolyhedronBufferGeometry:N5e,PolyhedronGeometry:pl,PositionalAudio:H4e,PropertyBinding:Zt,PropertyMixer:SH,QuadraticBezierCurve:QE,QuadraticBezierCurve3:ZE,Quaternion:Ci,QuaternionKeyframeTrack:p0,QuaternionLinearInterpolant:uH,RED_GREEN_RGTC2_Format:Cx,RED_RGTC1_Format:dV,REVISION:n8,RGBADepthPacking:gV,RGBAFormat:ns,RGBAIntegerFormat:uV,RGBA_ASTC_10x10_Format:bx,RGBA_ASTC_10x5_Format:Sx,RGBA_ASTC_10x6_Format:wx,RGBA_ASTC_10x8_Format:Ex,RGBA_ASTC_12x10_Format:Tx,RGBA_ASTC_12x12_Format:Mx,RGBA_ASTC_4x4_Format:fx,RGBA_ASTC_5x4_Format:px,RGBA_ASTC_5x5_Format:mx,RGBA_ASTC_6x5_Format:gx,RGBA_ASTC_6x6_Format:yx,RGBA_ASTC_8x5_Format:vx,RGBA_ASTC_8x6_Format:_x,RGBA_ASTC_8x8_Format:xx,RGBA_BPTC_Format:F5,RGBA_ETC2_EAC_Format:hx,RGBA_PVRTC_2BPPV1_Format:cx,RGBA_PVRTC_4BPPV1_Format:ux,RGBA_S3TC_DXT1_Format:k5,RGBA_S3TC_DXT3_Format:D5,RGBA_S3TC_DXT5_Format:N5,RGB_ETC1_Format:cV,RGB_ETC2_Format:dx,RGB_PVRTC_2BPPV1_Format:lx,RGB_PVRTC_4BPPV1_Format:ax,RGB_S3TC_DXT1_Format:L5,RGFormat:aV,RGIntegerFormat:lV,RawShaderMaterial:JV,Ray:Z2,Raycaster:EH,RectAreaLight:gH,RedFormat:sV,RedIntegerFormat:oV,ReinhardToneMapping:XB,RepeatWrapping:t2,ReplaceStencilOp:Qfe,ReverseSubtractEquation:CB,RingBufferGeometry:F5e,RingGeometry:l3,SIGNED_RED_GREEN_RGTC2_Format:Px,SIGNED_RED_RGTC1_Format:Ax,SRGBColorSpace:Ft,Scene:B6,ShaderChunk:Bt,ShaderLib:Mo,ShaderMaterial:fa,ShadowMaterial:ZV,Shape:Xc,ShapeBufferGeometry:O5e,ShapeGeometry:u3,ShapePath:E5e,ShapeUtils:ha,ShortType:ZB,Skeleton:h8,SkeletonHelper:c5e,SkinnedMesh:zV,Source:Lc,Sphere:Sa,SphereBufferGeometry:U5e,SphereGeometry:f0,Spherical:Bx,SphericalHarmonics3:yH,SplineCurve:JE,SpotLight:hH,SpotLightHelper:u5e,Sprite:OV,SpriteMaterial:jE,SrcAlphaFactor:PE,SrcAlphaSaturateFactor:OB,SrcColorFactor:IB,StaticCopyUsage:m0e,StaticDrawUsage:o2,StaticReadUsage:h0e,StereoCamera:U4e,StreamCopyUsage:y0e,StreamDrawUsage:d0e,StreamReadUsage:p0e,StringKeyframeTrack:Ed,SubtractEquation:AB,SubtractiveBlending:rx,TOUCH:pc,TangentSpaceNormalMap:ku,TetrahedronBufferGeometry:z5e,TetrahedronGeometry:c3,Texture:ar,TextureLoader:C4e,TorusBufferGeometry:B5e,TorusGeometry:d3,TorusKnotBufferGeometry:V5e,TorusKnotGeometry:h3,Triangle:es,TriangleFanDrawMode:Yfe,TriangleStripDrawMode:Xfe,TrianglesDrawMode:qfe,TubeBufferGeometry:H5e,TubeGeometry:f3,TwoPassDoubleSide:Hfe,UVMapping:i8,Uint16BufferAttribute:BE,Uint32BufferAttribute:VE,Uint8BufferAttribute:t1e,Uint8ClampedBufferAttribute:n1e,Uniform:fb,UniformsGroup:r5e,UniformsLib:We,UniformsUtils:bV,UnsignedByteType:ul,UnsignedInt248Type:Wc,UnsignedIntType:Kl,UnsignedShort4444Type:eV,UnsignedShort5551Type:tV,UnsignedShortType:kE,VSMShadowMap:Eo,Vector2:Me,Vector3:O,Vector4:En,VectorKeyframeTrack:f2,VideoTexture:Vme,WebGL1Renderer:NV,WebGL3DRenderTarget:H0e,WebGLArrayRenderTarget:V0e,WebGLCubeRenderTarget:MV,WebGLMultipleRenderTargets:G0e,WebGLRenderTarget:No,WebGLRenderer:WE,WebGLUtils:LV,WireframeGeometry:QV,WrapAroundEnding:s2,ZeroCurvatureEnding:Rc,ZeroFactor:PB,ZeroSlopeEnding:Ic,ZeroStencilOp:Kfe,_SRGBAFormat:z6,sRGBEncoding:cu},Symbol.toStringTag,{value:"Module"}));var TH={exports:{}},bd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */bd.ConcurrentRoot=1;bd.ContinuousEventPriority=4;bd.DefaultEventPriority=16;bd.DiscreteEventPriority=1;bd.IdleEventPriority=536870912;bd.LegacyRoot=0;TH.exports=bd;var Jh=TH.exports;function $5e(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const y=c(e);if(!f(p,y)){const _=p;u(p=y,_)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const W5e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FL=W5e?I.useEffect:I.useLayoutEffect;function j5e(t){const e=typeof t=="function"?$5e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=I.useReducer(x=>x+1,0),o=e.getState(),a=I.useRef(o),l=I.useRef(r),u=I.useRef(i),c=I.useRef(!1),f=I.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(f.current,p)),FL(()=>{m&&(f.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const y=I.useRef(o);FL(()=>{const x=()=>{try{const S=e.getState(),w=l.current(S);u.current(f.current,w)||(a.current=S,f.current=w,s())}catch{c.current=!0,s()}},g=e.subscribe(x);return e.getState()!==y.current&&x(),g},[]);const _=m?p:f.current;return I.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var MH={exports:{}},AH={exports:{}},CH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,Y){var X=G.length;G.push(Y);e:for(;0<X;){var ae=X-1>>>1,ce=G[ae];if(0<i(ce,Y))G[ae]=Y,G[X]=ce,X=ae;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],X=G.pop();if(X!==Y){G[0]=X;e:for(var ae=0,ce=G.length,re=ce>>>1;ae<re;){var he=2*(ae+1)-1,Pe=G[he],Ae=he+1,j=G[Ae];if(0>i(Pe,X))Ae<ce&&0>i(j,Pe)?(G[ae]=j,G[Ae]=X,ae=Ae):(G[ae]=Pe,G[he]=X,ae=he);else if(Ae<ce&&0>i(j,X))G[ae]=j,G[Ae]=X,ae=Ae;else break e}}return Y}function i(G,Y){var X=G.sortIndex-Y.sortIndex;return X!==0?X:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=G)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function b(G){if(_=!1,w(G),!y)if(n(l)!==null)y=!0,fe(M);else{var Y=n(u);Y!==null&&me(b,Y.startTime-G)}}function M(G,Y){y=!1,_&&(_=!1,g(L),L=-1),m=!0;var X=p;try{for(w(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||G&&!$());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var ce=ae(f.expirationTime<=Y);Y=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&r(l),w(Y)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var he=n(u);he!==null&&me(b,he.startTime-Y),re=!1}return re}finally{f=null,p=X,m=!1}}var A=!1,R=null,L=-1,C=5,k=-1;function $(){return!(t.unstable_now()-k<C)}function ee(){if(R!==null){var G=t.unstable_now();k=G;var Y=!0;try{Y=R(!0,G)}finally{Y?q():(A=!1,R=null)}}else A=!1}var q;if(typeof S=="function")q=function(){S(ee)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=ee,q=function(){ie.postMessage(null)}}else q=function(){x(ee,0)};function fe(G){R=G,A||(A=!0,q())}function me(G,Y){L=x(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,fe(M))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var X=p;p=Y;try{return G()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=p;p=G;try{return Y()}finally{p=X}},t.unstable_scheduleCallback=function(G,Y,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,G){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=X+ce,G={id:c++,callback:Y,priorityLevel:G,startTime:X,expirationTime:ce,sortIndex:-1},X>ae?(G.sortIndex=X,e(u,G),n(l)===null&&G===n(u)&&(_?(g(L),L=-1):_=!0,me(b,X-ae))):(G.sortIndex=ce,e(l,G),y||m||(y=!0,fe(M))),G},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(G){var Y=p;return function(){var X=p;p=Y;try{return G.apply(this,arguments)}finally{p=X}}}})(CH);AH.exports=CH;var Vx=AH.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5e=function(e){var n={},r=I,i=Vx,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),M=Symbol.iterator;function A(d){return d===null||typeof d!="object"?null:(d=M&&d[M]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case y:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case _:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case S:return h=d.displayName||null,h!==null?h:R(d.type)||"Memo";case w:h=d._payload,d=d._init;try{return R(d(h))}catch{}}return null}function L(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function C(d){var h=d,v=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(v=h.return),d=h.return;while(d)}return h.tag===3?v:null}function k(d){if(C(d)!==d)throw Error(o(188))}function $(d){var h=d.alternate;if(!h){if(h=C(d),h===null)throw Error(o(188));return h!==d?null:d}for(var v=d,E=h;;){var T=v.return;if(T===null)break;var P=T.alternate;if(P===null){if(E=T.return,E!==null){v=E;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===v)return k(T),d;if(P===E)return k(T),h;P=P.sibling}throw Error(o(188))}if(v.return!==E.return)v=T,E=P;else{for(var V=!1,te=T.child;te;){if(te===v){V=!0,v=T,E=P;break}if(te===E){V=!0,E=T,v=P;break}te=te.sibling}if(!V){for(te=P.child;te;){if(te===v){V=!0,v=P,E=T;break}if(te===E){V=!0,E=P,v=T;break}te=te.sibling}if(!V)throw Error(o(189))}}if(v.alternate!==E)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?d:h}function ee(d){return d=$(d),d!==null?q(d):null}function q(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=q(d);if(h!==null)return h;d=d.sibling}return null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=Z(d);if(h!==null)return h}d=d.sibling}return null}var ie=Array.isArray,fe=e.getPublicInstance,me=e.getRootHostContext,G=e.getChildHostContext,Y=e.prepareForCommit,X=e.resetAfterCommit,ae=e.createInstance,ce=e.appendInitialChild,re=e.finalizeInitialChildren,he=e.prepareUpdate,Pe=e.shouldSetTextContent,Ae=e.createTextInstance,j=e.scheduleTimeout,Ze=e.cancelTimeout,nt=e.noTimeout,Re=e.isPrimaryRenderer,He=e.supportsMutation,Te=e.supportsPersistence,ve=e.supportsHydration,Ce=e.getInstanceFromNode,Ye=e.preparePortalMount,Ve=e.getCurrentEventPriority,st=e.detachDeletedInstance,at=e.supportsMicrotasks,ot=e.scheduleMicrotask,pt=e.supportsTestSelectors,It=e.findFiberRoot,B=e.getBoundingRect,D=e.getTextContent,ge=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,ke=e.setFocusIfFocusable,Ge=e.setupIntersectionObserver,lt=e.appendChild,qe=e.appendChildToContainer,H=e.commitTextUpdate,J=e.commitMount,N=e.commitUpdate,K=e.insertBefore,oe=e.insertInContainerBefore,xe=e.removeChild,Le=e.removeChildFromContainer,Ne=e.resetTextContent,Be=e.hideInstance,W=e.hideTextInstance,ue=e.unhideInstance,Ee=e.unhideTextInstance,Fe=e.clearContainer,$e=e.cloneInstance,_t=e.createContainerChildSet,Gt=e.appendChildToContainerChildSet,On=e.finalizeContainerChildren,Hr=e.replaceContainerChildren,Kt=e.cloneHiddenInstance,Jn=e.cloneHiddenTextInstance,Pn=e.canHydrateInstance,Fs=e.canHydrateTextInstance,Bo=e.canHydrateSuspenseInstance,co=e.isSuspenseInstancePending,un=e.isSuspenseInstanceFallback,Gr=e.registerSuspenseInstanceRetry,F=e.getNextHydratableSibling,de=e.getFirstHydratableChild,_e=e.getFirstHydratableChildWithinContainer,le=e.getFirstHydratableChildWithinSuspenseInstance,be=e.hydrateInstance,ut=e.hydrateTextInstance,ct=e.hydrateSuspenseInstance,St=e.getNextHydratableInstanceAfterSuspenseInstance,bt=e.commitHydratedContainer,Dt=e.commitHydratedSuspenseInstance,Nt=e.clearSuspenseBoundary,Ot=e.clearSuspenseBoundaryFromContainer,nn=e.shouldDeleteUnhydratedTailInstances,ur=e.didNotMatchHydratedContainerTextInstance,Di=e.didNotMatchHydratedTextInstance,hi;function mn(d){if(hi===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);hi=h&&h[1]||""}return`
`+hi+d}var Ut=!1;function Os(d,h){if(!d||Ut)return"";Ut=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ze){var E=ze}Reflect.construct(d,[],h)}else{try{h.call()}catch(ze){E=ze}d.call(h.prototype)}else{try{throw Error()}catch(ze){E=ze}d()}}catch(ze){if(ze&&E&&typeof ze.stack=="string"){for(var T=ze.stack.split(`
`),P=E.stack.split(`
`),V=T.length-1,te=P.length-1;1<=V&&0<=te&&T[V]!==P[te];)te--;for(;1<=V&&0<=te;V--,te--)if(T[V]!==P[te]){if(V!==1||te!==1)do if(V--,te--,0>te||T[V]!==P[te]){var we=`
`+T[V].replace(" at new "," at ");return d.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",d.displayName)),we}while(1<=V&&0<=te);break}}}finally{Ut=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?mn(d):""}var Wn=Object.prototype.hasOwnProperty,cs=[],ho=-1;function fi(d){return{current:d}}function rn(d){0>ho||(d.current=cs[ho],cs[ho]=null,ho--)}function Tt(d,h){ho++,cs[ho]=d.current,d.current=h}var $r={},er=fi($r),gn=fi(!1),ds=$r;function Vo(d,h){var v=d.type.contextTypes;if(!v)return $r;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===h)return E.__reactInternalMemoizedMaskedChildContext;var T={},P;for(P in v)T[P]=h[P];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=T),T}function Rr(d){return d=d.childContextTypes,d!=null}function Ad(){rn(gn),rn(er)}function R3(d,h,v){if(er.current!==$r)throw Error(o(168));Tt(er,h),Tt(gn,v)}function I3(d,h,v){var E=d.stateNode;if(h=h.childContextTypes,typeof E.getChildContext!="function")return v;E=E.getChildContext();for(var T in E)if(!(T in h))throw Error(o(108,L(d)||"Unknown",T));return s({},v,E)}function wa(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||$r,ds=er.current,Tt(er,d),Tt(gn,gn.current),!0}function Cd(d,h,v){var E=d.stateNode;if(!E)throw Error(o(169));v?(d=I3(d,h,ds),E.__reactInternalMemoizedMergedChildContext=d,rn(gn),rn(er),Tt(er,d)):rn(gn),Tt(gn,v)}var hs=Math.clz32?Math.clz32:q8,j8=Math.log,L3=Math.LN2;function q8(d){return d>>>=0,d===0?32:31-(j8(d)/L3|0)|0}var Pd=64,Rd=4194304;function yl(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Id(d,h){var v=d.pendingLanes;if(v===0)return 0;var E=0,T=d.suspendedLanes,P=d.pingedLanes,V=v&268435455;if(V!==0){var te=V&~T;te!==0?E=yl(te):(P&=V,P!==0&&(E=yl(P)))}else V=v&~T,V!==0?E=yl(V):P!==0&&(E=yl(P));if(E===0)return 0;if(h!==0&&h!==E&&!(h&T)&&(T=E&-E,P=h&-h,T>=P||T===16&&(P&4194240)!==0))return h;if(E&4&&(E|=v&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=E;0<h;)v=31-hs(h),T=1<<v,E|=d[v],h&=~T;return E}function X8(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y8(d,h){for(var v=d.suspendedLanes,E=d.pingedLanes,T=d.expirationTimes,P=d.pendingLanes;0<P;){var V=31-hs(P),te=1<<V,we=T[V];we===-1?(!(te&v)||te&E)&&(T[V]=X8(te,h)):we<=h&&(d.expiredLanes|=te),P&=~te}}function zu(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function S0(d){for(var h=[],v=0;31>v;v++)h.push(d);return h}function Bu(d,h,v){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-hs(h),d[h]=v}function K8(d,h){var v=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<v;){var T=31-hs(v),P=1<<T;h[T]=0,E[T]=-1,d[T]=-1,v&=~P}}function vl(d,h){var v=d.entangledLanes|=h;for(d=d.entanglements;v;){var E=31-hs(v),T=1<<E;T&h|d[E]&h&&(d[E]|=h),v&=~T}}var jt=0;function Ld(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Vu=i.unstable_scheduleCallback,k3=i.unstable_cancelCallback,D3=i.unstable_shouldYield,w0=i.unstable_requestPaint,cr=i.unstable_now,fo=i.unstable_ImmediatePriority,Hu=i.unstable_UserBlockingPriority,E0=i.unstable_NormalPriority,N3=i.unstable_IdlePriority,kd=null,fs=null;function Q8(d){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(kd,d,void 0,(d.current.flags&128)===128)}catch{}}function Z8(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ps=typeof Object.is=="function"?Object.is:Z8,po=null,U=!1,Q=!1;function ye(d){po===null?po=[d]:po.push(d)}function Je(d){U=!0,ye(d)}function wt(){if(!Q&&po!==null){Q=!0;var d=0,h=jt;try{var v=po;for(jt=1;d<v.length;d++){var E=v[d];do E=E(!0);while(E!==null)}po=null,U=!1}catch(T){throw po!==null&&(po=po.slice(d+1)),Vu(fo,wt),T}finally{jt=h,Q=!1}}return null}var Sn=a.ReactCurrentBatchConfig;function wn(d,h){if(ps(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var v=Object.keys(d),E=Object.keys(h);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var T=v[E];if(!Wn.call(h,T)||!ps(d[T],h[T]))return!1}return!0}function $t(d){switch(d.tag){case 5:return mn(d.type);case 16:return mn("Lazy");case 13:return mn("Suspense");case 19:return mn("SuspenseList");case 0:case 2:case 15:return d=Os(d.type,!1),d;case 11:return d=Os(d.type.render,!1),d;case 1:return d=Os(d.type,!0),d;default:return""}}function qt(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var v in d)h[v]===void 0&&(h[v]=d[v]);return h}return h}var ni=fi(null),Wr=null,Us=null,Gu=null;function $u(){Gu=Us=Wr=null}function b0(d,h,v){Re?(Tt(ni,h._currentValue),h._currentValue=v):(Tt(ni,h._currentValue2),h._currentValue2=v)}function J8(d){var h=ni.current;rn(ni),Re?d._currentValue=h:d._currentValue2=h}function e9(d,h,v){for(;d!==null;){var E=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),d===v)break;d=d.return}}function Dd(d,h){Wr=d,Gu=Us=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(ys=!0),d.firstContext=null)}function zs(d){var h=Re?d._currentValue:d._currentValue2;if(Gu!==d)if(d={context:d,memoizedValue:h,next:null},Us===null){if(Wr===null)throw Error(o(308));Us=d,Wr.dependencies={lanes:0,firstContext:d}}else Us=Us.next=d;return h}var Ho=null,_l=!1;function t9(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MT(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ea(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function xl(d,h){var v=d.updateQueue;v!==null&&(v=v.shared,vr!==null&&d.mode&1&&!(Ht&2)?(d=v.interleaved,d===null?(h.next=h,Ho===null?Ho=[v]:Ho.push(v)):(h.next=d.next,d.next=h),v.interleaved=h):(d=v.pending,d===null?h.next=h:(h.next=d.next,d.next=h),v.pending=h))}function F3(d,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var E=h.lanes;E&=d.pendingLanes,v|=E,h.lanes=v,vl(d,v)}}function AT(d,h){var v=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var T=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?T=P=V:P=P.next=V,v=v.next}while(v!==null);P===null?T=P=h:P=P.next=h}else T=P=h;v={baseState:E.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:E.shared,effects:E.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=h:d.next=h,v.lastBaseUpdate=h}function O3(d,h,v,E){var T=d.updateQueue;_l=!1;var P=T.firstBaseUpdate,V=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var we=te,ze=we.next;we.next=null,V===null?P=ze:V.next=ze,V=we;var it=d.alternate;it!==null&&(it=it.updateQueue,te=it.lastBaseUpdate,te!==V&&(te===null?it.firstBaseUpdate=ze:te.next=ze,it.lastBaseUpdate=we))}if(P!==null){var Mt=T.baseState;V=0,it=ze=we=null,te=P;do{var mt=te.lane,An=te.eventTime;if((E&mt)===mt){it!==null&&(it=it.next={eventTime:An,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var ft=d,yi=te;switch(mt=h,An=v,yi.tag){case 1:if(ft=yi.payload,typeof ft=="function"){Mt=ft.call(An,Mt,mt);break e}Mt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=yi.payload,mt=typeof ft=="function"?ft.call(An,Mt,mt):ft,mt==null)break e;Mt=s({},Mt,mt);break e;case 2:_l=!0}}te.callback!==null&&te.lane!==0&&(d.flags|=64,mt=T.effects,mt===null?T.effects=[te]:mt.push(te))}else An={eventTime:An,lane:mt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},it===null?(ze=it=An,we=Mt):it=it.next=An,V|=mt;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;mt=te,te=mt.next,mt.next=null,T.lastBaseUpdate=mt,T.shared.pending=null}}while(1);if(it===null&&(we=Mt),T.baseState=we,T.firstBaseUpdate=ze,T.lastBaseUpdate=it,h=T.shared.interleaved,h!==null){T=h;do V|=T.lane,T=T.next;while(T!==h)}else P===null&&(T.shared.lanes=0);Gd|=V,d.lanes=V,d.memoizedState=Mt}}function CT(d,h,v){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var E=d[h],T=E.callback;if(T!==null){if(E.callback=null,E=v,typeof T!="function")throw Error(o(191,T));T.call(E)}}}var PT=new r.Component().refs;function n9(d,h,v,E){h=d.memoizedState,v=v(E,h),v=v==null?h:s({},h,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var U3={isMounted:function(d){return(d=d._reactInternals)?C(d)===d:!1},enqueueSetState:function(d,h,v){d=d._reactInternals;var E=Fi(),T=El(d),P=Ea(E,T);P.payload=h,v!=null&&(P.callback=v),xl(d,P),h=$s(d,T,E),h!==null&&F3(h,d,T)},enqueueReplaceState:function(d,h,v){d=d._reactInternals;var E=Fi(),T=El(d),P=Ea(E,T);P.tag=1,P.payload=h,v!=null&&(P.callback=v),xl(d,P),h=$s(d,T,E),h!==null&&F3(h,d,T)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var v=Fi(),E=El(d),T=Ea(v,E);T.tag=2,h!=null&&(T.callback=h),xl(d,T),h=$s(d,E,v),h!==null&&F3(h,d,E)}};function RT(d,h,v,E,T,P,V){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,P,V):h.prototype&&h.prototype.isPureReactComponent?!wn(v,E)||!wn(T,P):!0}function IT(d,h,v){var E=!1,T=$r,P=h.contextType;return typeof P=="object"&&P!==null?P=zs(P):(T=Rr(h)?ds:er.current,E=h.contextTypes,P=(E=E!=null)?Vo(d,T):$r),h=new h(v,P),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=U3,d.stateNode=h,h._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=P),h}function LT(d,h,v,E){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,E),h.state!==d&&U3.enqueueReplaceState(h,h.state,null)}function r9(d,h,v,E){var T=d.stateNode;T.props=v,T.state=d.memoizedState,T.refs=PT,t9(d);var P=h.contextType;typeof P=="object"&&P!==null?T.context=zs(P):(P=Rr(h)?ds:er.current,T.context=Vo(d,P)),T.state=d.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(n9(d,h,P,v),T.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&U3.enqueueReplaceState(T,T.state,null),O3(d,v,T,E),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}var Nd=[],Fd=0,z3=null,B3=0,Bs=[],Vs=0,Wu=null,ba=1,Ta="";function ju(d,h){Nd[Fd++]=B3,Nd[Fd++]=z3,z3=d,B3=h}function kT(d,h,v){Bs[Vs++]=ba,Bs[Vs++]=Ta,Bs[Vs++]=Wu,Wu=d;var E=ba;d=Ta;var T=32-hs(E)-1;E&=~(1<<T),v+=1;var P=32-hs(h)+T;if(30<P){var V=T-T%5;P=(E&(1<<V)-1).toString(32),E>>=V,T-=V,ba=1<<32-hs(h)+T|v<<T|E,Ta=P+d}else ba=1<<P|v<<T|E,Ta=d}function i9(d){d.return!==null&&(ju(d,1),kT(d,1,0))}function s9(d){for(;d===z3;)z3=Nd[--Fd],Nd[Fd]=null,B3=Nd[--Fd],Nd[Fd]=null;for(;d===Wu;)Wu=Bs[--Vs],Bs[Vs]=null,Ta=Bs[--Vs],Bs[Vs]=null,ba=Bs[--Vs],Bs[Vs]=null}var ms=null,gs=null,Un=!1,T0=!1,mo=null;function DT(d,h){var v=Ws(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=d,h=d.deletions,h===null?(d.deletions=[v],d.flags|=16):h.push(v)}function NT(d,h){switch(d.tag){case 5:return h=Pn(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,ms=d,gs=de(h),!0):!1;case 6:return h=Fs(h,d.pendingProps),h!==null?(d.stateNode=h,ms=d,gs=null,!0):!1;case 13:if(h=Bo(h),h!==null){var v=Wu!==null?{id:ba,overflow:Ta}:null;return d.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=Ws(18,null,null,0),v.stateNode=h,v.return=d,d.child=v,ms=d,gs=null,!0}return!1;default:return!1}}function o9(d){return(d.mode&1)!==0&&(d.flags&128)===0}function a9(d){if(Un){var h=gs;if(h){var v=h;if(!NT(d,h)){if(o9(d))throw Error(o(418));h=F(v);var E=ms;h&&NT(d,h)?DT(E,v):(d.flags=d.flags&-4097|2,Un=!1,ms=d)}}else{if(o9(d))throw Error(o(418));d.flags=d.flags&-4097|2,Un=!1,ms=d}}}function FT(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ms=d}function M0(d){if(!ve||d!==ms)return!1;if(!Un)return FT(d),Un=!0,!1;if(d.tag!==3&&(d.tag!==5||nn(d.type)&&!Pe(d.type,d.memoizedProps))){var h=gs;if(h){if(o9(d)){for(d=gs;d;)d=F(d);throw Error(o(418))}for(;h;)DT(d,h),h=F(h)}}if(FT(d),d.tag===13){if(!ve)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));gs=St(d)}else gs=ms?F(d.stateNode):null;return!0}function Od(){ve&&(gs=ms=null,T0=Un=!1)}function l9(d){mo===null?mo=[d]:mo.push(d)}function A0(d,h,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var E=v.stateNode}if(!E)throw Error(o(147,d));var T=E,P=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(V){var te=T.refs;te===PT&&(te=T.refs={}),V===null?delete te[P]:te[P]=V},h._stringRef=P,h)}if(typeof d!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,d))}return d}function V3(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function OT(d){var h=d._init;return h(d._payload)}function UT(d){function h(pe,se){if(d){var Se=pe.deletions;Se===null?(pe.deletions=[se],pe.flags|=16):Se.push(se)}}function v(pe,se){if(!d)return null;for(;se!==null;)h(pe,se),se=se.sibling;return null}function E(pe,se){for(pe=new Map;se!==null;)se.key!==null?pe.set(se.key,se):pe.set(se.index,se),se=se.sibling;return pe}function T(pe,se){return pe=Tl(pe,se),pe.index=0,pe.sibling=null,pe}function P(pe,se,Se){return pe.index=Se,d?(Se=pe.alternate,Se!==null?(Se=Se.index,Se<se?(pe.flags|=2,se):Se):(pe.flags|=2,se)):(pe.flags|=1048576,se)}function V(pe){return d&&pe.alternate===null&&(pe.flags|=2),pe}function te(pe,se,Se,Ke){return se===null||se.tag!==6?(se=W9(Se,pe.mode,Ke),se.return=pe,se):(se=T(se,Se),se.return=pe,se)}function we(pe,se,Se,Ke){var dt=Se.type;return dt===c?it(pe,se,Se.props.children,Ke,Se.key):se!==null&&(se.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&OT(dt)===se.type)?(Ke=T(se,Se.props),Ke.ref=A0(pe,se,Se),Ke.return=pe,Ke):(Ke=vm(Se.type,Se.key,Se.props,null,pe.mode,Ke),Ke.ref=A0(pe,se,Se),Ke.return=pe,Ke)}function ze(pe,se,Se,Ke){return se===null||se.tag!==4||se.stateNode.containerInfo!==Se.containerInfo||se.stateNode.implementation!==Se.implementation?(se=j9(Se,pe.mode,Ke),se.return=pe,se):(se=T(se,Se.children||[]),se.return=pe,se)}function it(pe,se,Se,Ke,dt){return se===null||se.tag!==7?(se=Ju(Se,pe.mode,Ke,dt),se.return=pe,se):(se=T(se,Se),se.return=pe,se)}function Mt(pe,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number")return se=W9(""+se,pe.mode,Se),se.return=pe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return Se=vm(se.type,se.key,se.props,null,pe.mode,Se),Se.ref=A0(pe,null,se),Se.return=pe,Se;case u:return se=j9(se,pe.mode,Se),se.return=pe,se;case w:var Ke=se._init;return Mt(pe,Ke(se._payload),Se)}if(ie(se)||A(se))return se=Ju(se,pe.mode,Se,null),se.return=pe,se;V3(pe,se)}return null}function mt(pe,se,Se,Ke){var dt=se!==null?se.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return dt!==null?null:te(pe,se,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Se.key===dt?we(pe,se,Se,Ke):null;case u:return Se.key===dt?ze(pe,se,Se,Ke):null;case w:return dt=Se._init,mt(pe,se,dt(Se._payload),Ke)}if(ie(Se)||A(Se))return dt!==null?null:it(pe,se,Se,Ke,null);V3(pe,Se)}return null}function An(pe,se,Se,Ke,dt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return pe=pe.get(Se)||null,te(se,pe,""+Ke,dt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case l:return pe=pe.get(Ke.key===null?Se:Ke.key)||null,we(se,pe,Ke,dt);case u:return pe=pe.get(Ke.key===null?Se:Ke.key)||null,ze(se,pe,Ke,dt);case w:var zt=Ke._init;return An(pe,se,Se,zt(Ke._payload),dt)}if(ie(Ke)||A(Ke))return pe=pe.get(Se)||null,it(se,pe,Ke,dt,null);V3(se,Ke)}return null}function ft(pe,se,Se,Ke){for(var dt=null,zt=null,At=se,sn=se=0,qr=null;At!==null&&sn<Se.length;sn++){At.index>sn?(qr=At,At=null):qr=At.sibling;var on=mt(pe,At,Se[sn],Ke);if(on===null){At===null&&(At=qr);break}d&&At&&on.alternate===null&&h(pe,At),se=P(on,se,sn),zt===null?dt=on:zt.sibling=on,zt=on,At=qr}if(sn===Se.length)return v(pe,At),Un&&ju(pe,sn),dt;if(At===null){for(;sn<Se.length;sn++)At=Mt(pe,Se[sn],Ke),At!==null&&(se=P(At,se,sn),zt===null?dt=At:zt.sibling=At,zt=At);return Un&&ju(pe,sn),dt}for(At=E(pe,At);sn<Se.length;sn++)qr=An(At,pe,sn,Se[sn],Ke),qr!==null&&(d&&qr.alternate!==null&&At.delete(qr.key===null?sn:qr.key),se=P(qr,se,sn),zt===null?dt=qr:zt.sibling=qr,zt=qr);return d&&At.forEach(function(Ml){return h(pe,Ml)}),Un&&ju(pe,sn),dt}function yi(pe,se,Se,Ke){var dt=A(Se);if(typeof dt!="function")throw Error(o(150));if(Se=dt.call(Se),Se==null)throw Error(o(151));for(var zt=dt=null,At=se,sn=se=0,qr=null,on=Se.next();At!==null&&!on.done;sn++,on=Se.next()){At.index>sn?(qr=At,At=null):qr=At.sibling;var Ml=mt(pe,At,on.value,Ke);if(Ml===null){At===null&&(At=qr);break}d&&At&&Ml.alternate===null&&h(pe,At),se=P(Ml,se,sn),zt===null?dt=Ml:zt.sibling=Ml,zt=Ml,At=qr}if(on.done)return v(pe,At),Un&&ju(pe,sn),dt;if(At===null){for(;!on.done;sn++,on=Se.next())on=Mt(pe,on.value,Ke),on!==null&&(se=P(on,se,sn),zt===null?dt=on:zt.sibling=on,zt=on);return Un&&ju(pe,sn),dt}for(At=E(pe,At);!on.done;sn++,on=Se.next())on=An(At,pe,sn,on.value,Ke),on!==null&&(d&&on.alternate!==null&&At.delete(on.key===null?sn:on.key),se=P(on,se,sn),zt===null?dt=on:zt.sibling=on,zt=on);return d&&At.forEach(function(WW){return h(pe,WW)}),Un&&ju(pe,sn),dt}function js(pe,se,Se,Ke){if(typeof Se=="object"&&Se!==null&&Se.type===c&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:e:{for(var dt=Se.key,zt=se;zt!==null;){if(zt.key===dt){if(dt=Se.type,dt===c){if(zt.tag===7){v(pe,zt.sibling),se=T(zt,Se.props.children),se.return=pe,pe=se;break e}}else if(zt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&OT(dt)===zt.type){v(pe,zt.sibling),se=T(zt,Se.props),se.ref=A0(pe,zt,Se),se.return=pe,pe=se;break e}v(pe,zt);break}else h(pe,zt);zt=zt.sibling}Se.type===c?(se=Ju(Se.props.children,pe.mode,Ke,Se.key),se.return=pe,pe=se):(Ke=vm(Se.type,Se.key,Se.props,null,pe.mode,Ke),Ke.ref=A0(pe,se,Se),Ke.return=pe,pe=Ke)}return V(pe);case u:e:{for(zt=Se.key;se!==null;){if(se.key===zt)if(se.tag===4&&se.stateNode.containerInfo===Se.containerInfo&&se.stateNode.implementation===Se.implementation){v(pe,se.sibling),se=T(se,Se.children||[]),se.return=pe,pe=se;break e}else{v(pe,se);break}else h(pe,se);se=se.sibling}se=j9(Se,pe.mode,Ke),se.return=pe,pe=se}return V(pe);case w:return zt=Se._init,js(pe,se,zt(Se._payload),Ke)}if(ie(Se))return ft(pe,se,Se,Ke);if(A(Se))return yi(pe,se,Se,Ke);V3(pe,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,se!==null&&se.tag===6?(v(pe,se.sibling),se=T(se,Se),se.return=pe,pe=se):(v(pe,se),se=W9(Se,pe.mode,Ke),se.return=pe,pe=se),V(pe)):v(pe,se)}return js}var Ud=UT(!0),zT=UT(!1),C0={},Hs=fi(C0),P0=fi(C0),zd=fi(C0);function Go(d){if(d===C0)throw Error(o(174));return d}function u9(d,h){Tt(zd,h),Tt(P0,d),Tt(Hs,C0),d=me(h),rn(Hs),Tt(Hs,d)}function Bd(){rn(Hs),rn(P0),rn(zd)}function BT(d){var h=Go(zd.current),v=Go(Hs.current);h=G(v,d.type,h),v!==h&&(Tt(P0,d),Tt(Hs,h))}function c9(d){P0.current===d&&(rn(Hs),rn(P0))}var jn=fi(0);function H3(d){for(var h=d;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||co(v)||un(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var d9=[];function h9(){for(var d=0;d<d9.length;d++){var h=d9[d];Re?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}d9.length=0}var G3=a.ReactCurrentDispatcher,Gs=a.ReactCurrentBatchConfig,Vd=0,tr=null,pi=null,jr=null,$3=!1,R0=!1,I0=0,gW=0;function mi(){throw Error(o(321))}function f9(d,h){if(h===null)return!1;for(var v=0;v<h.length&&v<d.length;v++)if(!ps(d[v],h[v]))return!1;return!0}function p9(d,h,v,E,T,P){if(Vd=P,tr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,G3.current=d===null||d.memoizedState===null?xW:SW,d=v(E,T),R0){P=0;do{if(R0=!1,I0=0,25<=P)throw Error(o(301));P+=1,jr=pi=null,h.updateQueue=null,G3.current=wW,d=v(E,T)}while(R0)}if(G3.current=Y3,h=pi!==null&&pi.next!==null,Vd=0,jr=pi=tr=null,$3=!1,h)throw Error(o(300));return d}function m9(){var d=I0!==0;return I0=0,d}function Ma(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?tr.memoizedState=jr=d:jr=jr.next=d,jr}function $o(){if(pi===null){var d=tr.alternate;d=d!==null?d.memoizedState:null}else d=pi.next;var h=jr===null?tr.memoizedState:jr.next;if(h!==null)jr=h,pi=d;else{if(d===null)throw Error(o(310));pi=d,d={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},jr===null?tr.memoizedState=jr=d:jr=jr.next=d}return jr}function qu(d,h){return typeof h=="function"?h(d):h}function W3(d){var h=$o(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=d;var E=pi,T=E.baseQueue,P=v.pending;if(P!==null){if(T!==null){var V=T.next;T.next=P.next,P.next=V}E.baseQueue=T=P,v.pending=null}if(T!==null){P=T.next,E=E.baseState;var te=V=null,we=null,ze=P;do{var it=ze.lane;if((Vd&it)===it)we!==null&&(we=we.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),E=ze.hasEagerState?ze.eagerState:d(E,ze.action);else{var Mt={lane:it,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};we===null?(te=we=Mt,V=E):we=we.next=Mt,tr.lanes|=it,Gd|=it}ze=ze.next}while(ze!==null&&ze!==P);we===null?V=E:we.next=te,ps(E,h.memoizedState)||(ys=!0),h.memoizedState=E,h.baseState=V,h.baseQueue=we,v.lastRenderedState=E}if(d=v.interleaved,d!==null){T=d;do P=T.lane,tr.lanes|=P,Gd|=P,T=T.next;while(T!==d)}else T===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function j3(d){var h=$o(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=d;var E=v.dispatch,T=v.pending,P=h.memoizedState;if(T!==null){v.pending=null;var V=T=T.next;do P=d(P,V.action),V=V.next;while(V!==T);ps(P,h.memoizedState)||(ys=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),v.lastRenderedState=P}return[P,E]}function VT(){}function HT(d,h){var v=tr,E=$o(),T=h(),P=!ps(E.memoizedState,T);if(P&&(E.memoizedState=T,ys=!0),E=E.queue,k0(WT.bind(null,v,E,d),[d]),E.getSnapshot!==h||P||jr!==null&&jr.memoizedState.tag&1){if(v.flags|=2048,L0(9,$T.bind(null,v,E,T,h),void 0,null),vr===null)throw Error(o(349));Vd&30||GT(v,h,T)}return T}function GT(d,h,v){d.flags|=16384,d={getSnapshot:h,value:v},h=tr.updateQueue,h===null?(h={lastEffect:null,stores:null},tr.updateQueue=h,h.stores=[d]):(v=h.stores,v===null?h.stores=[d]:v.push(d))}function $T(d,h,v,E){h.value=v,h.getSnapshot=E,jT(h)&&$s(d,1,-1)}function WT(d,h,v){return v(function(){jT(h)&&$s(d,1,-1)})}function jT(d){var h=d.getSnapshot;d=d.value;try{var v=h();return!ps(d,v)}catch{return!0}}function g9(d){var h=Ma();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:d},h.queue=d,d=d.dispatch=_W.bind(null,tr,d),[h.memoizedState,d]}function L0(d,h,v,E){return d={tag:d,create:h,destroy:v,deps:E,next:null},h=tr.updateQueue,h===null?(h={lastEffect:null,stores:null},tr.updateQueue=h,h.lastEffect=d.next=d):(v=h.lastEffect,v===null?h.lastEffect=d.next=d:(E=v.next,v.next=d,d.next=E,h.lastEffect=d)),d}function qT(){return $o().memoizedState}function q3(d,h,v,E){var T=Ma();tr.flags|=d,T.memoizedState=L0(1|h,v,void 0,E===void 0?null:E)}function X3(d,h,v,E){var T=$o();E=E===void 0?null:E;var P=void 0;if(pi!==null){var V=pi.memoizedState;if(P=V.destroy,E!==null&&f9(E,V.deps)){T.memoizedState=L0(h,v,P,E);return}}tr.flags|=d,T.memoizedState=L0(1|h,v,P,E)}function y9(d,h){return q3(8390656,8,d,h)}function k0(d,h){return X3(2048,8,d,h)}function XT(d,h){return X3(4,2,d,h)}function YT(d,h){return X3(4,4,d,h)}function KT(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function QT(d,h,v){return v=v!=null?v.concat([d]):null,X3(4,4,KT.bind(null,h,d),v)}function v9(){}function ZT(d,h){var v=$o();h=h===void 0?null:h;var E=v.memoizedState;return E!==null&&h!==null&&f9(h,E[1])?E[0]:(v.memoizedState=[d,h],d)}function JT(d,h){var v=$o();h=h===void 0?null:h;var E=v.memoizedState;return E!==null&&h!==null&&f9(h,E[1])?E[0]:(d=d(),v.memoizedState=[d,h],d)}function yW(d,h){var v=jt;jt=v!==0&&4>v?v:4,d(!0);var E=Gs.transition;Gs.transition={};try{d(!1),h()}finally{jt=v,Gs.transition=E}}function eM(){return $o().memoizedState}function vW(d,h,v){var E=El(d);v={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null},tM(d)?nM(h,v):(rM(d,h,v),v=Fi(),d=$s(d,E,v),d!==null&&iM(d,h,E))}function _W(d,h,v){var E=El(d),T={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null};if(tM(d))nM(h,T);else{rM(d,h,T);var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var V=h.lastRenderedState,te=P(V,v);if(T.hasEagerState=!0,T.eagerState=te,ps(te,V))return}catch{}finally{}v=Fi(),d=$s(d,E,v),d!==null&&iM(d,h,E)}}function tM(d){var h=d.alternate;return d===tr||h!==null&&h===tr}function nM(d,h){R0=$3=!0;var v=d.pending;v===null?h.next=h:(h.next=v.next,v.next=h),d.pending=h}function rM(d,h,v){vr!==null&&d.mode&1&&!(Ht&2)?(d=h.interleaved,d===null?(v.next=v,Ho===null?Ho=[h]:Ho.push(h)):(v.next=d.next,d.next=v),h.interleaved=v):(d=h.pending,d===null?v.next=v:(v.next=d.next,d.next=v),h.pending=v)}function iM(d,h,v){if(v&4194240){var E=h.lanes;E&=d.pendingLanes,v|=E,h.lanes=v,vl(d,v)}}var Y3={readContext:zs,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},xW={readContext:zs,useCallback:function(d,h){return Ma().memoizedState=[d,h===void 0?null:h],d},useContext:zs,useEffect:y9,useImperativeHandle:function(d,h,v){return v=v!=null?v.concat([d]):null,q3(4194308,4,KT.bind(null,h,d),v)},useLayoutEffect:function(d,h){return q3(4194308,4,d,h)},useInsertionEffect:function(d,h){return q3(4,2,d,h)},useMemo:function(d,h){var v=Ma();return h=h===void 0?null:h,d=d(),v.memoizedState=[d,h],d},useReducer:function(d,h,v){var E=Ma();return h=v!==void 0?v(h):h,E.memoizedState=E.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},E.queue=d,d=d.dispatch=vW.bind(null,tr,d),[E.memoizedState,d]},useRef:function(d){var h=Ma();return d={current:d},h.memoizedState=d},useState:g9,useDebugValue:v9,useDeferredValue:function(d){var h=g9(d),v=h[0],E=h[1];return y9(function(){var T=Gs.transition;Gs.transition={};try{E(d)}finally{Gs.transition=T}},[d]),v},useTransition:function(){var d=g9(!1),h=d[0];return d=yW.bind(null,d[1]),Ma().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,v){var E=tr,T=Ma();if(Un){if(v===void 0)throw Error(o(407));v=v()}else{if(v=h(),vr===null)throw Error(o(349));Vd&30||GT(E,h,v)}T.memoizedState=v;var P={value:v,getSnapshot:h};return T.queue=P,y9(WT.bind(null,E,P,d),[d]),E.flags|=2048,L0(9,$T.bind(null,E,P,v,h),void 0,null),v},useId:function(){var d=Ma(),h=vr.identifierPrefix;if(Un){var v=Ta,E=ba;v=(E&~(1<<32-hs(E)-1)).toString(32)+v,h=":"+h+"R"+v,v=I0++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=gW++,h=":"+h+"r"+v.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},SW={readContext:zs,useCallback:ZT,useContext:zs,useEffect:k0,useImperativeHandle:QT,useInsertionEffect:XT,useLayoutEffect:YT,useMemo:JT,useReducer:W3,useRef:qT,useState:function(){return W3(qu)},useDebugValue:v9,useDeferredValue:function(d){var h=W3(qu),v=h[0],E=h[1];return k0(function(){var T=Gs.transition;Gs.transition={};try{E(d)}finally{Gs.transition=T}},[d]),v},useTransition:function(){var d=W3(qu)[0],h=$o().memoizedState;return[d,h]},useMutableSource:VT,useSyncExternalStore:HT,useId:eM,unstable_isNewReconciler:!1},wW={readContext:zs,useCallback:ZT,useContext:zs,useEffect:k0,useImperativeHandle:QT,useInsertionEffect:XT,useLayoutEffect:YT,useMemo:JT,useReducer:j3,useRef:qT,useState:function(){return j3(qu)},useDebugValue:v9,useDeferredValue:function(d){var h=j3(qu),v=h[0],E=h[1];return k0(function(){var T=Gs.transition;Gs.transition={};try{E(d)}finally{Gs.transition=T}},[d]),v},useTransition:function(){var d=j3(qu)[0],h=$o().memoizedState;return[d,h]},useMutableSource:VT,useSyncExternalStore:HT,useId:eM,unstable_isNewReconciler:!1};function _9(d,h){try{var v="",E=h;do v+=$t(E),E=E.return;while(E);var T=v}catch(P){T=`
Error generating stack: `+P.message+`
`+P.stack}return{value:d,source:h,stack:T}}function x9(d,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var EW=typeof WeakMap=="function"?WeakMap:Map;function sM(d,h,v){v=Ea(-1,v),v.tag=3,v.payload={element:null};var E=h.value;return v.callback=function(){dm||(dm=!0,U9=E),x9(d,h)},v}function oM(d,h,v){v=Ea(-1,v),v.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var T=h.value;v.payload=function(){return E(T)},v.callback=function(){x9(d,h)}}var P=d.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){x9(d,h),typeof E!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})}),v}function aM(d,h,v){var E=d.pingCache;if(E===null){E=d.pingCache=new EW;var T=new Set;E.set(h,T)}else T=E.get(h),T===void 0&&(T=new Set,E.set(h,T));T.has(v)||(T.add(v),d=OW.bind(null,d,h,v),h.then(d,d))}function lM(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function uM(d,h,v,E,T){return d.mode&1?(d.flags|=65536,d.lanes=T,d):(d===h?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=Ea(-1,1),h.tag=2,xl(v,h))),v.lanes|=1),d)}function Wo(d){d.flags|=4}function cM(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var D0,N0,K3,Q3;if(He)D0=function(d,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)ce(d,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},N0=function(){},K3=function(d,h,v,E,T){if(d=d.memoizedProps,d!==E){var P=h.stateNode,V=Go(Hs.current);v=he(P,v,d,E,T,V),(h.updateQueue=v)&&Wo(h)}},Q3=function(d,h,v,E){v!==E&&Wo(h)};else if(Te){D0=function(d,h,v,E){for(var T=h.child;T!==null;){if(T.tag===5){var P=T.stateNode;v&&E&&(P=Kt(P,T.type,T.memoizedProps,T)),ce(d,P)}else if(T.tag===6)P=T.stateNode,v&&E&&(P=Jn(P,T.memoizedProps,T)),ce(d,P);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)P=T.child,P!==null&&(P.return=T),D0(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var dM=function(d,h,v,E){for(var T=h.child;T!==null;){if(T.tag===5){var P=T.stateNode;v&&E&&(P=Kt(P,T.type,T.memoizedProps,T)),Gt(d,P)}else if(T.tag===6)P=T.stateNode,v&&E&&(P=Jn(P,T.memoizedProps,T)),Gt(d,P);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)P=T.child,P!==null&&(P.return=T),dM(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};N0=function(d,h){var v=h.stateNode;if(!cM(d,h)){d=v.containerInfo;var E=_t(d);dM(E,h,!1,!1),v.pendingChildren=E,Wo(h),On(d,E)}},K3=function(d,h,v,E,T){var P=d.stateNode,V=d.memoizedProps;if((d=cM(d,h))&&V===E)h.stateNode=P;else{var te=h.stateNode,we=Go(Hs.current),ze=null;V!==E&&(ze=he(te,v,V,E,T,we)),d&&ze===null?h.stateNode=P:(P=$e(P,ze,v,V,E,h,d,te),re(P,v,E,T,we)&&Wo(h),h.stateNode=P,d?Wo(h):D0(P,h,!1,!1))}},Q3=function(d,h,v,E){v!==E?(d=Go(zd.current),v=Go(Hs.current),h.stateNode=Ae(E,d,v,h),Wo(h)):h.stateNode=d.stateNode}}else N0=function(){},K3=function(){},Q3=function(){};function F0(d,h){if(!Un)switch(d.tailMode){case"hidden":h=d.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function gi(d){var h=d.alternate!==null&&d.alternate.child===d.child,v=0,E=0;if(h)for(var T=d.child;T!==null;)v|=T.lanes|T.childLanes,E|=T.subtreeFlags&14680064,E|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)v|=T.lanes|T.childLanes,E|=T.subtreeFlags,E|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=E,d.childLanes=v,h}function bW(d,h,v){var E=h.pendingProps;switch(s9(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(h),null;case 1:return Rr(h.type)&&Ad(),gi(h),null;case 3:return E=h.stateNode,Bd(),rn(gn),rn(er),h9(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(M0(h)?Wo(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,mo!==null&&(V9(mo),mo=null))),N0(d,h),gi(h),null;case 5:c9(h),v=Go(zd.current);var T=h.type;if(d!==null&&h.stateNode!=null)K3(d,h,T,E,v),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!E){if(h.stateNode===null)throw Error(o(166));return gi(h),null}if(d=Go(Hs.current),M0(h)){if(!ve)throw Error(o(175));d=be(h.stateNode,h.type,h.memoizedProps,v,d,h,!T0),h.updateQueue=d,d!==null&&Wo(h)}else{var P=ae(T,E,v,d,h);D0(P,h,!1,!1),h.stateNode=P,re(P,T,E,v,d)&&Wo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return gi(h),null;case 6:if(d&&h.stateNode!=null)Q3(d,h,d.memoizedProps,E);else{if(typeof E!="string"&&h.stateNode===null)throw Error(o(166));if(d=Go(zd.current),v=Go(Hs.current),M0(h)){if(!ve)throw Error(o(176));if(d=h.stateNode,E=h.memoizedProps,(v=ut(d,E,h,!T0))&&(T=ms,T!==null))switch(P=(T.mode&1)!==0,T.tag){case 3:ur(T.stateNode.containerInfo,d,E,P);break;case 5:Di(T.type,T.memoizedProps,T.stateNode,d,E,P)}v&&Wo(h)}else h.stateNode=Ae(E,d,v,h)}return gi(h),null;case 13:if(rn(jn),E=h.memoizedState,Un&&gs!==null&&h.mode&1&&!(h.flags&128)){for(d=gs;d;)d=F(d);return Od(),h.flags|=98560,h}if(E!==null&&E.dehydrated!==null){if(E=M0(h),d===null){if(!E)throw Error(o(318));if(!ve)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ct(d,h)}else Od(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return gi(h),null}return mo!==null&&(V9(mo),mo=null),h.flags&128?(h.lanes=v,h):(E=E!==null,v=!1,d===null?M0(h):v=d.memoizedState!==null,E&&!v&&(h.child.flags|=8192,h.mode&1&&(d===null||jn.current&1?Ir===0&&(Ir=3):G9())),h.updateQueue!==null&&(h.flags|=4),gi(h),null);case 4:return Bd(),N0(d,h),d===null&&Ye(h.stateNode.containerInfo),gi(h),null;case 10:return J8(h.type._context),gi(h),null;case 17:return Rr(h.type)&&Ad(),gi(h),null;case 19:if(rn(jn),T=h.memoizedState,T===null)return gi(h),null;if(E=(h.flags&128)!==0,P=T.rendering,P===null)if(E)F0(T,!1);else{if(Ir!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(P=H3(d),P!==null){for(h.flags|=128,F0(T,!1),d=P.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=v,E=h.child;E!==null;)v=E,T=d,v.flags&=14680066,P=v.alternate,P===null?(v.childLanes=0,v.lanes=T,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=P.childLanes,v.lanes=P.lanes,v.child=P.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=P.memoizedProps,v.memoizedState=P.memoizedState,v.updateQueue=P.updateQueue,v.type=P.type,T=P.dependencies,v.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),E=E.sibling;return Tt(jn,jn.current&1|2),h.child}d=d.sibling}T.tail!==null&&cr()>O9&&(h.flags|=128,E=!0,F0(T,!1),h.lanes=4194304)}else{if(!E)if(d=H3(P),d!==null){if(h.flags|=128,E=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),F0(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Un)return gi(h),null}else 2*cr()-T.renderingStartTime>O9&&v!==1073741824&&(h.flags|=128,E=!0,F0(T,!1),h.lanes=4194304);T.isBackwards?(P.sibling=h.child,h.child=P):(d=T.last,d!==null?d.sibling=P:h.child=P,T.last=P)}return T.tail!==null?(h=T.tail,T.rendering=h,T.tail=h.sibling,T.renderingStartTime=cr(),h.sibling=null,d=jn.current,Tt(jn,E?d&1|2:d&1),h):(gi(h),null);case 22:case 23:return H9(),E=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(h.flags|=8192),E&&h.mode&1?vs&1073741824&&(gi(h),He&&h.subtreeFlags&6&&(h.flags|=8192)):gi(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var TW=a.ReactCurrentOwner,ys=!1;function Ni(d,h,v,E){h.child=d===null?zT(h,null,v,E):Ud(h,d.child,v,E)}function hM(d,h,v,E,T){v=v.render;var P=h.ref;return Dd(h,T),E=p9(d,h,v,E,P,T),v=m9(),d!==null&&!ys?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~T,Aa(d,h,T)):(Un&&v&&i9(h),h.flags|=1,Ni(d,h,E,T),h.child)}function fM(d,h,v,E,T){if(d===null){var P=v.type;return typeof P=="function"&&!$9(P)&&P.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=P,pM(d,h,P,E,T)):(d=vm(v.type,null,E,h,h.mode,T),d.ref=h.ref,d.return=h,h.child=d)}if(P=d.child,!(d.lanes&T)){var V=P.memoizedProps;if(v=v.compare,v=v!==null?v:wn,v(V,E)&&d.ref===h.ref)return Aa(d,h,T)}return h.flags|=1,d=Tl(P,E),d.ref=h.ref,d.return=h,h.child=d}function pM(d,h,v,E,T){if(d!==null&&wn(d.memoizedProps,E)&&d.ref===h.ref)if(ys=!1,(d.lanes&T)!==0)d.flags&131072&&(ys=!0);else return h.lanes=d.lanes,Aa(d,h,T);return S9(d,h,v,E,T)}function mM(d,h,v){var E=h.pendingProps,T=E.children,P=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Tt(Hd,vs),vs|=v;else if(v&1073741824)h.memoizedState={baseLanes:0,cachePool:null},E=P!==null?P.baseLanes:v,Tt(Hd,vs),vs|=E;else return d=P!==null?P.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,Tt(Hd,vs),vs|=d,null;else P!==null?(E=P.baseLanes|v,h.memoizedState=null):E=v,Tt(Hd,vs),vs|=E;return Ni(d,h,T,v),h.child}function gM(d,h){var v=h.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function S9(d,h,v,E,T){var P=Rr(v)?ds:er.current;return P=Vo(h,P),Dd(h,T),v=p9(d,h,v,E,P,T),E=m9(),d!==null&&!ys?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~T,Aa(d,h,T)):(Un&&E&&i9(h),h.flags|=1,Ni(d,h,v,T),h.child)}function yM(d,h,v,E,T){if(Rr(v)){var P=!0;wa(h)}else P=!1;if(Dd(h,T),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),IT(h,v,E),r9(h,v,E,T),E=!0;else if(d===null){var V=h.stateNode,te=h.memoizedProps;V.props=te;var we=V.context,ze=v.contextType;typeof ze=="object"&&ze!==null?ze=zs(ze):(ze=Rr(v)?ds:er.current,ze=Vo(h,ze));var it=v.getDerivedStateFromProps,Mt=typeof it=="function"||typeof V.getSnapshotBeforeUpdate=="function";Mt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==E||we!==ze)&&LT(h,V,E,ze),_l=!1;var mt=h.memoizedState;V.state=mt,O3(h,E,V,T),we=h.memoizedState,te!==E||mt!==we||gn.current||_l?(typeof it=="function"&&(n9(h,v,it,E),we=h.memoizedState),(te=_l||RT(h,v,te,E,mt,we,ze))?(Mt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(h.flags|=4194308)):(typeof V.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=we),V.props=E,V.state=we,V.context=ze,E=te):(typeof V.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{V=h.stateNode,MT(d,h),te=h.memoizedProps,ze=h.type===h.elementType?te:qt(h.type,te),V.props=ze,Mt=h.pendingProps,mt=V.context,we=v.contextType,typeof we=="object"&&we!==null?we=zs(we):(we=Rr(v)?ds:er.current,we=Vo(h,we));var An=v.getDerivedStateFromProps;(it=typeof An=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==Mt||mt!==we)&&LT(h,V,E,we),_l=!1,mt=h.memoizedState,V.state=mt,O3(h,E,V,T);var ft=h.memoizedState;te!==Mt||mt!==ft||gn.current||_l?(typeof An=="function"&&(n9(h,v,An,E),ft=h.memoizedState),(ze=_l||RT(h,v,ze,E,mt,ft,we)||!1)?(it||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(E,ft,we),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(E,ft,we)),typeof V.componentDidUpdate=="function"&&(h.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===d.memoizedProps&&mt===d.memoizedState||(h.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&mt===d.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=ft),V.props=E,V.state=ft,V.context=we,E=ze):(typeof V.componentDidUpdate!="function"||te===d.memoizedProps&&mt===d.memoizedState||(h.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&mt===d.memoizedState||(h.flags|=1024),E=!1)}return w9(d,h,v,E,P,T)}function w9(d,h,v,E,T,P){gM(d,h);var V=(h.flags&128)!==0;if(!E&&!V)return T&&Cd(h,v,!1),Aa(d,h,P);E=h.stateNode,TW.current=h;var te=V&&typeof v.getDerivedStateFromError!="function"?null:E.render();return h.flags|=1,d!==null&&V?(h.child=Ud(h,d.child,null,P),h.child=Ud(h,null,te,P)):Ni(d,h,te,P),h.memoizedState=E.state,T&&Cd(h,v,!0),h.child}function vM(d){var h=d.stateNode;h.pendingContext?R3(d,h.pendingContext,h.pendingContext!==h.context):h.context&&R3(d,h.context,!1),u9(d,h.containerInfo)}function _M(d,h,v,E,T){return Od(),l9(T),h.flags|=256,Ni(d,h,v,E),h.child}var Z3={dehydrated:null,treeContext:null,retryLane:0};function J3(d){return{baseLanes:d,cachePool:null}}function xM(d,h,v){var E=h.pendingProps,T=jn.current,P=!1,V=(h.flags&128)!==0,te;if((te=V)||(te=d!==null&&d.memoizedState===null?!1:(T&2)!==0),te?(P=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),Tt(jn,T&1),d===null)return a9(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?un(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(T=E.children,d=E.fallback,P?(E=h.mode,P=h.child,T={mode:"hidden",children:T},!(E&1)&&P!==null?(P.childLanes=0,P.pendingProps=T):P=_m(T,E,0,null),d=Ju(d,E,v,null),P.return=h,d.return=h,P.sibling=d,h.child=P,h.child.memoizedState=J3(v),h.memoizedState=Z3,d):E9(h,T));if(T=d.memoizedState,T!==null){if(te=T.dehydrated,te!==null){if(V)return h.flags&256?(h.flags&=-257,em(d,h,v,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(P=E.fallback,T=h.mode,E=_m({mode:"visible",children:E.children},T,0,null),P=Ju(P,T,v,null),P.flags|=2,E.return=h,P.return=h,E.sibling=P,h.child=E,h.mode&1&&Ud(h,d.child,null,v),h.child.memoizedState=J3(v),h.memoizedState=Z3,P);if(!(h.mode&1))h=em(d,h,v,null);else if(un(te))h=em(d,h,v,Error(o(419)));else if(E=(v&d.childLanes)!==0,ys||E){if(E=vr,E!==null){switch(v&-v){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}E=P&(E.suspendedLanes|v)?0:P,E!==0&&E!==T.retryLane&&(T.retryLane=E,$s(d,E,-1))}G9(),h=em(d,h,v,Error(o(421)))}else co(te)?(h.flags|=128,h.child=d.child,h=UW.bind(null,d),Gr(te,h),h=null):(v=T.treeContext,ve&&(gs=le(te),ms=h,Un=!0,mo=null,T0=!1,v!==null&&(Bs[Vs++]=ba,Bs[Vs++]=Ta,Bs[Vs++]=Wu,ba=v.id,Ta=v.overflow,Wu=h)),h=E9(h,h.pendingProps.children),h.flags|=4096);return h}return P?(E=wM(d,h,E.children,E.fallback,v),P=h.child,T=d.child.memoizedState,P.memoizedState=T===null?J3(v):{baseLanes:T.baseLanes|v,cachePool:null},P.childLanes=d.childLanes&~v,h.memoizedState=Z3,E):(v=SM(d,h,E.children,v),h.memoizedState=null,v)}return P?(E=wM(d,h,E.children,E.fallback,v),P=h.child,T=d.child.memoizedState,P.memoizedState=T===null?J3(v):{baseLanes:T.baseLanes|v,cachePool:null},P.childLanes=d.childLanes&~v,h.memoizedState=Z3,E):(v=SM(d,h,E.children,v),h.memoizedState=null,v)}function E9(d,h){return h=_m({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function SM(d,h,v,E){var T=d.child;return d=T.sibling,v=Tl(T,{mode:"visible",children:v}),!(h.mode&1)&&(v.lanes=E),v.return=h,v.sibling=null,d!==null&&(E=h.deletions,E===null?(h.deletions=[d],h.flags|=16):E.push(d)),h.child=v}function wM(d,h,v,E,T){var P=h.mode;d=d.child;var V=d.sibling,te={mode:"hidden",children:v};return!(P&1)&&h.child!==d?(v=h.child,v.childLanes=0,v.pendingProps=te,h.deletions=null):(v=Tl(d,te),v.subtreeFlags=d.subtreeFlags&14680064),V!==null?E=Tl(V,E):(E=Ju(E,P,T,null),E.flags|=2),E.return=h,v.return=h,v.sibling=E,h.child=v,E}function em(d,h,v,E){return E!==null&&l9(E),Ud(h,d.child,null,v),d=E9(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function EM(d,h,v){d.lanes|=h;var E=d.alternate;E!==null&&(E.lanes|=h),e9(d.return,h,v)}function b9(d,h,v,E,T){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:T}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=E,P.tail=v,P.tailMode=T)}function bM(d,h,v){var E=h.pendingProps,T=E.revealOrder,P=E.tail;if(Ni(d,h,E.children,v),E=jn.current,E&2)E=E&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&EM(d,v,h);else if(d.tag===19)EM(d,v,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(Tt(jn,E),!(h.mode&1))h.memoizedState=null;else switch(T){case"forwards":for(v=h.child,T=null;v!==null;)d=v.alternate,d!==null&&H3(d)===null&&(T=v),v=v.sibling;v=T,v===null?(T=h.child,h.child=null):(T=v.sibling,v.sibling=null),b9(h,!1,T,v,P);break;case"backwards":for(v=null,T=h.child,h.child=null;T!==null;){if(d=T.alternate,d!==null&&H3(d)===null){h.child=T;break}d=T.sibling,T.sibling=v,v=T,T=d}b9(h,!0,v,null,P);break;case"together":b9(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Aa(d,h,v){if(d!==null&&(h.dependencies=d.dependencies),Gd|=h.lanes,!(v&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,v=Tl(d,d.pendingProps),h.child=v,v.return=h;d.sibling!==null;)d=d.sibling,v=v.sibling=Tl(d,d.pendingProps),v.return=h;v.sibling=null}return h.child}function MW(d,h,v){switch(h.tag){case 3:vM(h),Od();break;case 5:BT(h);break;case 1:Rr(h.type)&&wa(h);break;case 4:u9(h,h.stateNode.containerInfo);break;case 10:b0(h,h.type._context,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(Tt(jn,jn.current&1),h.flags|=128,null):v&h.child.childLanes?xM(d,h,v):(Tt(jn,jn.current&1),d=Aa(d,h,v),d!==null?d.sibling:null);Tt(jn,jn.current&1);break;case 19:if(E=(v&h.childLanes)!==0,d.flags&128){if(E)return bM(d,h,v);h.flags|=128}var T=h.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Tt(jn,jn.current),E)break;return null;case 22:case 23:return h.lanes=0,mM(d,h,v)}return Aa(d,h,v)}function AW(d,h){switch(s9(h),h.tag){case 1:return Rr(h.type)&&Ad(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Bd(),rn(gn),rn(er),h9(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return c9(h),null;case 13:if(rn(jn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Od()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return rn(jn),null;case 4:return Bd(),null;case 10:return J8(h.type._context),null;case 22:case 23:return H9(),null;case 24:return null;default:return null}}var tm=!1,Xu=!1,CW=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function nm(d,h){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(E){Qi(d,h,E)}else v.current=null}function T9(d,h,v){try{v()}catch(E){Qi(d,h,E)}}var TM=!1;function PW(d,h){for(Y(d.containerInfo),Xe=h;Xe!==null;)if(d=Xe,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Xe=h;else for(;Xe!==null;){d=Xe;try{var v=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,T=v.memoizedState,P=d.stateNode,V=P.getSnapshotBeforeUpdate(d.elementType===d.type?E:qt(d.type,E),T);P.__reactInternalSnapshotBeforeUpdate=V}break;case 3:He&&Fe(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){Qi(d,d.return,te)}if(h=d.sibling,h!==null){h.return=d.return,Xe=h;break}Xe=d.return}return v=TM,TM=!1,v}function Yu(d,h,v){var E=h.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var T=E=E.next;do{if((T.tag&d)===d){var P=T.destroy;T.destroy=void 0,P!==void 0&&T9(h,v,P)}T=T.next}while(T!==E)}}function O0(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&d)===d){var E=v.create;v.destroy=E()}v=v.next}while(v!==h)}}function M9(d){var h=d.ref;if(h!==null){var v=d.stateNode;switch(d.tag){case 5:d=fe(v);break;default:d=v}typeof h=="function"?h(d):h.current=d}}function MM(d,h,v){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(kd,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var E=d=d.next;do{var T=E,P=T.destroy;T=T.tag,P!==void 0&&(T&2||T&4)&&T9(h,v,P),E=E.next}while(E!==d)}break;case 1:if(nm(h,v),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(V){Qi(h,v,V)}break;case 5:nm(h,v);break;case 4:He?LM(d,h,v):Te&&Te&&(h=h.stateNode.containerInfo,v=_t(h),Hr(h,v))}}function AM(d,h,v){for(var E=h;;)if(MM(d,E,v),E.child===null||He&&E.tag===4){if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function CM(d){var h=d.alternate;h!==null&&(d.alternate=null,CM(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&st(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function PM(d){return d.tag===5||d.tag===3||d.tag===4}function RM(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||PM(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function IM(d){if(He){e:{for(var h=d.return;h!==null;){if(PM(h))break e;h=h.return}throw Error(o(160))}var v=h;switch(v.tag){case 5:h=v.stateNode,v.flags&32&&(Ne(h),v.flags&=-33),v=RM(d),C9(d,v,h);break;case 3:case 4:h=v.stateNode.containerInfo,v=RM(d),A9(d,v,h);break;default:throw Error(o(161))}}}function A9(d,h,v){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?oe(v,d,h):qe(v,d);else if(E!==4&&(d=d.child,d!==null))for(A9(d,h,v),d=d.sibling;d!==null;)A9(d,h,v),d=d.sibling}function C9(d,h,v){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?K(v,d,h):lt(v,d);else if(E!==4&&(d=d.child,d!==null))for(C9(d,h,v),d=d.sibling;d!==null;)C9(d,h,v),d=d.sibling}function LM(d,h,v){for(var E=h,T=!1,P,V;;){if(!T){T=E.return;e:for(;;){if(T===null)throw Error(o(160));switch(P=T.stateNode,T.tag){case 5:V=!1;break e;case 3:P=P.containerInfo,V=!0;break e;case 4:P=P.containerInfo,V=!0;break e}T=T.return}T=!0}if(E.tag===5||E.tag===6)AM(d,E,v),V?Le(P,E.stateNode):xe(P,E.stateNode);else if(E.tag===18)V?Ot(P,E.stateNode):Nt(P,E.stateNode);else if(E.tag===4){if(E.child!==null){P=E.stateNode.containerInfo,V=!0,E.child.return=E,E=E.child;continue}}else if(MM(d,E,v),E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return,E.tag===4&&(T=!1)}E.sibling.return=E.return,E=E.sibling}}function P9(d,h){if(He){switch(h.tag){case 0:case 11:case 14:case 15:Yu(3,h,h.return),O0(3,h),Yu(5,h,h.return);return;case 1:return;case 5:var v=h.stateNode;if(v!=null){var E=h.memoizedProps;d=d!==null?d.memoizedProps:E;var T=h.type,P=h.updateQueue;h.updateQueue=null,P!==null&&N(v,P,T,d,E,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));v=h.memoizedProps,H(h.stateNode,d!==null?d.memoizedProps:v,v);return;case 3:ve&&d!==null&&d.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);return;case 12:return;case 13:rm(h);return;case 19:rm(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Yu(3,h,h.return),O0(3,h),Yu(5,h,h.return);return;case 12:return;case 13:rm(h);return;case 19:rm(h);return;case 3:ve&&d!==null&&d.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Te){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Hr(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function rm(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new CW),h.forEach(function(E){var T=zW.bind(null,d,E);v.has(E)||(v.add(E),E.then(T,T))})}}function RW(d,h){for(Xe=h;Xe!==null;){h=Xe;var v=h.deletions;if(v!==null)for(var E=0;E<v.length;E++){var T=v[E];try{var P=d;He?LM(P,T,h):AM(P,T,h);var V=T.alternate;V!==null&&(V.return=null),T.return=null}catch(dt){Qi(T,h,dt)}}if(v=h.child,h.subtreeFlags&12854&&v!==null)v.return=h,Xe=v;else for(;Xe!==null;){h=Xe;try{var te=h.flags;if(te&32&&He&&Ne(h.stateNode),te&512){var we=h.alternate;if(we!==null){var ze=we.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(te&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var it=h.alternate;(it===null||it.memoizedState===null)&&(F9=cr())}break;case 22:var Mt=h.memoizedState!==null,mt=h.alternate,An=mt!==null&&mt.memoizedState!==null;if(v=h,He){e:if(E=v,T=Mt,P=null,He)for(var ft=E;;){if(ft.tag===5){if(P===null){P=ft;var yi=ft.stateNode;T?Be(yi):ue(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(P===null){var js=ft.stateNode;T?W(js):Ee(js,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===E)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===E)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===E)break e;P===ft&&(P=null),ft=ft.return}P===ft&&(P=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Mt&&!An&&v.mode&1){Xe=v;for(var pe=v.child;pe!==null;){for(v=Xe=pe;Xe!==null;){E=Xe;var se=E.child;switch(E.tag){case 0:case 11:case 14:case 15:Yu(4,E,E.return);break;case 1:nm(E,E.return);var Se=E.stateNode;if(typeof Se.componentWillUnmount=="function"){var Ke=E.return;try{Se.props=E.memoizedProps,Se.state=E.memoizedState,Se.componentWillUnmount()}catch(dt){Qi(E,Ke,dt)}}break;case 5:nm(E,E.return);break;case 22:if(E.memoizedState!==null){NM(v);continue}}se!==null?(se.return=E,Xe=se):NM(v)}pe=pe.sibling}}}switch(te&4102){case 2:IM(h),h.flags&=-3;break;case 6:IM(h),h.flags&=-3,P9(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,P9(h.alternate,h);break;case 4:P9(h.alternate,h)}}catch(dt){Qi(h,h.return,dt)}if(v=h.sibling,v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}}function IW(d,h,v){Xe=d,kM(d)}function kM(d,h,v){for(var E=(d.mode&1)!==0;Xe!==null;){var T=Xe,P=T.child;if(T.tag===22&&E){var V=T.memoizedState!==null||tm;if(!V){var te=T.alternate,we=te!==null&&te.memoizedState!==null||Xu;te=tm;var ze=Xu;if(tm=V,(Xu=we)&&!ze)for(Xe=T;Xe!==null;)V=Xe,we=V.child,V.tag===22&&V.memoizedState!==null?FM(T):we!==null?(we.return=V,Xe=we):FM(T);for(;P!==null;)Xe=P,kM(P),P=P.sibling;Xe=T,tm=te,Xu=ze}DM(d)}else T.subtreeFlags&8772&&P!==null?(P.return=T,Xe=P):DM(d)}}function DM(d){for(;Xe!==null;){var h=Xe;if(h.flags&8772){var v=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Xu||O0(5,h);break;case 1:var E=h.stateNode;if(h.flags&4&&!Xu)if(v===null)E.componentDidMount();else{var T=h.elementType===h.type?v.memoizedProps:qt(h.type,v.memoizedProps);E.componentDidUpdate(T,v.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&CT(h,P,E);break;case 3:var V=h.updateQueue;if(V!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=fe(h.child.stateNode);break;case 1:v=h.child.stateNode}CT(h,V,v)}break;case 5:var te=h.stateNode;v===null&&h.flags&4&&J(te,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&h.memoizedState===null){var we=h.alternate;if(we!==null){var ze=we.memoizedState;if(ze!==null){var it=ze.dehydrated;it!==null&&Dt(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Xu||h.flags&512&&M9(h)}catch(Mt){Qi(h,h.return,Mt)}}if(h===d){Xe=null;break}if(v=h.sibling,v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}function NM(d){for(;Xe!==null;){var h=Xe;if(h===d){Xe=null;break}var v=h.sibling;if(v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}function FM(d){for(;Xe!==null;){var h=Xe;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{O0(4,h)}catch(we){Qi(h,v,we)}break;case 1:var E=h.stateNode;if(typeof E.componentDidMount=="function"){var T=h.return;try{E.componentDidMount()}catch(we){Qi(h,T,we)}}var P=h.return;try{M9(h)}catch(we){Qi(h,P,we)}break;case 5:var V=h.return;try{M9(h)}catch(we){Qi(h,V,we)}}}catch(we){Qi(h,h.return,we)}if(h===d){Xe=null;break}var te=h.sibling;if(te!==null){te.return=h.return,Xe=te;break}Xe=h.return}}var im=0,sm=1,om=2,am=3,lm=4;if(typeof Symbol=="function"&&Symbol.for){var U0=Symbol.for;im=U0("selector.component"),sm=U0("selector.has_pseudo_class"),om=U0("selector.role"),am=U0("selector.test_id"),lm=U0("selector.text")}function R9(d){var h=Ce(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=It(d),d===null)throw Error(o(362));return d.stateNode.current}function I9(d,h){switch(h.$$typeof){case im:if(d.type===h.value)return!0;break;case sm:e:{h=h.value,d=[d,0];for(var v=0;v<d.length;){var E=d[v++],T=d[v++],P=h[T];if(E.tag!==5||!ge(E)){for(;P!=null&&I9(E,P);)T++,P=h[T];if(T===h.length){h=!0;break e}else for(E=E.child;E!==null;)d.push(E,T),E=E.sibling}}h=!1}return h;case om:if(d.tag===5&&Ie(d.stateNode,h.value))return!0;break;case lm:if((d.tag===5||d.tag===6)&&(d=D(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case am:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function L9(d){switch(d.$$typeof){case im:return"<"+(R(d.value)||"Unknown")+">";case sm:return":has("+(L9(d)||"")+")";case om:return'[role="'+d.value+'"]';case lm:return'"'+d.value+'"';case am:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function OM(d,h){var v=[];d=[d,0];for(var E=0;E<d.length;){var T=d[E++],P=d[E++],V=h[P];if(T.tag!==5||!ge(T)){for(;V!=null&&I9(T,V);)P++,V=h[P];if(P===h.length)v.push(T);else for(T=T.child;T!==null;)d.push(T,P),T=T.sibling}}return v}function k9(d,h){if(!pt)throw Error(o(363));d=R9(d),d=OM(d,h),h=[],d=Array.from(d);for(var v=0;v<d.length;){var E=d[v++];if(E.tag===5)ge(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return h}var LW=Math.ceil,um=a.ReactCurrentDispatcher,D9=a.ReactCurrentOwner,dr=a.ReactCurrentBatchConfig,Ht=0,vr=null,_r=null,ri=0,vs=0,Hd=fi(0),Ir=0,z0=null,Gd=0,cm=0,N9=0,B0=null,Yi=null,F9=0,O9=1/0;function $d(){O9=cr()+500}var dm=!1,U9=null,Sl=null,hm=!1,wl=null,fm=0,V0=0,z9=null,pm=-1,mm=0;function Fi(){return Ht&6?cr():pm!==-1?pm:pm=cr()}function El(d){return d.mode&1?Ht&2&&ri!==0?ri&-ri:Sn.transition!==null?(mm===0&&(d=Pd,Pd<<=1,!(Pd&4194240)&&(Pd=64),mm=d),mm):(d=jt,d!==0?d:Ve()):1}function $s(d,h,v){if(50<V0)throw V0=0,z9=null,Error(o(185));var E=gm(d,h);return E===null?null:(Bu(E,h,v),(!(Ht&2)||E!==vr)&&(E===vr&&(!(Ht&2)&&(cm|=h),Ir===4&&bl(E,ri)),Ki(E,v),h===1&&Ht===0&&!(d.mode&1)&&($d(),U&&wt())),E)}function gm(d,h){d.lanes|=h;var v=d.alternate;for(v!==null&&(v.lanes|=h),v=d,d=d.return;d!==null;)d.childLanes|=h,v=d.alternate,v!==null&&(v.childLanes|=h),v=d,d=d.return;return v.tag===3?v.stateNode:null}function Ki(d,h){var v=d.callbackNode;Y8(d,h);var E=Id(d,d===vr?ri:0);if(E===0)v!==null&&k3(v),d.callbackNode=null,d.callbackPriority=0;else if(h=E&-E,d.callbackPriority!==h){if(v!=null&&k3(v),h===1)d.tag===0?Je(zM.bind(null,d)):ye(zM.bind(null,d)),at?ot(function(){Ht===0&&wt()}):Vu(fo,wt),v=null;else{switch(Ld(E)){case 1:v=fo;break;case 4:v=Hu;break;case 16:v=E0;break;case 536870912:v=N3;break;default:v=E0}v=XM(v,UM.bind(null,d))}d.callbackPriority=h,d.callbackNode=v}}function UM(d,h){if(pm=-1,mm=0,Ht&6)throw Error(o(327));var v=d.callbackNode;if(Zu()&&d.callbackNode!==v)return null;var E=Id(d,d===vr?ri:0);if(E===0)return null;if(E&30||E&d.expiredLanes||h)h=ym(d,E);else{h=E;var T=Ht;Ht|=2;var P=HM();(vr!==d||ri!==h)&&($d(),Ku(d,h));do try{NW();break}catch(te){VM(d,te)}while(1);$u(),um.current=P,Ht=T,_r!==null?h=0:(vr=null,ri=0,h=Ir)}if(h!==0){if(h===2&&(T=zu(d),T!==0&&(E=T,h=B9(d,T))),h===1)throw v=z0,Ku(d,0),bl(d,E),Ki(d,cr()),v;if(h===6)bl(d,E);else{if(T=d.current.alternate,!(E&30)&&!kW(T)&&(h=ym(d,E),h===2&&(P=zu(d),P!==0&&(E=P,h=B9(d,P))),h===1))throw v=z0,Ku(d,0),bl(d,E),Ki(d,cr()),v;switch(d.finishedWork=T,d.finishedLanes=E,h){case 0:case 1:throw Error(o(345));case 2:Qu(d,Yi);break;case 3:if(bl(d,E),(E&130023424)===E&&(h=F9+500-cr(),10<h)){if(Id(d,0)!==0)break;if(T=d.suspendedLanes,(T&E)!==E){Fi(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=j(Qu.bind(null,d,Yi),h);break}Qu(d,Yi);break;case 4:if(bl(d,E),(E&4194240)===E)break;for(h=d.eventTimes,T=-1;0<E;){var V=31-hs(E);P=1<<V,V=h[V],V>T&&(T=V),E&=~P}if(E=T,E=cr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*LW(E/1960))-E,10<E){d.timeoutHandle=j(Qu.bind(null,d,Yi),E);break}Qu(d,Yi);break;case 5:Qu(d,Yi);break;default:throw Error(o(329))}}}return Ki(d,cr()),d.callbackNode===v?UM.bind(null,d):null}function B9(d,h){var v=B0;return d.current.memoizedState.isDehydrated&&(Ku(d,h).flags|=256),d=ym(d,h),d!==2&&(h=Yi,Yi=v,h!==null&&V9(h)),d}function V9(d){Yi===null?Yi=d:Yi.push.apply(Yi,d)}function kW(d){for(var h=d;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var E=0;E<v.length;E++){var T=v[E],P=T.getSnapshot;T=T.value;try{if(!ps(P(),T))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function bl(d,h){for(h&=~N9,h&=~cm,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var v=31-hs(h),E=1<<v;d[v]=-1,h&=~E}}function zM(d){if(Ht&6)throw Error(o(327));Zu();var h=Id(d,0);if(!(h&1))return Ki(d,cr()),null;var v=ym(d,h);if(d.tag!==0&&v===2){var E=zu(d);E!==0&&(h=E,v=B9(d,E))}if(v===1)throw v=z0,Ku(d,0),bl(d,h),Ki(d,cr()),v;if(v===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Qu(d,Yi),Ki(d,cr()),null}function BM(d){wl!==null&&wl.tag===0&&!(Ht&6)&&Zu();var h=Ht;Ht|=1;var v=dr.transition,E=jt;try{if(dr.transition=null,jt=1,d)return d()}finally{jt=E,dr.transition=v,Ht=h,!(Ht&6)&&wt()}}function H9(){vs=Hd.current,rn(Hd)}function Ku(d,h){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==nt&&(d.timeoutHandle=nt,Ze(v)),_r!==null)for(v=_r.return;v!==null;){var E=v;switch(s9(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Ad();break;case 3:Bd(),rn(gn),rn(er),h9();break;case 5:c9(E);break;case 4:Bd();break;case 13:rn(jn);break;case 19:rn(jn);break;case 10:J8(E.type._context);break;case 22:case 23:H9()}v=v.return}if(vr=d,_r=d=Tl(d.current,null),ri=vs=h,Ir=0,z0=null,N9=cm=Gd=0,Yi=B0=null,Ho!==null){for(h=0;h<Ho.length;h++)if(v=Ho[h],E=v.interleaved,E!==null){v.interleaved=null;var T=E.next,P=v.pending;if(P!==null){var V=P.next;P.next=T,E.next=V}v.pending=E}Ho=null}return d}function VM(d,h){do{var v=_r;try{if($u(),G3.current=Y3,$3){for(var E=tr.memoizedState;E!==null;){var T=E.queue;T!==null&&(T.pending=null),E=E.next}$3=!1}if(Vd=0,jr=pi=tr=null,R0=!1,I0=0,D9.current=null,v===null||v.return===null){Ir=1,z0=h,_r=null;break}e:{var P=d,V=v.return,te=v,we=h;if(h=ri,te.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var ze=we,it=te,Mt=it.tag;if(!(it.mode&1)&&(Mt===0||Mt===11||Mt===15)){var mt=it.alternate;mt?(it.updateQueue=mt.updateQueue,it.memoizedState=mt.memoizedState,it.lanes=mt.lanes):(it.updateQueue=null,it.memoizedState=null)}var An=lM(V);if(An!==null){An.flags&=-257,uM(An,V,te,P,h),An.mode&1&&aM(P,ze,h),h=An,we=ze;var ft=h.updateQueue;if(ft===null){var yi=new Set;yi.add(we),h.updateQueue=yi}else ft.add(we);break e}else{if(!(h&1)){aM(P,ze,h),G9();break e}we=Error(o(426))}}else if(Un&&te.mode&1){var js=lM(V);if(js!==null){!(js.flags&65536)&&(js.flags|=256),uM(js,V,te,P,h),l9(we);break e}}P=we,Ir!==4&&(Ir=2),B0===null?B0=[P]:B0.push(P),we=_9(we,te),te=V;do{switch(te.tag){case 3:te.flags|=65536,h&=-h,te.lanes|=h;var pe=sM(te,we,h);AT(te,pe);break e;case 1:P=we;var se=te.type,Se=te.stateNode;if(!(te.flags&128)&&(typeof se.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Sl===null||!Sl.has(Se)))){te.flags|=65536,h&=-h,te.lanes|=h;var Ke=oM(te,P,h);AT(te,Ke);break e}}te=te.return}while(te!==null)}$M(v)}catch(dt){h=dt,_r===v&&v!==null&&(_r=v=v.return);continue}break}while(1)}function HM(){var d=um.current;return um.current=Y3,d===null?Y3:d}function G9(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),vr===null||!(Gd&268435455)&&!(cm&268435455)||bl(vr,ri)}function ym(d,h){var v=Ht;Ht|=2;var E=HM();vr===d&&ri===h||Ku(d,h);do try{DW();break}catch(T){VM(d,T)}while(1);if($u(),Ht=v,um.current=E,_r!==null)throw Error(o(261));return vr=null,ri=0,Ir}function DW(){for(;_r!==null;)GM(_r)}function NW(){for(;_r!==null&&!D3();)GM(_r)}function GM(d){var h=qM(d.alternate,d,vs);d.memoizedProps=d.pendingProps,h===null?$M(d):_r=h,D9.current=null}function $M(d){var h=d;do{var v=h.alternate;if(d=h.return,h.flags&32768){if(v=AW(v,h),v!==null){v.flags&=32767,_r=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Ir=6,_r=null;return}}else if(v=bW(v,h,vs),v!==null){_r=v;return}if(h=h.sibling,h!==null){_r=h;return}_r=h=d}while(h!==null);Ir===0&&(Ir=5)}function Qu(d,h){var v=jt,E=dr.transition;try{dr.transition=null,jt=1,FW(d,h,v)}finally{dr.transition=E,jt=v}return null}function FW(d,h,v){do Zu();while(wl!==null);if(Ht&6)throw Error(o(327));var E=d.finishedWork,T=d.finishedLanes;if(E===null)return null;if(d.finishedWork=null,d.finishedLanes=0,E===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var P=E.lanes|E.childLanes;if(K8(d,P),d===vr&&(_r=vr=null,ri=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||hm||(hm=!0,XM(E0,function(){return Zu(),null})),P=(E.flags&15990)!==0,E.subtreeFlags&15990||P){P=dr.transition,dr.transition=null;var V=jt;jt=1;var te=Ht;Ht|=4,D9.current=null,PW(d,E),RW(d,E),X(d.containerInfo),d.current=E,IW(E),w0(),Ht=te,jt=V,dr.transition=P}else d.current=E;if(hm&&(hm=!1,wl=d,fm=T),P=d.pendingLanes,P===0&&(Sl=null),Q8(E.stateNode),Ki(d,cr()),h!==null)for(v=d.onRecoverableError,E=0;E<h.length;E++)v(h[E]);if(dm)throw dm=!1,d=U9,U9=null,d;return fm&1&&d.tag!==0&&Zu(),P=d.pendingLanes,P&1?d===z9?V0++:(V0=0,z9=d):V0=0,wt(),null}function Zu(){if(wl!==null){var d=Ld(fm),h=dr.transition,v=jt;try{if(dr.transition=null,jt=16>d?16:d,wl===null)var E=!1;else{if(d=wl,wl=null,fm=0,Ht&6)throw Error(o(331));var T=Ht;for(Ht|=4,Xe=d.current;Xe!==null;){var P=Xe,V=P.child;if(Xe.flags&16){var te=P.deletions;if(te!==null){for(var we=0;we<te.length;we++){var ze=te[we];for(Xe=ze;Xe!==null;){var it=Xe;switch(it.tag){case 0:case 11:case 15:Yu(8,it,P)}var Mt=it.child;if(Mt!==null)Mt.return=it,Xe=Mt;else for(;Xe!==null;){it=Xe;var mt=it.sibling,An=it.return;if(CM(it),it===ze){Xe=null;break}if(mt!==null){mt.return=An,Xe=mt;break}Xe=An}}}var ft=P.alternate;if(ft!==null){var yi=ft.child;if(yi!==null){ft.child=null;do{var js=yi.sibling;yi.sibling=null,yi=js}while(yi!==null)}}Xe=P}}if(P.subtreeFlags&2064&&V!==null)V.return=P,Xe=V;else e:for(;Xe!==null;){if(P=Xe,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Yu(9,P,P.return)}var pe=P.sibling;if(pe!==null){pe.return=P.return,Xe=pe;break e}Xe=P.return}}var se=d.current;for(Xe=se;Xe!==null;){V=Xe;var Se=V.child;if(V.subtreeFlags&2064&&Se!==null)Se.return=V,Xe=Se;else e:for(V=se;Xe!==null;){if(te=Xe,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:O0(9,te)}}catch(dt){Qi(te,te.return,dt)}if(te===V){Xe=null;break e}var Ke=te.sibling;if(Ke!==null){Ke.return=te.return,Xe=Ke;break e}Xe=te.return}}if(Ht=T,wt(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(kd,d)}catch{}E=!0}return E}finally{jt=v,dr.transition=h}}return!1}function WM(d,h,v){h=_9(v,h),h=sM(d,h,1),xl(d,h),h=Fi(),d=gm(d,1),d!==null&&(Bu(d,1,h),Ki(d,h))}function Qi(d,h,v){if(d.tag===3)WM(d,d,v);else for(;h!==null;){if(h.tag===3){WM(h,d,v);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Sl===null||!Sl.has(E))){d=_9(v,d),d=oM(h,d,1),xl(h,d),d=Fi(),h=gm(h,1),h!==null&&(Bu(h,1,d),Ki(h,d));break}}h=h.return}}function OW(d,h,v){var E=d.pingCache;E!==null&&E.delete(h),h=Fi(),d.pingedLanes|=d.suspendedLanes&v,vr===d&&(ri&v)===v&&(Ir===4||Ir===3&&(ri&130023424)===ri&&500>cr()-F9?Ku(d,0):N9|=v),Ki(d,h)}function jM(d,h){h===0&&(d.mode&1?(h=Rd,Rd<<=1,!(Rd&130023424)&&(Rd=4194304)):h=1);var v=Fi();d=gm(d,h),d!==null&&(Bu(d,h,v),Ki(d,v))}function UW(d){var h=d.memoizedState,v=0;h!==null&&(v=h.retryLane),jM(d,v)}function zW(d,h){var v=0;switch(d.tag){case 13:var E=d.stateNode,T=d.memoizedState;T!==null&&(v=T.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(h),jM(d,v)}var qM;qM=function(d,h,v){if(d!==null)if(d.memoizedProps!==h.pendingProps||gn.current)ys=!0;else{if(!(d.lanes&v)&&!(h.flags&128))return ys=!1,MW(d,h,v);ys=!!(d.flags&131072)}else ys=!1,Un&&h.flags&1048576&&kT(h,B3,h.index);switch(h.lanes=0,h.tag){case 2:var E=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var T=Vo(h,er.current);Dd(h,v),T=p9(null,h,E,d,T,v);var P=m9();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Rr(E)?(P=!0,wa(h)):P=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,t9(h),T.updater=U3,h.stateNode=T,T._reactInternals=h,r9(h,E,d,v),h=w9(null,h,E,!0,P,v)):(h.tag=0,Un&&P&&i9(h),Ni(null,h,T,v),h=h.child),h;case 16:E=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,T=E._init,E=T(E._payload),h.type=E,T=h.tag=VW(E),d=qt(E,d),T){case 0:h=S9(null,h,E,d,v);break e;case 1:h=yM(null,h,E,d,v);break e;case 11:h=hM(null,h,E,d,v);break e;case 14:h=fM(null,h,E,qt(E.type,d),v);break e}throw Error(o(306,E,""))}return h;case 0:return E=h.type,T=h.pendingProps,T=h.elementType===E?T:qt(E,T),S9(d,h,E,T,v);case 1:return E=h.type,T=h.pendingProps,T=h.elementType===E?T:qt(E,T),yM(d,h,E,T,v);case 3:e:{if(vM(h),d===null)throw Error(o(387));E=h.pendingProps,P=h.memoizedState,T=P.element,MT(d,h),O3(h,E,null,v);var V=h.memoizedState;if(E=V.element,ve&&P.isDehydrated)if(P={element:E,isDehydrated:!1,cache:V.cache,transitions:V.transitions},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){T=Error(o(423)),h=_M(d,h,E,v,T);break e}else if(E!==T){T=Error(o(424)),h=_M(d,h,E,v,T);break e}else for(ve&&(gs=_e(h.stateNode.containerInfo),ms=h,Un=!0,mo=null,T0=!1),v=zT(h,null,E,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Od(),E===T){h=Aa(d,h,v);break e}Ni(d,h,E,v)}h=h.child}return h;case 5:return BT(h),d===null&&a9(h),E=h.type,T=h.pendingProps,P=d!==null?d.memoizedProps:null,V=T.children,Pe(E,T)?V=null:P!==null&&Pe(E,P)&&(h.flags|=32),gM(d,h),Ni(d,h,V,v),h.child;case 6:return d===null&&a9(h),null;case 13:return xM(d,h,v);case 4:return u9(h,h.stateNode.containerInfo),E=h.pendingProps,d===null?h.child=Ud(h,null,E,v):Ni(d,h,E,v),h.child;case 11:return E=h.type,T=h.pendingProps,T=h.elementType===E?T:qt(E,T),hM(d,h,E,T,v);case 7:return Ni(d,h,h.pendingProps,v),h.child;case 8:return Ni(d,h,h.pendingProps.children,v),h.child;case 12:return Ni(d,h,h.pendingProps.children,v),h.child;case 10:e:{if(E=h.type._context,T=h.pendingProps,P=h.memoizedProps,V=T.value,b0(h,E,V),P!==null)if(ps(P.value,V)){if(P.children===T.children&&!gn.current){h=Aa(d,h,v);break e}}else for(P=h.child,P!==null&&(P.return=h);P!==null;){var te=P.dependencies;if(te!==null){V=P.child;for(var we=te.firstContext;we!==null;){if(we.context===E){if(P.tag===1){we=Ea(-1,v&-v),we.tag=2;var ze=P.updateQueue;if(ze!==null){ze=ze.shared;var it=ze.pending;it===null?we.next=we:(we.next=it.next,it.next=we),ze.pending=we}}P.lanes|=v,we=P.alternate,we!==null&&(we.lanes|=v),e9(P.return,v,h),te.lanes|=v;break}we=we.next}}else if(P.tag===10)V=P.type===h.type?null:P.child;else if(P.tag===18){if(V=P.return,V===null)throw Error(o(341));V.lanes|=v,te=V.alternate,te!==null&&(te.lanes|=v),e9(V,v,h),V=P.sibling}else V=P.child;if(V!==null)V.return=P;else for(V=P;V!==null;){if(V===h){V=null;break}if(P=V.sibling,P!==null){P.return=V.return,V=P;break}V=V.return}P=V}Ni(d,h,T.children,v),h=h.child}return h;case 9:return T=h.type,E=h.pendingProps.children,Dd(h,v),T=zs(T),E=E(T),h.flags|=1,Ni(d,h,E,v),h.child;case 14:return E=h.type,T=qt(E,h.pendingProps),T=qt(E.type,T),fM(d,h,E,T,v);case 15:return pM(d,h,h.type,h.pendingProps,v);case 17:return E=h.type,T=h.pendingProps,T=h.elementType===E?T:qt(E,T),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Rr(E)?(d=!0,wa(h)):d=!1,Dd(h,v),IT(h,E,T),r9(h,E,T,v),w9(null,h,E,!0,d,v);case 19:return bM(d,h,v);case 22:return mM(d,h,v)}throw Error(o(156,h.tag))};function XM(d,h){return Vu(d,h)}function BW(d,h,v,E){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(d,h,v,E){return new BW(d,h,v,E)}function $9(d){return d=d.prototype,!(!d||!d.isReactComponent)}function VW(d){if(typeof d=="function")return $9(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===S)return 14}return 2}function Tl(d,h){var v=d.alternate;return v===null?(v=Ws(d.tag,h,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=h,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,h=d.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function vm(d,h,v,E,T,P){var V=2;if(E=d,typeof d=="function")$9(d)&&(V=1);else if(typeof d=="string")V=5;else e:switch(d){case c:return Ju(v.children,T,P,h);case f:V=8,T|=8;break;case p:return d=Ws(12,v,h,T|2),d.elementType=p,d.lanes=P,d;case x:return d=Ws(13,v,h,T),d.elementType=x,d.lanes=P,d;case g:return d=Ws(19,v,h,T),d.elementType=g,d.lanes=P,d;case b:return _m(v,T,P,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:V=10;break e;case y:V=9;break e;case _:V=11;break e;case S:V=14;break e;case w:V=16,E=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Ws(V,v,h,T),h.elementType=d,h.type=E,h.lanes=P,h}function Ju(d,h,v,E){return d=Ws(7,d,E,h),d.lanes=v,d}function _m(d,h,v,E){return d=Ws(22,d,E,h),d.elementType=b,d.lanes=v,d.stateNode={},d}function W9(d,h,v){return d=Ws(6,d,null,h),d.lanes=v,d}function j9(d,h,v){return h=Ws(4,d.children!==null?d.children:[],d.key,h),h.lanes=v,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function HW(d,h,v,E,T){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S0(0),this.expirationTimes=S0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S0(0),this.identifierPrefix=E,this.onRecoverableError=T,ve&&(this.mutableSourceEagerHydrationData=null)}function YM(d,h,v,E,T,P,V,te,we){return d=new HW(d,h,v,te,we),h===1?(h=1,P===!0&&(h|=8)):h=0,P=Ws(3,null,null,h),d.current=P,P.stateNode=d,P.memoizedState={element:E,isDehydrated:v,cache:null,transitions:null},t9(P),d}function KM(d){if(!d)return $r;d=d._reactInternals;e:{if(C(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Rr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var v=d.type;if(Rr(v))return I3(d,v,h)}return h}function QM(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=ee(h),d===null?null:d.stateNode}function ZM(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<h?v:h}}function q9(d,h){ZM(d,h),(d=d.alternate)&&ZM(d,h)}function GW(d){return d=ee(d),d===null?null:d.stateNode}function $W(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=Fi();$s(d,134217728,h),q9(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Fi(),v=El(d);$s(d,v,h),q9(d,v)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var v=yl(h.pendingLanes);v!==0&&(vl(h,v|1),Ki(h,cr()),!(Ht&6)&&($d(),wt()))}break;case 13:var E=Fi();BM(function(){return $s(d,1,E)}),q9(d,1)}},n.batchedUpdates=function(d,h){var v=Ht;Ht|=1;try{return d(h)}finally{Ht=v,Ht===0&&($d(),U&&wt())}},n.createComponentSelector=function(d){return{$$typeof:im,value:d}},n.createContainer=function(d,h,v,E,T,P,V){return YM(d,h,!1,null,v,E,T,P,V)},n.createHasPseudoClassSelector=function(d){return{$$typeof:sm,value:d}},n.createHydrationContainer=function(d,h,v,E,T,P,V,te,we){return d=YM(v,E,!0,d,T,P,V,te,we),d.context=KM(null),v=d.current,E=Fi(),T=El(v),P=Ea(E,T),P.callback=h??null,xl(v,P),d.current.lanes=T,Bu(d,T,E),Ki(d,E),d},n.createPortal=function(d,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:d,containerInfo:h,implementation:v}},n.createRoleSelector=function(d){return{$$typeof:om,value:d}},n.createTestNameSelector=function(d){return{$$typeof:am,value:d}},n.createTextSelector=function(d){return{$$typeof:lm,value:d}},n.deferredUpdates=function(d){var h=jt,v=dr.transition;try{return dr.transition=null,jt=16,d()}finally{jt=h,dr.transition=v}},n.discreteUpdates=function(d,h,v,E,T){var P=jt,V=dr.transition;try{return dr.transition=null,jt=1,d(h,v,E,T)}finally{jt=P,dr.transition=V,Ht===0&&$d()}},n.findAllNodes=k9,n.findBoundingRects=function(d,h){if(!pt)throw Error(o(363));h=k9(d,h),d=[];for(var v=0;v<h.length;v++)d.push(B(h[v]));for(h=d.length-1;0<h;h--){v=d[h];for(var E=v.x,T=E+v.width,P=v.y,V=P+v.height,te=h-1;0<=te;te--)if(h!==te){var we=d[te],ze=we.x,it=ze+we.width,Mt=we.y,mt=Mt+we.height;if(E>=ze&&P>=Mt&&T<=it&&V<=mt){d.splice(h,1);break}else if(E!==ze||v.width!==we.width||mt<P||Mt>V){if(!(P!==Mt||v.height!==we.height||it<E||ze>T)){ze>E&&(we.width+=ze-E,we.x=E),it<T&&(we.width=T-ze),d.splice(h,1);break}}else{Mt>P&&(we.height+=Mt-P,we.y=P),mt<V&&(we.height=V-Mt),d.splice(h,1);break}}}return d},n.findHostInstance=QM,n.findHostInstanceWithNoPortals=function(d){return d=$(d),d=d!==null?Z(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return QM(d)},n.flushControlled=function(d){var h=Ht;Ht|=1;var v=dr.transition,E=jt;try{dr.transition=null,jt=1,d()}finally{jt=E,dr.transition=v,Ht=h,Ht===0&&($d(),wt())}},n.flushPassiveEffects=Zu,n.flushSync=BM,n.focusWithin=function(d,h){if(!pt)throw Error(o(363));for(d=R9(d),h=OM(d,h),h=Array.from(h),d=0;d<h.length;){var v=h[d++];if(!ge(v)){if(v.tag===5&&ke(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return jt},n.getFindAllNodesFailureDescription=function(d,h){if(!pt)throw Error(o(363));var v=0,E=[];d=[R9(d),0];for(var T=0;T<d.length;){var P=d[T++],V=d[T++],te=h[V];if((P.tag!==5||!ge(P))&&(I9(P,te)&&(E.push(L9(te)),V++,V>v&&(v=V)),V<h.length))for(P=P.child;P!==null;)d.push(P,V),P=P.sibling}if(v<h.length){for(d=[];v<h.length;v++)d.push(L9(h[v]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return fe(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:GW,findFiberByHostInstance:d.findFiberByHostInstance||$W,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{kd=h.inject(d),fs=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,v,E){if(!pt)throw Error(o(363));d=k9(d,h);var T=Ge(d,v,E).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(d,h){var v=h._getVersion;v=v(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,v]:d.mutableSourceEagerHydrationData.push(h,v)},n.runWithPriority=function(d,h){var v=jt;try{return jt=d,h()}finally{jt=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,v,E){var T=h.current,P=Fi(),V=El(T);return v=KM(v),h.context===null?h.context=v:h.pendingContext=v,h=Ea(P,V),h.payload={element:d},E=E===void 0?null:E,E!==null&&(h.callback=E),xl(T,h),d=$s(T,V,P),d!==null&&F3(d,T,V),V},n};MH.exports=q5e;var X5e=MH.exports;const Y5e=k2(X5e);function PH(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const Ga=[];function RH(t,e,n=!1,r={}){for(const s of Ga)if(PH(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Ga.indexOf(i);s!==-1&&Ga.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Ga.push(i),!n)throw i.promise}const K5e=(t,e,n)=>RH(t,e,!1,n),Q5e=(t,e,n)=>void RH(t,e,!0,n),Z5e=t=>{if(t===void 0||t.length===0)Ga.splice(0,Ga.length);else{const e=Ga.find(n=>PH(t,n.keys,n.equal));if(e){const n=Ga.indexOf(e);n!==-1&&Ga.splice(n,1)}}},pb={},J5e=t=>void Object.assign(pb,t);function e6e(t,e){function n(c,{args:f=[],attach:p,...m},y){let _=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=wh(g,{type:c,root:y,attach:p,primitive:!0})}else{const g=pb[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=wh(new g(...f),{type:c,root:y,attach:p,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof Rt?x.__r3f.attach="geometry":x instanceof Ur&&(x.__r3f.attach="material")),_!=="inject"&&Vy(x,m),x}function r(c,f){let p=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?By(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),p=!0),p||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||wh(f,{}),f.__r3f.parent=c,Gx(f),Eh(f)}}function i(c,f,p){let m=!1;if(f){var y,_;if((y=f.__r3f)!=null&&y.attach)By(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const x=c.children.filter(S=>S!==f),g=x.indexOf(p);c.children=[...x.slice(0,g),f,...x.slice(g)],m=!0}m||(_=c.__r3f)==null||_.objects.push(f),f.__r3f||wh(f,{}),f.__r3f.parent=c,Gx(f),Eh(f)}}function s(c,f,p=!1){c&&[...c].forEach(m=>o(f,m,p))}function o(c,f,p){if(f){var m,y,_;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(b=>b!==f)),(y=f.__r3f)!=null&&y.attach)VL(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var x;c.remove(f),(x=f.__r3f)!=null&&x.root&&l6e(f.__r3f.root,f)}const S=(_=f.__r3f)==null?void 0:_.primitive,w=p===void 0?f.dispose!==null&&!S:p;if(!S){var g;s((g=f.__r3f)==null?void 0:g.objects,f,w),s(f.children,f,w)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,S||delete f.__r3f),w&&f.dispose&&f.type!=="Scene"&&Vx.unstable_scheduleCallback(Vx.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Eh(c)}}function a(c,f,p,m){var y;const _=(y=c.__r3f)==null?void 0:y.parent;if(!_)return;const x=n(f,p,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(x,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(x,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(_,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(_,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Y5e({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,p)=>{if(!f||!p)return;const m=c.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,p,m){if(c.__r3f.primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:_,...x}=m,{args:g=[],children:S,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((M,A)=>M!==g[A]))return[!0];const b=OH(c,x,w,!0);return b.changes.length?[!1,b]:null}},commitUpdate(c,[f,p],m,y,_,x){f?a(c,m,_,x):Vy(c,p)},commitMount(c,f,p,m){var y;const _=(y=c.__r3f)!=null?y:{};c.raycast&&_.handlers&&_.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>wh(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:p,parent:m}=(f=c.__r3f)!=null?f:{};p&&m&&VL(m,c,p),c.isObject3D&&(c.visible=!1),Eh(c)},unhideInstance(c,f){var p;const{attach:m,parent:y}=(p=c.__r3f)!=null?p:{};m&&y&&By(y,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Eh(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Jh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Dn.fun(performance.now)?performance.now:Dn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Dn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Dn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Vy}}var OL,UL;const zy=t=>"colorSpace"in t||"outputColorSpace"in t,IH=()=>{var t;return(t=pb.ColorManagement)!=null?t:null},LH=t=>t&&t.isOrthographicCamera,t6e=t=>t&&t.hasOwnProperty("current"),m3=typeof window<"u"&&((OL=window.document)!=null&&OL.createElement||((UL=window.navigator)==null?void 0:UL.product)==="ReactNative")?I.useLayoutEffect:I.useEffect;function kH(t){const e=I.useRef(t);return m3(()=>void(e.current=t),[t]),e}function n6e({set:t}){return m3(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class DH extends I.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}DH.getDerivedStateFromError=()=>({error:!0});const NH="__default",zL=new Map,r6e=t=>t&&!!t.memoized&&!!t.changes;function FH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const m1=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Dn={obj:t=>t===Object(t)&&!Dn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Dn.str(t)||Dn.num(t))return t===e;const s=Dn.obj(t);if(s&&r==="reference")return t===e;const o=Dn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Dn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Dn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function i6e(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function s6e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function wh(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function Hx(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const BL=/-\d+$/;function By(t,e,n){if(Dn.str(n)){if(BL.test(n)){const s=n.replace(BL,""),{target:o,key:a}=Hx(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Hx(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function VL(t,e,n){var r,i;if(Dn.str(n)){const{target:s,key:o}=Hx(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function OH(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},p=Object.entries(i),m=[];if(u){const _=Object.keys(l);for(let x=0;x<_.length;x++)i.hasOwnProperty(_[x])||p.unshift([_[x],NH+"remove"])}p.forEach(([_,x])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&_==="object"||Dn.equ(x,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return m.push([_,x,!0,[]]);let S=[];_.includes("-")&&(S=_.split("-")),m.push([_,x,!1,S]);for(const w in i){const b=i[w];w.startsWith(`${_}-`)&&m.push([w,b,!1,w.split("-")])}});const y={...i};return f.memoizedProps&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:m}}function Vy(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=r6e(e)?e:OH(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,_,x]=u[p];if(zy(t)){const b="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?b:M):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?b:M)}let g=t,S=g[m];if(x.length&&(S=x.reduce((w,b)=>w[b],t),!(S&&S.set))){const[w,...b]=x.reverse();g=b.reverse().reduce((M,A)=>M[A],t),m=w}if(y===NH+"remove")if(g.constructor){let w=zL.get(g.constructor);w||(w=new g.constructor,zL.set(g.constructor,w)),y=w[m]}else y=0;if(_)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof qc)){if(Array.isArray(y))S.fromArray?S.fromArray(y):S.set(...y);else if(S.copy&&y&&y.constructor&&S.constructor===y.constructor)S.copy(y);else if(y!==void 0){const w=S instanceof et;!w&&S.setScalar?S.setScalar(y):S instanceof qc&&y instanceof qc?S.mask=y.mask:S.set(y),!IH()&&!a.linear&&w&&S.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof ar&&g[m].format===ns&&g[m].type===ul){const w=g[m];zy(w)&&zy(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}Eh(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&Gx(t),t}function Eh(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Gx(t){t.onUpdate==null||t.onUpdate(t)}function o6e(t,e){t.manual||(LH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function V4(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function a6e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Jh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Jh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Jh.ContinuousEventPriority;default:return Jh.DefaultEventPriority}}function UH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function l6e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{UH(n.capturedMap,e,r,i)})}function u6e(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<m.length;g++){const S=m1(m[g]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(g){const S=m1(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(y).sort((g,S)=>{const w=m1(g.object),b=m1(S.object);return!w||!b?g.distance-S.distance:b.events.priority-w.events.priority||g.distance-S.distance}).filter(g=>{const S=V4(g);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const g of _){let S=g.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(V4(g.intersection))||p.push(g.intersection);return p}function i(l,u,c,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const y of l){const _=m1(y.object)||p,{raycaster:x,pointer:g,camera:S,internal:w}=_,b=new O(g.x,g.y,0).unproject(S),M=k=>{var $,ee;return($=(ee=w.capturedMap.get(k))==null?void 0:ee.has(y.eventObject))!=null?$:!1},A=k=>{const $={intersection:y,target:u.target};w.capturedMap.has(k)?w.capturedMap.get(k).set(y.eventObject,$):w.capturedMap.set(k,new Map([[y.eventObject,$]])),u.target.setPointerCapture(k)},R=k=>{const $=w.capturedMap.get(k);$&&UH(w.capturedMap,y.eventObject,$,k)};let L={};for(let k in u){let $=u[k];typeof $!="function"&&(L[k]=$)}let C={...y,...L,pointer:g,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:b,ray:x.ray,camera:S,stopPropagation(){const k="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!k||k.has(y.eventObject))&&(C.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find($=>$.eventObject===y.eventObject))){const $=l.slice(0,l.indexOf(y));s([...$,y])}},target:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:R},nativeEvent:u};if(f(C),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(V4(c)),p!=null&&p.eventCount){const y={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(c,m?n:void 0),g=y?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=x.map(w=>w.eventObject)),y&&!x.length&&g<=2&&(o(c,p.interaction),f&&f(c)),m&&s(x);function S(w){const b=w.eventObject,M=b.__r3f,A=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const R=V4(w),L=p.hovered.get(R);L?L.stopped&&w.stopPropagation():(p.hovered.set(R,w),A.onPointerOver==null||A.onPointerOver(w),A.onPointerEnter==null||A.onPointerEnter(w))}A.onPointerMove==null||A.onPointerMove(w)}else{const R=A[l];R?(!y||p.initialHits.includes(b))&&(o(c,p.interaction.filter(L=>!p.initialHits.includes(L))),R(w)):y&&p.initialHits.includes(b)&&o(c,p.interaction.filter(L=>!p.initialHits.includes(L)))}}i(x,c,g,S)}}return{handlePointer:a}}const zH=t=>!!(t!=null&&t.render),BH=I.createContext(null),c6e=(t,e)=>{const n=j5e((a,l)=>{const u=new O,c=new O,f=new O;function p(g=l().camera,S=c,w=l().size){const{width:b,height:M,top:A,left:R}=w,L=b/M;S instanceof O?f.copy(S):f.set(...S);const C=g.getWorldPosition(u).distanceTo(f);if(LH(g))return{width:b/g.zoom,height:M/g.zoom,top:A,left:R,factor:1,distance:C,aspect:L};{const k=g.fov*Math.PI/180,$=2*Math.tan(k/2)*C,ee=$*(b/M);return{width:ee,height:$,top:A,left:R,factor:b/ee,distance:C,aspect:L}}}let m;const y=g=>a(S=>({performance:{...S.performance,current:g}})),_=new Me;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new cb,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,w,b,M)=>{const A=l().camera,R={width:g,height:S,top:b||0,left:M||0,updateStyle:w};a(L=>({size:R,viewport:{...L.viewport,...p(A,c,R)}}))},setDpr:g=>a(S=>{const w=FH(g);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:I.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,w)=>{const b=l().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:g,priority:S,store:w}),b.subscribers=b.subscribers.sort((M,A)=>M.priority-A.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(S>0?1:0),M.subscribers=M.subscribers.filter(A=>A.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,o6e(a,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let H4,d6e=new Set,h6e=new Set,f6e=new Set;function Hy(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function g1(t,e){switch(t){case"before":return Hy(d6e,e);case"after":return Hy(h6e,e);case"tail":return Hy(f6e,e)}}let Gy,$y;function Wy(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Gy=e.internal.subscribers,H4=0;H4<Gy.length;H4++)$y=Gy[H4],$y.ref.current($y.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function p6e(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,g1("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=Wy(l,i))}if(g1("after",l),n===0)return g1("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&g1("before",l),c)Wy(l,c,f);else for(const p of t.values())Wy(l,p.store.getState());u&&g1("after",l)}return{loop:s,invalidate:o,advance:a}}function VH(){const t=I.useContext(BH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Fa(t=n=>n,e){return VH()(t,e)}function m6e(t,e=0){const n=VH(),r=n.getState().internal.subscribe,i=kH(t);return m3(()=>r(i,e,n),[e,r,n]),null}function HH(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,i6e(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function mb(t,e,n,r){const i=Array.isArray(e)?e:[e],s=K5e(HH(n,r),[t,...i],{equal:Dn.equ});return Array.isArray(e)?s:s[0]}mb.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Q5e(HH(n),[t,...r])};mb.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Z5e([t,...n])};const $f=new Map,{invalidate:HL,advance:GL}=p6e($f),{reconciler:V6,applyProps:vh}=e6e($f,a6e),_h={objects:"shallow",strict:!1},g6e=(t,e)=>{const n=typeof t=="function"?t(e):t;return zH(n)?n:new WE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function y6e(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function v6e(t){const e=$f.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||c6e(HL,GL),o=n||V6.createContainer(s,Jh.ConcurrentRoot,null,!1,null,"",i,null);e||$f.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:p,scene:m,events:y,onCreated:_,shadows:x=!1,linear:g=!1,flat:S=!1,legacy:w=!1,orthographic:b=!1,frameloop:M="always",dpr:A=[1,2],performance:R,raycaster:L,camera:C,onPointerMissed:k}=c,$=s.getState(),ee=$.gl;$.gl||$.set({gl:ee=g6e(f,t)});let q=$.raycaster;q||$.set({raycaster:q=new EH});const{params:Z,...ie}=L||{};if(Dn.equ(ie,q,_h)||vh(q,{...ie}),Dn.equ(Z,q.params,_h)||vh(q,{params:{...q.params,...Z}}),!$.camera||$.camera===u&&!Dn.equ(u,C,_h)){u=C;const ae=C instanceof e3,ce=ae?C:b?new hu(0,0,0,0,.1,1e3):new Bn(75,0,.1,1e3);ae||(ce.position.z=5,C&&vh(ce,C),!$.camera&&!(C!=null&&C.rotation)&&ce.lookAt(0,0,0)),$.set({camera:ce})}if(!$.scene){let ae;m instanceof B6?ae=m:(ae=new B6,m&&vh(ae,m)),$.set({scene:wh(ae)})}if(!$.xr){const ae=(he,Pe)=>{const Ae=s.getState();Ae.frameloop!=="never"&&GL(he,!0,Ae,Pe)},ce=()=>{const he=s.getState();he.gl.xr.enabled=he.gl.xr.isPresenting,he.gl.xr.setAnimationLoop(he.gl.xr.isPresenting?ae:null),he.gl.xr.isPresenting||HL(he)},re={connect(){const he=s.getState().gl;he.xr.addEventListener("sessionstart",ce),he.xr.addEventListener("sessionend",ce)},disconnect(){const he=s.getState().gl;he.xr.removeEventListener("sessionstart",ce),he.xr.removeEventListener("sessionend",ce)}};ee.xr&&re.connect(),$.set({xr:re})}if(ee.shadowMap){const ae=ee.shadowMap.enabled,ce=ee.shadowMap.type;if(ee.shadowMap.enabled=!!x,Dn.boo(x))ee.shadowMap.type=ip;else if(Dn.str(x)){var fe;const re={basic:TB,percentage:r8,soft:ip,variance:Eo};ee.shadowMap.type=(fe=re[x])!=null?fe:ip}else Dn.obj(x)&&Object.assign(ee.shadowMap,x);(ae!==ee.shadowMap.enabled||ce!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}const me=IH();me&&("enabled"in me?me.enabled=!w:"legacyMode"in me&&(me.legacyMode=w)),vh(ee,{outputEncoding:g?3e3:3001,toneMapping:S?Lo:IE}),$.legacy!==w&&$.set(()=>({legacy:w})),$.linear!==g&&$.set(()=>({linear:g})),$.flat!==S&&$.set(()=>({flat:S})),f&&!Dn.fun(f)&&!zH(f)&&!Dn.equ(f,ee,_h)&&vh(ee,f),y&&!$.events.handlers&&$.set({events:y(s)});const X=y6e(t,p);return Dn.equ(X,$.size,_h)||$.setSize(X.width,X.height,X.updateStyle,X.top,X.left),A&&$.viewport.dpr!==FH(A)&&$.setDpr(A),$.frameloop!==M&&$.setFrameloop(M),$.onPointerMissed||$.set({onPointerMissed:k}),R&&!Dn.equ(R,$.performance,_h)&&$.set(ae=>({performance:{...ae.performance,...R}})),a=_,l=!0,this},render(c){return l||this.configure(),V6.updateContainer(I.createElement(_6e,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){GH(t)}}}function _6e({store:t,children:e,onCreated:n,rootElement:r}){return m3(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),I.createElement(BH.Provider,{value:t},e)}function GH(t,e){const n=$f.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),V6.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),s6e(i),$f.delete(t),e&&e(t)}catch{}},500)})}}V6.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version});function H6(){return H6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H6.apply(this,arguments)}function $x(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}$x.debounce=$x;var x6e=$x;const $L=k2(x6e);function S6e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=I.useRef(!1);I.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,y]=I.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:w,top:b,width:M,height:A,bottom:R,right:L,x:C,y:k}=l.current.element.getBoundingClientRect(),$={left:w,top:b,width:M,height:A,bottom:R,right:L,x:C,y:k};l.current.element instanceof HTMLElement&&i&&($.height=l.current.element.offsetHeight,$.width=l.current.element.offsetWidth),Object.freeze($),f.current&&!T6e(l.current.lastBounds,$)&&a(l.current.lastBounds=$)};return[S,c?$L(S,c):S,u?$L(S,u):S]},[a,i,u,c]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=S=>{!S||S===l.current.element||(_(),l.current.element=S,l.current.scrollContainers=$H(S),x())};return E6e(y,!!n),w6e(m),I.useEffect(()=>{_(),x()},[n,y,m]),I.useEffect(()=>_,[]),[g,o,p]}function w6e(t){I.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function E6e(t,e){I.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function $H(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...$H(t.parentElement)]}const b6e=["x","y","top","bottom","left","right","width","height"],T6e=(t,e)=>b6e.every(n=>t[n]===e[n]);var M6e=Object.defineProperty,A6e=Object.defineProperties,C6e=Object.getOwnPropertyDescriptors,WL=Object.getOwnPropertySymbols,P6e=Object.prototype.hasOwnProperty,R6e=Object.prototype.propertyIsEnumerable,jL=(t,e,n)=>e in t?M6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qL=(t,e)=>{for(var n in e||(e={}))P6e.call(e,n)&&jL(t,n,e[n]);if(WL)for(var n of WL(e))R6e.call(e,n)&&jL(t,n,e[n]);return t},I6e=(t,e)=>A6e(t,C6e(e));function WH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=WH(r,e,n);if(i)return i;r=e?null:r.sibling}}function jH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const gb=jH(I.createContext(null));class qH extends I.Component{render(){return I.createElement(gb.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:XL,ReactCurrentDispatcher:YL}=I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function L6e(){const t=I.useContext(gb);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const r of[XL==null?void 0:XL.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=WH(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function k6e(){var t,e;const n=L6e(),[r]=I.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==gb&&!r.has(s)&&r.set(s,(e=YL==null?void 0:YL.current)==null?void 0:e.readContext(jH(s))),i=i.return}return r}function D6e(){const t=k6e();return I.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>I.createElement(e,null,I.createElement(n.Provider,I6e(qL({},r),{value:t.get(n)}))),e=>I.createElement(qH,qL({},e))),[t])}const jy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function N6e(t){const{handlePointer:e}=u6e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(jy).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=jy[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=jy[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const F6e=I.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=N6e,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:S,onPointerMissed:w,onCreated:b,...M},A){I.useMemo(()=>J5e(G5e),[]);const R=D6e(),[L,C]=S6e({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=I.useRef(null),$=I.useRef(null);I.useImperativeHandle(A,()=>k.current);const ee=kH(w),[q,Z]=I.useState(!1),[ie,fe]=I.useState(!1);if(q)throw q;if(ie)throw ie;const me=I.useRef(null);m3(()=>{const Y=k.current;C.width>0&&C.height>0&&Y&&(me.current||(me.current=v6e(Y)),me.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:S,size:C,onPointerMissed:(...X)=>ee.current==null?void 0:ee.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?t6e(a)?a.current:a:$.current),l&&X.setEvents({compute:(ae,ce)=>{const re=ae[l+"X"],he=ae[l+"Y"];ce.pointer.set(re/ce.size.width*2-1,-(he/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),b==null||b(X)}}),me.current.render(I.createElement(R,null,I.createElement(DH,{set:fe},I.createElement(I.Suspense,{fallback:I.createElement(n6e,{set:Z})},e)))))}),I.useEffect(()=>{const Y=k.current;if(Y)return()=>GH(Y)},[]);const G=a?"none":"auto";return I.createElement("div",H6({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i}},M),I.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},I.createElement("canvas",{ref:k,style:{display:"block"}},n)))}),O6e=I.forwardRef(function(e,n){return I.createElement(qH,null,I.createElement(F6e,H6({},e,{ref:n})))}),U6e=(t,e=0)=>{let n=!0,r=0;const i=(...s)=>{n&&(t(s),n=!1,r=setTimeout(()=>{n=!0},e))};return I.useEffect(()=>()=>clearTimeout(r),[]),i},XH=(t=0)=>{const[e,n]=I.useState({x:0,y:0});I.useEffect(()=>{window.addEventListener("scroll",r)},[]);const r=U6e(()=>{n({x:window.scrollX,y:window.scrollY})},t);return e},z6e=(t,e)=>{const{y:n}=XH(0);let r=[0],i={0:t};const s=(l,u)=>{i[l]=u,r.push(l),r.sort((c,f)=>c-f)},o=l=>{i={0:t,...l},r=Object.keys(i).map(Number),r.sort((u,c)=>u-c)},a=l=>{if(l<0)return i[0];const u=r.findIndex(y=>{if(y>l)return!0});if(u===-1)return i[r[r.length-1]];const c=r[u-1],f=r[u],p=(l-c)/(f-c),m={x:0,y:0,z:0};return Object.keys(m).forEach(y=>{const _=i[c][y],g=i[f][y]-_;m[y]=_+g*p}),m};return I.useEffect(()=>{const l=a(n);e.position.set(l.x,l.y,l.z),e.updateMatrixWorld()},[n]),{addCameraPosition:s,setCameraPositions:o}},yb=(t,e)=>{const[n,r]=t,i=n*Math.PI/180,s=r*Math.PI/180;return[e*Math.cos(s)*Math.cos(i),e*Math.sin(s),-e*Math.cos(s)*Math.sin(i)]};function B6e({coordinates:t,radius:e,material:n}){const r=(l,u)=>{const c=new Rt,f=[];return l.forEach(p=>{const m=i(p,u);f.push(m)}),c.setFromPoints(f),c},i=(l,u)=>{const c=yb(l,u);return new O(...c)},s=r(t,e),o=new Or(n),a=new cl(s,o);return z.jsx("primitive",{object:a,position:[0,0,0]})}const V6e=t=>{const[e,n,r]=t;return{x:e,y:n,z:r}},KL=t=>Array.isArray(t)&&t.length===2&&t.every(e=>typeof e=="number"),H6e=t=>{const e=[];return t.forEach(n=>{let r=!0;for(let i=0;i<n.length;i++){const s=n[i];KL(s)&&(e.push(s),r=!1)}r&&KL(n)&&e.push(n)}),e},G6e="FeatureCollection",$6e="ne_110m_coastline",W6e={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},j6e=[{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-163.7128956777287,-78.59566741324154],[-163.1058009511638,-78.22333871857859],[-161.24511349184644,-78.38017669058443],[-160.24620805564453,-78.69364592886694],[-159.48240454815448,-79.04633757925897],[-159.20818356019765,-79.4970077452764],[-161.12760128481472,-79.63420867301133],[-162.43984676821842,-79.28146534618699],[-163.027407803377,-78.92877369579496],[-163.06660437727038,-78.8699659158468],[-163.7128956777287,-78.59566741324154]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-6.197884894220991,53.867565009163364],[-6.032985398777611,53.1531900091605],[-6.788856573910849,52.260117906292336],[-8.56161658368356,51.669301255899356],[-9.977085740590269,51.82045482035308],[-9.166282517930782,52.86462881124268],[-9.688524542672454,53.8813626165853],[-8.327987433292009,54.66451894796863],[-7.572167934591064,55.13162221945487],[-6.733847011736145,55.17286001242378],[-5.661948614921968,54.55460317648381],[-6.197884894220991,53.867565009163364]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[141.00021040259185,-2.60015105551566],[142.73524661679147,-3.28915292726321],[144.58397098203324,-3.861417738463416],[145.27312788307768,-4.373737888205049],[145.8297864117257,-4.876497897972683],[145.981921828393,-5.465609226100043],[147.64807335834757,-6.083659356310847],[147.89110761941623,-6.614014580922343],[146.97090538959486,-6.721656589386313],[147.19187381407494,-7.388024183790023],[148.08463585834932,-8.044108168167647],[148.73410525939357,-9.104663588093764],[149.30683515848443,-9.07143564213009],[149.26663089416132,-9.514406019736029],[150.03872846903425,-9.684318129111709],[149.7387984560122,-9.872937106977048],[150.80162763895913,-10.293686618697478],[150.6905749859639,-10.582712904505925],[150.02839318257583,-10.652476088099952],[149.78231001200197,-10.393267103723923],[148.92313764871727,-10.280922539921384],[147.913018426708,-10.13044076908745],[147.13544315001218,-9.492443536011983],[146.56788089415056,-8.942554619994155],[146.04848107318492,-8.067414239131281],[144.74416792213805,-7.630128269077446],[143.89708784400966,-7.915330498896296],[143.28637576718432,-8.24549122480908],[143.41391320208066,-8.983068942910982],[142.62843143124417,-9.326820570516524],[142.06825890520025,-9.159595635620022],[141.03385176001382,-9.117892754760483],[140.14341515519254,-8.29716765710095],[139.1277665549281,-8.096042982620979],[138.881476678625,-8.380935153846075],[137.61447391169287,-8.41168263105974],[138.03909915583517,-7.597882175327321],[138.66862145401478,-7.320224704623087],[138.4079138531023,-6.232849216337485],[137.92783979711078,-5.393365573756],[135.98925011611345,-4.54654387778907],[135.16459760959975,-4.462931410340822],[133.66288048719787,-3.538853448097541],[133.36770470594672,-4.024818617370315],[132.98395551974727,-4.112978610860253],[132.75694095268904,-3.746282647317123],[132.75378869031925,-3.31178720460705],[131.98980431531618,-2.820551039240499],[133.0668445171434,-2.460417982598436],[133.78003095920354,-2.479848321140182],[133.69621178602614,-2.214541517753702],[132.23237348849426,-2.212526136894319],[131.83622195854474,-1.617161960459647],[130.94283979708285,-1.432522067880783],[130.5195581401801,-.937720228686089],[131.8675378765136,-.695461114101789],[132.3801164084167,-.369537855636949],[133.98554813042836,-.780210463060456],[134.14336795464772,-1.151867364103623],[134.42262739475302,-2.769184665542376],[135.45760298069467,-3.367701104346857],[136.29331424371884,-2.307042331556154],[137.44073774632756,-1.703513278819365],[138.3297274110447,-1.702634779470401],[139.18492068904288,-2.051295668143673],[139.92668419816044,-2.408999932468021],[141.00021040259185,-2.60015105551566]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[114.20401655482837,4.525873928236805],[114.59996137904872,4.900011298029966],[115.45071048386981,5.447729803891534],[116.22074100145102,6.143191229675566],[116.72510298061971,6.924771429873999],[117.12962609260047,6.92805288332454],[117.64339318244627,6.422166449403249],[117.68907514859231,5.987490139180154],[118.34769127815224,5.708695786965492],[119.18190392463997,5.407835598162207],[119.11069380094176,5.016128241389808],[118.43972700406408,4.966518866389606],[118.6183207540648,4.478202419447555],[117.88203494677018,4.137551377779516],[117.3132324565335,3.234428208830593],[118.0483297058854,2.287690131027333],[117.87562706916597,1.827640692548925],[118.99674726773816,.902219143066063],[117.8118583517178,.784241848143708],[117.47833865770603,.102474676917026],[117.52164350796664,-.803723239753268],[116.56004845587947,-1.487609144703917],[116.5337968282752,-2.483517347832901],[116.14808393764866,-4.012726332214022],[116.00085778204911,-3.657037448749058],[114.86480309454456,-4.106984144714396],[114.46865156459506,-3.495703627133828],[113.75567182826407,-3.43916961020652],[113.25699425664752,-3.118775729996905],[112.06812625534067,-3.478392022316051],[111.70329064336005,-2.994442233902654],[111.04824018762824,-3.049425957861211],[110.223846063276,-2.934032484553455],[110.07093550012434,-1.592874037282463],[109.571947869914,-1.314906507984475],[109.0918738139225,-.459506524257094],[108.9526575053282,.415375474444318],[109.06913618371408,1.341933905437614],[109.66326012577375,2.006492824711103],[110.3961352885371,1.663774725751395],[111.16885298059748,1.850636704918813],[111.37008100794205,2.697303371588859],[111.7969283386729,2.885896511238059],[112.99561486211522,3.102394924324855],[113.71293541875868,3.893509426281156],[114.20401655482837,4.525873928236805]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-93.61275590694046,74.97999726022438],[-94.15690873897391,74.59234650338688],[-95.60868058956564,74.66686391875176],[-96.82093217648455,74.92762319609658],[-96.28858740922982,75.37782827422338],[-94.85081987178917,75.64721751576089],[-93.97774654821797,75.29648956979595],[-93.61275590694046,74.97999726022438]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-93.84000301794399,77.51999726023455],[-94.29560828324529,77.49134267852868],[-96.16965410031007,77.55511139597685],[-96.43630449093614,77.83462921824362],[-94.42257727738641,77.820004787905],[-93.7206562975659,77.63433136668031],[-93.84000301794399,77.51999726023455]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-96.75439876990876,78.76581268992702],[-95.5592779202946,78.41831452098033],[-95.83029496944934,78.05694122996324],[-97.30984290239799,77.85059723582181],[-98.12428931353404,78.08285696075761],[-98.55286780474668,78.45810537384507],[-98.63198442258553,78.87193024363837],[-97.33723141151266,78.83198436147676],[-96.75439876990876,78.76581268992702]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-88.15035030796028,74.39230703398503],[-89.7647220527584,74.51555532500116],[-92.42244096552946,74.83775788034099],[-92.76828548864282,75.38681997344214],[-92.88990597204175,75.88265534128267],[-93.89382402217599,76.31924367950056],[-95.9624574450358,76.4413809272224],[-97.1213789538295,76.7510777859476],[-96.74512285031237,77.16138865834507],[-94.68408586299944,77.09787832305837],[-93.57392106807313,76.77629588490605],[-91.6050231595366,76.7785179714946],[-90.7418458727493,76.44959747995681],[-90.96966142450802,76.07401317005947],[-89.82223792189926,75.84777374948565],[-89.18708289259985,75.61016551380762],[-87.83827633334965,75.56618886992725],[-86.37919226758864,75.4824213731821],[-84.78962521029058,75.69920400664653],[-82.75344458691006,75.78431509063124],[-81.12853084992436,75.71398346628199],[-80.05751095245915,75.33684886341591],[-79.83393286814837,74.92312734648716],[-80.45777075877587,74.65730377877777],[-81.94884253612557,74.44245901152432],[-83.22889360221143,74.56402781849094],[-86.09745235873332,74.41003205026117],[-88.15035030796028,74.39230703398503]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-111.26444332563088,78.15298187937769],[-109.85445187054711,77.99632477488488],[-110.18693803591302,77.69701487905034],[-112.0511911690585,77.4092288276169],[-113.53427893761912,77.73220652944111],[-112.7245867582539,78.05105011668196],[-111.26444332563088,78.15298187937769]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-110.96366065147602,78.8044408230652],[-109.6631457182026,78.60197256134565],[-110.88131425661892,78.40694570587611],[-112.54209143761516,78.4079017198735],[-112.52589087609164,78.55055451121522],[-111.5000103422334,78.8499935981305],[-110.96366065147602,78.8044408230652]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-66.28243445500821,18.514761664295364],[-65.7713028632093,18.426679185453878],[-65.59100379094295,18.228034979723915],[-65.84716386581377,17.97590566657186],[-66.59993445500949,17.981822618069273],[-67.18416236028527,17.946553453030077],[-67.24242753769435,18.374485988839083],[-67.10067908391774,18.52060110114435],[-66.28243445500821,18.514761664295364]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-77.56960079619921,18.490525417550487],[-76.89661861846213,18.400866807524082],[-76.36535905628554,18.160700588447597],[-76.19965857614164,17.886867173732966],[-76.9025614081757,17.868237819891746],[-77.20634131540348,17.70111623785982],[-77.76602291534061,17.86159739834224],[-78.33771928578561,18.225967922432233],[-78.21772661000388,18.454532782459196],[-77.79736467152563,18.524218451404778],[-77.56960079619921,18.490525417550487]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-82.26815121125706,23.188610744717707],[-81.40445716014683,23.117271429938782],[-80.6187686835812,23.10600596769915],[-79.67952368846025,22.76530324959883],[-79.28148596873208,22.399201565027056],[-78.34743445505649,22.512166246017088],[-77.99329586456028,22.277193508385935],[-77.14642249216105,21.657851467367834],[-76.52382483590856,21.206819566324373],[-76.19462012399319,21.220565497314013],[-75.59822241891267,21.016624457274133],[-75.67106035022806,20.735091254148003],[-74.9338960435845,20.693905137611385],[-74.17802486845126,20.284653632075887],[-74.29664811877726,20.05037852628068],[-74.96159461129294,19.92343537035569],[-75.63468014189459,19.873774318923196],[-76.323656175426,19.95289093676206],[-77.75548092315307,19.855480861891877],[-77.08510840524674,20.413353786698792],[-77.49265458851661,20.673105373613893],[-78.13729224314159,20.739948838783434],[-78.48282670766119,21.02861338956585],[-78.71986650258401,21.598113511638434],[-79.28499996612794,21.5591753199065],[-80.21747534861865,21.827324327069036],[-80.51753455272141,22.03707896574176],[-81.82094336620318,22.19205658618507],[-82.16999182811864,22.387109279870753],[-81.79500179719267,22.636964830001958],[-82.77589799674085,22.688150336187064],[-83.49445878775936,22.16851797127613],[-83.90880042187563,22.154565334557333],[-84.05215084505326,21.910575059491254],[-84.54703019889638,21.801227728761646],[-84.97491105827311,21.89602814380109],[-84.44706214062776,22.204949856041907],[-84.23035702181178,22.565754706303764],[-83.7782399156902,22.788118394455694],[-83.26754757356575,22.983041897060644],[-82.51043616405751,23.078746649665188],[-82.26815121125706,23.188610744717707]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-55.600218268442056,51.31707469339794],[-56.13403581401709,50.68700979267928],[-56.795881720595276,49.81230866149089],[-56.14310502788433,50.15011749938286],[-55.471492275603,49.93581533466846],[-55.82240108908096,49.58712860777905],[-54.935142584845636,49.3130109726868],[-54.473775397343786,49.556691189159125],[-53.47654944519137,49.24913890237404],[-53.786013759971254,48.516780503933624],[-53.08613399922626,48.68780365660358],[-52.958648240762216,48.15716421161447],[-52.64809872090421,47.53554840757552],[-53.069158291218386,46.65549876564492],[-53.521456264853,46.61829173439477],[-54.17893551290251,46.80706574155698],[-53.9618686590605,47.62520701760193],[-54.24048214376214,47.752279364607645],[-55.40077307801157,46.884993801453135],[-55.99748084168583,46.919720363953275],[-55.29121904155279,47.38956248635099],[-56.250798712780586,47.632545070987376],[-57.32522925477708,47.57280711525797],[-59.26601518414682,47.60334788674247],[-59.419494188053676,47.899453843774886],[-58.79658647320744,48.25152537697942],[-59.23162451845657,48.52318838153781],[-58.3918049790652,49.12558055276418],[-57.35868974468606,50.71827403421587],[-56.738650071832026,51.28743825947855],[-55.87097693543532,51.63209422464921],[-55.40697424988659,51.5882726100657],[-55.600218268442056,51.31707469339794]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-83.88262630891977,65.10961782496354],[-82.78757687043883,64.76669302027467],[-81.6420137193926,64.45513580998697],[-81.55344031444432,63.97960928003714],[-80.81736121287886,64.057485663501],[-80.10345130076664,63.72598135034862],[-80.99101986359572,63.41124603947496],[-82.54717810741704,63.65172231714521],[-83.10879757356511,64.10187571883971],[-84.10041663281388,63.569711819098],[-85.52340471061905,63.052379055424055],[-85.8667687649824,63.63725291610349],[-87.22198320183678,63.54123810490519],[-86.35275977247133,64.0358332383707],[-86.2248864407651,64.82291697860823],[-85.88384782585486,65.7387783881171],[-85.1613079495499,65.6572846543928],[-84.97576371940592,65.21751821558898],[-84.4640120104195,65.37177236598022],[-83.88262630891977,65.10961782496354]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-78.77063859731078,72.35219900175032],[-77.8246239895596,72.74961660429098],[-75.60584469267573,72.2436784939374],[-74.228616095665,71.76714427355789],[-74.09914079455771,71.33084015571758],[-72.24222571479768,71.55692454699452],[-71.20001542833518,70.92001251899718],[-68.7860542466849,70.52502370877427],[-67.91497046575694,70.12194753689765],[-66.9690333726542,69.18608734809182],[-68.8051228502006,68.72019847276444],[-66.4498660956339,68.06716339789203],[-64.86231441919524,67.84753856065159],[-63.424934454996794,66.92847321234059],[-61.851981370680605,66.86212067327783],[-62.16317684594226,66.16025136988962],[-63.918444383384184,64.9986685248329],[-65.14886023625368,65.42603261988667],[-66.72121904159852,66.38804108343219],[-68.015016038674,66.26272573512439],[-68.1412874009792,65.68978913030439],[-67.08964616562342,65.10845510523696],[-65.73208045109976,64.64840566675856],[-65.32016760930125,64.38273712834605],[-64.66940629744968,63.392926744227495],[-65.01380388045888,62.67418508569598],[-66.27504472519048,62.94509878198612],[-68.7831862046927,63.74567007105183],[-67.36968075221309,62.88396556258484],[-66.32829728866726,62.28007477482201],[-66.16556820338015,61.93089712182582],[-68.87736650254465,62.330149237712824],[-71.02343705919385,62.91070811629588],[-72.23537858751902,63.39783600529522],[-71.88627844917127,63.67998932560887],[-73.37830624051838,64.19396312118384],[-74.83441891142263,64.67910146753995],[-74.81850257027673,64.38909332951793],[-77.70997982452008,64.22954234481678],[-78.5559488593542,64.57290639918013],[-77.89728105336198,65.30919220647475],[-76.01827429879717,65.32696889918314],[-73.95979529488268,65.45476471624094],[-74.29388342964964,65.81177134872938],[-73.94491248238262,66.31057811142666],[-72.65116716173942,67.28457550726391],[-72.92605994331605,67.72692576768235],[-73.31161780464572,68.06943716091287],[-74.84330725777684,68.55462718370127],[-76.86910091826672,68.89473562283025],[-76.22864905465738,69.14776927354741],[-77.28736996123715,69.76954010688321],[-78.1686339993266,69.82648753526887],[-78.95724219431673,70.16688019477543],[-79.49245500356366,69.87180776638884],[-81.30547095409176,69.74318512641436],[-84.94470618359851,69.96663401964442],[-87.06000342481789,70.26000112576538],[-88.68171322300148,70.4107412787608],[-89.51341956252303,70.76208934191324],[-88.46772111688082,71.21818553332132],[-89.88815121128755,71.22255219184997],[-90.20516028518205,72.23507436796079],[-89.436576707705,73.12946421985238],[-88.40824154331287,73.53788890247121],[-85.82615108920098,73.80381582304518],[-86.56217851433412,73.15744700793844],[-85.77437130404454,72.53412588163387],[-84.85011247428822,73.34027822538708],[-82.31559017610101,73.7509508328106],[-80.60008765330768,72.71654368762417],[-80.74894161652443,72.06190664335072],[-78.77063859731078,72.35219900175032]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-94.50365759965237,74.13490672473922],[-92.42001217321173,74.1000251329422],[-90.50979285354263,73.85673248971206],[-92.00396521682987,72.96624420845852],[-93.19629553910026,72.77199249947334],[-94.26904659704726,72.02459625923599],[-95.40985551632266,72.06188080513458],[-96.03374508338244,72.94027680123183],[-96.01826799191102,73.43742991809582],[-95.49579342322404,73.86241689726417],[-94.50365759965237,74.13490672473922]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-100.43835995156411,72.70589834257204],[-101.54,73.36],[-100.35642696816535,73.84386505807139],[-99.16386410194966,73.63338694934659],[-97.38,73.76],[-97.12,73.47],[-98.05359595415875,72.99053213163567],[-96.54,72.56],[-96.72,71.66],[-98.35964962440737,71.2728591986861],[-99.3228466458956,71.35639415148593],[-100.01481991249995,71.73825714790671],[-102.48,72.48292128497508],[-102.48,72.83],[-100.43835995156411,72.70589834257204]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-107.81943396689313,75.84552582468096],[-106.92891984742343,76.0128282742259],[-105.88099931519267,75.9693942328846],[-105.70498938680655,75.47952749297376],[-106.31347937704336,75.00526703561509],[-109.6999910144267,74.85000519479418],[-112.22306698286127,74.41695669218826],[-113.74380103234652,74.39427073841215],[-113.87133846724286,74.72029734974156],[-111.79420427127101,75.16249258086312],[-116.31219723190107,75.04343008086265],[-117.71040646042228,75.22223053659253],[-116.34601945683609,76.19901845977351],[-115.40486243372035,76.47887217885015],[-112.59056393110492,76.14134756133579],[-110.81421240928793,75.54918732370321],[-109.06710974814813,75.47322296823417],[-110.49725501182571,76.42980540638904],[-109.58110938193923,76.79417593047903],[-108.54859,76.67832],[-108.21141,76.20168],[-107.81943396689313,75.84552582468096]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-122.85492448615902,76.11654287383568],[-121.15753455288399,76.86453339304443],[-119.1039389718211,77.51221995717462],[-117.570130784966,77.4983189968881],[-116.19858659550738,77.6452867703262],[-116.33581336145845,76.87696157501061],[-117.10605058476882,76.53003184681911],[-118.04041215703819,76.48117178008714],[-119.89931677944145,76.05323924427815],[-121.49999426968223,75.90001862253276],[-122.85492448615902,76.11654287383568]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-121.53787309455218,74.44894440377693],[-120.1097690499501,74.24136017526048],[-117.55563554570813,74.18575633411443],[-116.58442867721466,73.8960582546862],[-115.5107991199187,73.47520539010118],[-116.76793168828308,73.22292104765224],[-119.22,72.52],[-120.46,71.82],[-120.46,71.3836017930876],[-123.09219682502714,70.90164154731742],[-123.62,71.34],[-125.92894873747339,71.8686884630114],[-125.5,72.29226081179497],[-124.80729,73.02256],[-123.94,73.68],[-124.91774431038601,74.29272654895861],[-121.53787309455218,74.44894440377693]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-166.46779212142462,60.384169826897754],[-165.67442969466364,60.29360687930625],[-165.57916419173358,59.90998688418753],[-166.19277014876727,59.75444082298899],[-166.84833736882197,59.941406155020985],[-167.45527706609008,60.21306915957936],[-166.46779212142462,60.384169826897754]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-153.22872941792113,57.96902008730477],[-152.56479061583514,57.901427313866996],[-152.1411472239064,57.591058661522],[-153.00631405333692,57.11584219016593],[-154.0050902984581,56.734676825581076],[-154.51640275777004,56.99274892844669],[-154.67099280497118,57.46119578717253],[-153.7627795074415,57.81657461204373],[-153.22872941792113,57.96902008730477]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-132.71000769746146,54.04000926372134],[-131.74998877655918,54.12000438090915],[-132.04947953990674,52.98462148702441],[-131.1790417143824,52.18043284769826],[-131.5778287423788,52.18237071390922],[-132.18042761933432,52.63970713969229],[-132.54999162486968,53.10001496033216],[-133.0546119861998,53.41146881775528],[-133.239665290237,53.85108022726224],[-133.18000484915603,54.1699754909354],[-132.71000769746146,54.04000926372134]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-125.41500078011457,49.950000515332576],[-124.92076738167509,49.47527497008329],[-123.92250790087682,49.062483628935794],[-123.51000078010694,48.51001089130338],[-124.01288998095531,48.37084625914137],[-125.65501196989416,48.8250045843385],[-125.95499365934849,49.17999583596752],[-126.8500036284276,49.530000311880386],[-127.02999264210017,49.814995835970066],[-128.05933549692202,49.994959011426516],[-128.44458329965792,50.539137681676074],[-128.35841284881124,50.77064809834367],[-127.30858028858567,50.55257355407198],[-126.69500016976812,50.40090322529532],[-125.75500586637895,50.295018215529275],[-125.41500078011457,49.950000515332576]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-171.73165686753944,63.782515367275934],[-171.1144335602453,63.59219106714495],[-170.4911124339407,63.694975490973505],[-169.6825054596536,63.43111562769119],[-168.6894394603007,63.297506212000556],[-168.77194088445466,63.18859813094544],[-169.5294398672051,62.97693146427792],[-170.29055620021595,63.194437567794424],[-170.67138566799093,63.3758218451389],[-171.55306311753873,63.317789211675105],[-171.79111060289122,63.40584585230046],[-171.73165686753944,63.782515367275934]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-105.4922891914932,79.30159393992916],[-103.52928239623795,79.16534902619163],[-100.8251580472688,78.80046173777872],[-100.0601918200522,78.32478017853204],[-99.67093909381364,77.90754466420744],[-101.30394019245301,78.01898489044486],[-102.94980872273302,78.34322866486023],[-105.17613277873151,78.3803323432458],[-104.21042945027713,78.67742015249176],[-105.41958045125853,78.91833567983649],[-105.4922891914932,79.30159393992916]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[32.946960890440806,35.3867033961337],[33.667227003724946,35.37321584730552],[34.576473829900465,35.67159556735879],[33.900804477684204,35.24578176527376],[34.00488081232004,34.97809784600186],[32.97982710137845,34.57186941175544],[32.49029625827754,34.701654771456475],[32.25666710788596,35.10323232679663],[32.80247358575275,35.14550364841138],[32.946960890440806,35.3867033961337]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[26.290002882601698,35.29999034274793],[26.16499759288766,35.00499542900977],[24.724982130642303,34.91998769788964],[24.735007358506916,35.08499054619759],[23.51497846852808,35.27999156345098],[23.699980096133004,35.70500438083549],[24.246665073348705,35.368022365860185],[25.02501549652891,35.42499563246197],[25.769207797964185,35.35401805270908],[25.745023227651586,35.1799976669662],[26.290002882601698,35.29999034274793]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[49.54351891459575,-12.469832858940554],[49.808980747279094,-12.895284925999555],[50.056510857957164,-13.555761407121985],[50.21743126811407,-14.758788750876796],[50.47653689962553,-15.226512139550543],[50.377111443895956,-15.706069431219127],[50.20027469259318,-16.000263360256767],[49.86060550313868,-15.414252618066918],[49.67260664246086,-15.710151869370186],[49.863344354050156,-16.451036879138776],[49.77456424337271,-16.8750420060936],[49.49861209493412,-17.106035658438273],[49.435618523970305,-17.953064060134366],[49.041792433473944,-19.118781019774445],[48.54854088724801,-20.496888116134127],[47.93074913919867,-22.391501153251085],[47.54772342305131,-23.781958916928517],[47.095761346226595,-24.941629733990453],[46.282477654817086,-25.178462823184105],[45.40950768411045,-25.60143442149309],[44.833573846217554,-25.34610116953894],[44.03972049334976,-24.988345228782308],[43.76376834491117,-24.46067717864999],[43.697777540874455,-23.574116306250602],[43.345654331237625,-22.776903985283873],[43.254187046081,-22.057413018484123],[43.43329756040464,-21.33647511158019],[43.893682895692926,-21.16330738697013],[43.896370070172104,-20.830459486578174],[44.37432539243966,-20.07236622485639],[44.46439741392439,-19.435454196859048],[44.23242190936617,-18.961994724200906],[44.042976108584156,-18.33138722094317],[43.96308434426091,-17.409944756746782],[44.31246870298628,-16.85044402432267],[44.4465173683514,-16.216219170804507],[44.94493655780653,-16.1793738745804],[45.50273196796499,-15.97437346767854],[45.87299360533626,-15.793454278224687],[46.31224327981721,-15.780018405828798],[46.882182651564285,-15.210182386946315],[47.70512983581236,-14.594302666891764],[48.005214878131255,-14.091232598530375],[47.868995802609874,-13.663868503476586],[48.29382775248138,-13.784067884987486],[48.84506025573879,-13.089174899958664],[48.86350874206698,-12.48786793381042],[49.194651320193316,-12.040505059459676],[49.54351891459575,-12.469832858940554]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[167.2168013857696,-15.89184620530842],[167.84487674384502,-16.46633310309717],[167.51518110582288,-16.59784962327999],[167.1800077659778,-16.159995212470946],[167.2168013857696,-15.89184620530842]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[166.79315799384085,-15.668810723536687],[166.6498592470955,-15.392703545801211],[166.6291369977464,-14.626497084209605],[167.10771243720149,-14.933920179913954],[167.27002811103023,-15.740020847234888],[167.00120731024793,-15.614602146062516],[166.79315799384085,-15.668810723536687]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[134.21013390516885,-6.89523772545472],[134.11277550673094,-6.142467136259],[134.29033572808584,-5.783057549669017],[134.49962527886788,-5.445042006047871],[134.72700158095216,-5.737582289252167],[134.7246244650667,-6.214400730009288],[134.21013390516885,-6.89523772545472]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-48.66061601418252,-78.04701873159873],[-48.1513964503784,-78.04707040803102],[-46.66285681821098,-77.83147633250933],[-45.15475765642109,-78.04707040803102],[-43.92082780615574,-78.47810352977753],[-43.48994971370611,-79.0855599913685],[-43.37243750667439,-79.51664478954731],[-43.33326677099714,-80.0261227355129],[-44.880536668464266,-80.33964365022769],[-46.50617387550203,-80.59435678499433],[-48.38642086444183,-80.82948455192233],[-50.48210689960646,-81.02544158317313],[-52.85198808451179,-80.96668547965729],[-54.16425940613162,-80.63352752067158],[-53.987991095584036,-80.22202809033138],[-51.85313432474216,-79.94772958772612],[-50.99132646341059,-79.6146233051727],[-50.364594692574755,-79.1834868305616],[-49.91413123228649,-78.81120981233094],[-49.30695899107312,-78.4585698383712],[-48.66061601418252,-78.04701873159873]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-66.29003089055513,-80.25577280061798],[-64.03768775089767,-80.29489185986293],[-61.88324561221718,-80.39287037548831],[-61.13897579613348,-79.98137094514813],[-60.61011918805844,-79.6286792947561],[-59.572094692611586,-80.04017872509628],[-59.86584937197473,-80.54965667106185],[-60.15965572777019,-81.00032683707929],[-62.25539343936711,-80.86317758577665],[-64.48812537296979,-80.92193368929253],[-65.74166642928991,-80.5888274067391],[-65.74166642928991,-80.54965667106185],[-66.29003089055513,-80.25577280061798]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-73.9158186510023,-71.26934457792578],[-73.23033077665059,-71.15178069446176],[-72.07471655952358,-71.19095143013901],[-71.78096188016042,-70.68147348417342],[-71.72217993842841,-70.30914478951048],[-71.74179114448319,-69.50578297310102],[-71.1738154771632,-69.03547576281268],[-70.25325151231577,-68.87874114367142],[-69.72444658067303,-69.25101816190208],[-69.48942216660959,-69.62334685656502],[-69.05851823594381,-70.07401702258245],[-68.72554114447112,-70.50515349719356],[-68.45134599473043,-70.95582366321098],[-68.33383378769872,-71.40649382922841],[-68.51012793646244,-71.79840789172998],[-68.78429724798698,-72.17068490996063],[-69.95947099473648,-72.30788583769555],[-71.07588863797011,-72.50384286894634],[-72.38813412137378,-72.48420582467543],[-71.89849992540829,-72.09234343860615],[-73.07362199572549,-72.22949268990878],[-74.19003963895912,-72.3666936176437],[-74.95389482288145,-72.07275807076753],[-75.01262508818117,-71.66125864042735],[-73.9158186510023,-71.26934457792578]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-102.33072506387639,-71.89416432076682],[-101.70396745482441,-71.71779265735465],[-100.43091854531409,-71.85499358508957],[-98.98154964882391,-71.93333505644407],[-97.88474321164506,-72.07053598417899],[-96.78793677446619,-71.95297210071497],[-96.20034990109144,-72.5212061501964],[-96.98376461463623,-72.44286467884193],[-98.19808325884682,-72.48203541451917],[-99.43201310911218,-72.44286467884193],[-100.78345516640925,-72.50162078235779],[-101.80186845580137,-72.305663751107],[-102.33072506387639,-71.89416432076682]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-122.62173458544193,-73.65777760202387],[-122.40624386278482,-73.32461964303816],[-121.21151058641286,-73.50099130645033],[-119.91885047084779,-73.65772592559158],[-118.72414303269196,-73.48135426217942],[-119.29211870001194,-73.83409758900375],[-120.23221635626571,-74.0888107237704],[-121.62282914924002,-74.01046925241592],[-122.62173458544193,-73.65777760202387]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-127.28312964568192,-73.46176889434079],[-126.55847103565299,-73.24622649525139],[-125.55956559945108,-73.48135426217942],[-124.03188106982256,-73.87326832468099],[-124.61946794319732,-73.83409758900375],[-125.91217973519467,-73.73611907337835],[-127.28312964568192,-73.46176889434079]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[165.77998986232637,-21.08000497811563],[166.59999148993384,-21.700018812753527],[167.1200114280869,-22.15999073658349],[166.7400346214448,-22.39997608814695],[166.18973229396866,-22.129708347260454],[165.47437544175222,-21.679606621998232],[164.82981530177568,-21.14981983814195],[164.16799523341365,-20.444746595951628],[164.029605747736,-20.105645847252354],[164.45996707586272,-20.1200118954295],[165.02003624904205,-20.45999114347773],[165.46000939357512,-20.80002206795826],[165.77998986232637,-21.08000497811563]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[152.64001671774253,-3.659983005389691],[153.0199935243847,-3.980015150573265],[153.14003787659874,-4.499983412294092],[152.82729210836828,-4.766427097190991],[152.63867313050298,-4.176127211120921],[152.40602583232493,-3.789742526874583],[151.95323693258354,-3.462062269711816],[151.38427941305002,-3.035421644710112],[150.66204959533883,-2.741486097833935],[150.93996544820448,-2.500002129734007],[151.47998416565457,-2.779985039891379],[151.8200150901351,-2.999971612157886],[152.23998945537113,-3.24000864015364],[152.64001671774253,-3.659983005389691]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[151.30139041565388,-5.840728448106752],[150.75444705627666,-6.083711032743138],[150.2411967307538,-6.317753594593028],[149.70996300679332,-6.316513360218025],[148.89006473205046,-6.026040134305404],[148.31893680236067,-5.747142429226166],[148.40182579975686,-5.437755629094717],[149.29841190002082,-5.58374155031926],[149.84556196512722,-5.505503431829368],[149.99625044169028,-5.026101169457654],[150.13975589416486,-5.001348158389852],[150.23690758687354,-5.532220147324267],[150.80746707580812,-5.455842380396874],[151.08967207255404,-5.113692722192383],[151.6478808941709,-4.757073662946162],[151.53786176982146,-4.167807305521933],[152.1367916200843,-4.14879037843852],[152.33874311748093,-4.312966403829805],[152.3186926617517,-4.867661228050771],[151.98279585185452,-5.478063246282382],[151.45910688700866,-5.560280450058754],[151.30139041565388,-5.840728448106752]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[162.1190246930409,-10.48271900802115],[162.3986458681722,-10.826367282762106],[161.70003218001835,-10.820011081590211],[161.31979699121476,-10.204751478723168],[161.91738325423802,-10.446648858281423],[162.1190246930409,-10.48271900802115]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[161.67998172428912,-9.599982191611367],[161.5293966005906,-9.784312025596485],[160.78825320866054,-8.917543226764892],[160.57999718652434,-8.32000864017396],[160.92002811100485,-8.32000864017396],[161.28000613835,-9.120011488484451],[161.67998172428912,-9.599982191611367]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[160.85222863183787,-9.872937106977048],[160.4625883323572,-9.895209649294841],[159.84944746321412,-9.794027194867354],[159.64000288313514,-9.639979750205278],[159.70294477766663,-9.242949720906815],[160.36295617089843,-9.40030445723557],[160.68851769433724,-9.610162448772869],[160.85222863183787,-9.872937106977048]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[159.64000288313514,-8.020026950719632],[159.87502729719859,-8.337320244991737],[159.91740197167792,-8.53828989017483],[159.13367719953936,-8.114181410355428],[158.5861137229747,-7.754823500197737],[158.21114953026483,-7.421872246941199],[158.35997765526542,-7.320017998893917],[158.8200012555277,-7.560003350457379],[159.64000288313514,-8.020026950719632]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[157.14000044171888,-7.021638278840641],[157.5384257346892,-7.347819919466943],[157.33941979393325,-7.404767347852592],[156.90203047101483,-7.176874281445428],[156.4913578635913,-6.765943291860452],[156.542827590154,-6.599338474151452],[157.14000044171888,-7.021638278840641]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[154.75999067608439,-5.339983819198495],[155.06291792217934,-5.56679168052753],[155.5477462099417,-6.200654799019645],[156.0199654482248,-6.540013929880381],[155.8800256695784,-6.819996840037753],[155.59999108298877,-6.919990736522522],[155.16699425681514,-6.535931491729322],[154.72919152243838,-5.900776462429902],[154.51411421123964,-5.139117526879986],[154.65250369691728,-5.042379245629597],[154.75999067608439,-5.339983819198495]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[176.8858236026052,-40.0659778785822],[176.50801720611926,-40.60475636165728],[176.01244022044023,-41.28962411882147],[175.23956749908297,-41.68830779395328],[175.06789839100935,-41.42589487077513],[174.65097293527847,-41.2818209775454],[175.22763024322356,-40.45923552832336],[174.9001566917899,-39.90888152441491],[173.82404666574394,-39.50885426204351],[173.85226199777532,-39.14660247167748],[174.57480187408035,-38.797683200842755],[174.74347374908098,-38.02780771255843],[174.69696496001828,-37.38112883885792],[174.2920284365792,-36.71109221776149],[174.31900353423552,-36.53482390721391],[173.8409965355357,-36.12198088963413],[173.0541711774596,-35.23712533950039],[172.63600548735377,-34.52910654066943],[173.00704227120946,-34.45066171645037],[173.55129845610747,-35.00618336358801],[174.3293904971262,-35.26549570082862],[174.61200890533044,-36.15634571710823],[175.33661583892712,-37.20909799575827],[175.3575964704376,-36.52619394302117],[175.80888675364253,-36.79894215265767],[175.9584900251275,-37.55538176854612],[176.76319542877656,-37.881253350578675],[177.4388131045605,-37.961248467766495],[178.01035444570866,-37.579824721020174],[178.51709354076274,-37.6953732236248],[178.27473107331383,-38.58281259537314],[177.97046023997927,-39.166342868812976],[177.20699262929918,-39.14577564876082],[176.93998050364706,-39.44973642350161],[177.0329464053401,-39.879942722331464],[176.8858236026052,-40.0659778785822]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[169.66781456937315,-43.555325616226376],[170.52491987536615,-43.031688327812816],[171.125089960004,-42.51275359473782],[171.56971398344325,-41.767424411792135],[171.94870893787186,-41.514416599291124],[172.0972270042787,-40.956104424809716],[172.79857954334403,-40.4939620908235],[173.02037479074076,-40.919052422856446],[173.2472343285021,-41.33199879330081],[173.9584053897028,-40.926700534835646],[174.24758670480816,-41.34915536882171],[174.24851688058942,-41.77000823340673],[173.87644656808794,-42.23318409603879],[173.2227396995957,-42.970038344088614],[172.71124637277074,-43.372287693048555],[173.08011274647015,-43.853343601253606],[172.3085836123525,-43.86569426857136],[171.45292524646362,-44.242467136411406],[171.18513797432718,-44.89710418068486],[170.61669721911653,-45.908928724959736],[169.8314221540093,-46.35577483498757],[169.33233117093428,-46.641235446967876],[168.41135379462855,-46.61994475686363],[167.76374474514682,-46.29019744240919],[166.67688602118417,-46.219917494492236],[166.50914432196467,-45.85270476662619],[167.046372512071,-45.110941257508635],[168.30376346259686,-44.12397307716614],[168.94940880765157,-43.935819187191434],[169.66781456937315,-43.555325616226376]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[147.68925947488418,-40.808258152022674],[148.289067824496,-40.87543751400211],[148.35986453673587,-42.06239348731415],[148.01730146707303,-42.40702361426865],[147.91405195535384,-43.211522312188535],[147.56456424376393,-42.937688897473905],[146.87034305235488,-43.6345972633621],[146.66332726459365,-43.58085377377856],[146.04837772032033,-43.549744561538844],[145.4319295595106,-42.693776137056254],[145.29509036680173,-42.033609714527564],[144.71807132383066,-41.16255177181576],[144.7437545106797,-40.70397511165767],[145.3979781434948,-40.79254851660594],[146.3641207216237,-41.137643731451085],[146.90858361225088,-41.00054615658073],[147.68925947488418,-40.808258152022674]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[126.14871382050114,-32.21596607842059],[125.08862348846566,-32.72875131605285],[124.22164798390492,-32.95948658623607],[124.02894656788851,-33.4838473447017],[123.65966678273077,-33.89017913181271],[122.81103641163364,-33.914467054989885],[122.1830644064228,-34.0034021949642],[121.29919070850259,-33.821036065406176],[120.58026818245806,-33.93017669040661],[119.89369510302822,-33.9760653622818],[119.29889936734875,-34.50936614353394],[119.00734093635802,-34.46414926527854],[118.5057178081008,-34.74681934991509],[118.02497195848949,-35.0647327613747],[117.29550744025741,-35.02545867283287],[116.62510908413495,-35.02509693780683],[115.56434695847966,-34.38642791111157],[115.02680870977957,-34.19651702243893],[115.04861616420676,-33.623425388322055],[115.54512332566708,-33.48725798923297],[115.7146737000167,-33.25957162855497],[115.67937869676135,-32.900368747694166],[115.80164513556394,-32.205062351207005],[115.68961063035516,-31.612437025683807],[115.160909051577,-30.601594333622465],[114.99704308477948,-30.03072478609414],[115.04003787644629,-29.461043796508527],[114.64197431850201,-28.81023080822467],[114.6164978373821,-28.51639861421308],[114.17357913620847,-28.11807667410732],[114.04888390508816,-27.334713636994813],[113.47749759323692,-26.543134047147902],[113.33895307826242,-26.116545098578484],[113.77835778204022,-26.549025160429174],[113.44096235560656,-25.621278171493167],[113.93690107631167,-25.91123463308287],[114.23285200404723,-26.29844614024588],[114.21616051641698,-25.786281019801123],[113.7212553243577,-24.99893889740214],[113.62534386602397,-24.683971042583167],[113.39352339076264,-24.384712823180937],[113.5020438985756,-23.806350192970285],[113.70699262904515,-23.56021534596409],[113.84341841029567,-23.059987481378755],[113.73655154831609,-22.47547535572538],[114.1497563009219,-21.755829359628745],[114.22530724493262,-22.517488295178673],[114.6477620789187,-21.829519952076954],[115.46016727097924,-21.495173435148537],[115.94737267462702,-21.068687839443704],[116.71161543179153,-20.701681817306824],[117.16631635952771,-20.623547051681516],[117.44154503791424,-20.74689869556221],[118.229558953933,-20.37420826587322],[118.83608523974274,-20.263310642174858],[118.98780724495168,-20.044202569257315],[119.25249393115067,-19.952941989829867],[119.80522505094451,-19.976506442954964],[120.85622033089668,-19.683707777589206],[121.39985639860717,-19.239755547769725],[121.65508629769673,-18.70531788500717],[122.24166548064179,-18.197648614171804],[122.28662397673571,-17.798603204013958],[122.3127722514754,-17.254915459871157],[123.01257449757193,-16.405199883695886],[123.43378909718304,-17.268558037996215],[123.85934451710659,-17.069035332917288],[123.50324222218329,-16.596506036040402],[123.81707319549184,-16.111316013252],[124.25828657439985,-16.327943617419535],[124.37972619028575,-15.56705982835399],[124.92615278534004,-15.07510019293536],[125.16727501841387,-14.680395603090028],[125.67008670461381,-14.510070082256014],[125.68579634003055,-14.23065561285385],[126.12514936737608,-14.347340996968903],[126.14282270721986,-14.095986830301227],[126.58258914602374,-13.952791436420448],[127.06586714081732,-13.817967624570954],[127.80463341686196,-14.27690601975508],[128.35968997610894,-14.869169610252243],[128.98554324759584,-14.875990899314765],[129.62147342337965,-14.969783623924522],[129.40960005098293,-14.42066985439107],[129.8886405783286,-13.618703301653492],[130.33946577364293,-13.357375583553484],[130.18350630098604,-13.107520033422276],[130.61779503796697,-12.536392103732489],[131.22349450086,-12.183648776908166],[131.73509118054955,-12.302452894747184],[132.5752982931831,-12.114040622611007],[132.55721154188097,-11.603012383676678],[131.82469811414364,-11.27378183354515],[132.3572237489114,-11.128519382372696],[133.01956058159635,-11.376411228076812],[133.55084598198908,-11.786515394745116],[134.39306847548204,-12.042365411022182],[134.67863244032696,-11.941182956594693],[135.29849124566795,-12.248606052299046],[135.8826933127276,-11.962266940969776],[136.2583809754895,-12.049341729381588],[136.49247521377168,-11.857208754120398],[136.951620314685,-12.351958916882793],[136.6851249533558,-12.887223402562022],[136.3054065288751,-13.291229750219884],[135.96175825413417,-13.324509372615852],[136.07761681533253,-13.724278252825783],[135.78383629775323,-14.2239893530882],[135.4286641786112,-14.715432224183912],[135.50018436090318,-14.997740573794424],[136.2951745952813,-15.55026498785913],[137.06536014215942,-15.87076222093333],[137.5804708192448,-16.21508228929408],[138.30321740127897,-16.807604261952704],[138.58516401586343,-16.806622409739155],[139.10854292211548,-17.06267913174539],[139.2605749859182,-17.371600843986208],[140.2151420432137,-17.710804945550066],[140.87541181860695,-17.369068698803908],[141.07111046769626,-16.83204721442676],[141.27409549373874,-16.38887013109165],[141.39822228410384,-15.840531508042588],[141.70218305884464,-15.044921156476901],[141.56338016170866,-14.561333103089552],[141.6355204611881,-14.270394789286307],[141.5198686057189,-13.698078301653808],[141.65092003801107,-12.944687595270585],[141.8426912782462,-12.741547539931231],[141.68699018775084,-12.407614434461145],[141.9286291851476,-11.877465915578817],[142.11848839738798,-11.328042087451612],[142.1437064963464,-11.042736504768186],[142.51526004452495,-10.668185723516686],[142.797310011974,-11.157354831591562],[142.86676313697427,-11.784706719614903],[143.11594689348573,-11.905629571177885],[143.15863162655876,-12.325655612846232],[143.5221236512998,-12.834358412327433],[143.5971578309876,-13.400422051652612],[143.5618111513,-13.763655694232192],[143.9220992372389,-14.548310642151996],[144.56371382057483,-14.171176039285903],[144.89485639870117,-14.594457696188641],[145.3747237489635,-14.98497649501833],[145.27199100156724,-15.428205254785732],[145.4852596376358,-16.28567229580478],[145.63698164284472,-16.78491830817657],[145.88885257383532,-16.906926364817686],[146.16030887266453,-17.761654554925272],[146.06367394427872,-18.28007252367734],[146.38747846901964,-18.958274021075887],[147.4710815777479,-19.48072275154673],[148.17760176004242,-19.9559392229028],[148.84841352762322,-20.391209812097244],[148.71746544819558,-20.63346892668155],[149.28942020080206,-21.260510756111135],[149.6783370302307,-22.342511895438385],[150.07738244038853,-22.122783705333337],[150.48293908101516,-22.556142266532994],[150.72726525289113,-22.402353204032373],[150.89955447815225,-23.462236830338696],[151.60917524638427,-24.07625619883074],[152.07353966695905,-24.45783497487393],[152.8551973818059,-25.267501316023],[153.1361621441768,-26.071173191026215],[153.16194868389044,-26.641319268502457],[153.0929089703485,-27.260299574494514],[153.56946902894418,-28.11006682710208],[153.51210818910022,-28.99507740653271],[153.339095493787,-29.45820159273248],[153.06924116435886,-30.350240166954794],[153.08955000224955,-30.923641859665423],[152.89157759013938,-31.640445651986],[152.45000247620533,-32.550002536755265],[151.70911746643674,-33.041342054986394],[151.3439717958624,-33.81602345147387],[151.0105554547152,-34.31036020277793],[150.71413943908902,-35.173459974916796],[150.3282198427333,-35.671879164371916],[150.0752120302323,-36.42020558039054],[149.9461243023672,-37.10905242284121],[149.99728397033613,-37.42526051203518],[149.42388227762552,-37.77268116633344],[148.30462243061584,-37.809061374666925],[147.38173302631526,-38.21921721776752],[146.92212283751132,-38.606532077795116],[146.31792199115478,-39.03575652441141],[145.4896521343806,-38.59376799901902],[144.87697635312816,-38.41744801203915],[145.03221235573295,-37.89618783951102],[144.48568240781407,-38.085323581699285],[143.60997358619602,-38.8094654274053],[142.74542687395297,-38.538267510737555],[142.17832970598192,-38.380034275059835],[141.60658165910468,-38.30851409276788],[140.63857872941327,-38.019332777662555],[139.99215823787426,-37.402936293285094],[139.8065881695141,-36.64360279718831],[139.57414757706528,-36.13836231867066],[139.08280805883413,-35.732754001611745],[138.12074791885635,-35.61229623793939],[138.44946170466494,-35.127261244447865],[138.20756432510672,-34.38472258884593],[137.71917036351618,-35.076825046531],[136.8294055523147,-35.26053476332861],[137.35237104710848,-34.7073385556441],[137.50388634658827,-34.13026783624075],[137.8901160015377,-33.64047861097838],[137.81032759007905,-32.90000701266812],[136.9968371929404,-33.752771498348615],[136.37201745009935,-34.094766127256236],[135.98904341038428,-34.89011809666046],[135.20821251845405,-34.478670342752565],[135.23921837782916,-33.94795338311502],[134.6134167827746,-33.222778008763164],[134.08590376193916,-32.84807219821479],[134.27390262261702,-32.61723357516699],[132.99077680880976,-32.01122405368019],[132.28808068250487,-31.982646986622782],[131.32633060112084,-31.49580331800104],[129.53579389863972,-31.590422865527465],[128.24093753470225,-31.948488864877852],[127.1028674663383,-32.28226694105106],[126.14871382050114,-32.21596607842059]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[81.7879590188914,7.523055324733164],[81.63732221876059,6.481775214051922],[81.21801964714433,6.197141424988288],[80.34835696810441,5.968369859232155],[79.87246870312853,6.76346344647493],[79.69516686393513,8.200843410673386],[80.14780073437964,9.824077663609557],[80.83881798698656,9.268426825391188],[81.30431928907177,8.56420624433369],[81.7879590188914,7.523055324733164]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[129.37099775606094,-2.802154229344595],[130.47134402885177,-3.093764336767634],[130.83483605359282,-3.858472181822776],[129.99054650280817,-3.446300957862796],[129.15524865124235,-3.362636813982248],[128.59068362845363,-3.428679294451264],[127.89889122936235,-3.393435967628207],[128.13587934785284,-2.843650404474971],[129.37099775606094,-2.802154229344595]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[126.87492272349886,-3.790931084817302],[126.18380211802736,-3.607376397316564],[125.98903364471926,-3.177221774919012],[127.00065148326497,-3.129317722184446],[127.24921512258891,-3.45906503663889],[126.87492272349886,-3.790931084817302]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[127.93237755748748,2.174596258956569],[128.00415612194087,1.628531398928345],[128.5945593608755,1.540810655112878],[128.6882487326207,1.132385972494063],[128.63595218314134,.258485826006194],[128.1201697124361,.356412665199286],[127.96803429576886,-.252077325037519],[128.3799988139997,-.7800037573313],[128.1000159038423,-.899996433113031],[127.69647464407507,-.266598402511534],[127.39949018769369,1.011721503092545],[127.60051150930906,1.810690822757195],[127.93237755748748,2.174596258956569]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[122.9275667664518,.875192368977409],[124.07752241424288,.917101955566125],[125.0659892111218,1.64325918213153],[125.2405005229715,1.419836127117605],[124.4370353536974,.427881171058957],[123.6855049988767,.235593166500891],[122.72308312387287,.431136786293337],[121.05672488818911,.381217352699394],[120.18308312386272,.237246812334234],[120.04086958219548,-.519657891444837],[120.93590538949073,-1.408905938323393],[121.4758207540762,-.95596200928513],[123.34056481332846,-.615672702643138],[123.25839928598441,-1.076213067228309],[122.82266360889932,-.930950616055853],[122.38852990121529,-1.516858005381117],[121.50827355355551,-1.904482924002458],[122.4545723816843,-3.186058444840924],[122.2718961935325,-3.529500013852712],[123.17096276254655,-4.683693129091701],[123.1623327983538,-5.340603936385996],[122.62851525277875,-5.634591159694466],[122.23639448454801,-5.282933037948268],[122.71956912647701,-4.464171644715826],[121.73823367725436,-4.851331475446543],[121.48946333220127,-4.574552504091265],[121.61917117725386,-4.188477878438682],[120.89818159391766,-3.602105401222794],[120.97238895068878,-2.627642917494939],[120.30545291552986,-2.931603692235733],[120.39004723519167,-4.097579034037274],[120.43071658740537,-5.528241062037793],[119.79654341031949,-5.673400160345665],[119.36690555224489,-5.37987802492782],[119.65360639860017,-4.459417412944973],[119.49883548388601,-3.494411716326532],[119.07834435432704,-3.487021986508793],[118.76776899625287,-2.801999200047718],[119.18097374885869,-2.147103773612805],[119.3233939962551,-1.353147067880464],[119.82599897672587,.154254462073482],[120.0357019389663,.566477362465761],[120.88577925016762,1.30922272379685],[121.66681684782696,1.013943589681091],[122.9275667664518,.875192368977409]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[120.29501427620689,-10.258649997603591],[118.96780846565471,-9.557969252158074],[119.90030968636157,-9.361340427287502],[120.42575564990534,-9.665921319215798],[120.77550174365675,-9.96967538822743],[120.71560875863045,-10.239581394087885],[120.29501427620689,-10.258649997603591]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[121.34166873584651,-8.536739597206072],[122.00736453663043,-8.460620212440148],[122.90353722543607,-8.094234307490765],[122.75698286345632,-8.649807631060696],[121.2544905945701,-8.933666273639957],[119.92439090380958,-8.81041798262384],[119.92092858284605,-8.444858900591122],[120.71509199430757,-8.236964613480914],[121.34166873584651,-8.536739597206072]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[118.26061648974044,-8.362383314653293],[118.87845991422208,-8.280682875199844],[119.12650678922307,-8.705824883665088],[117.97040164598928,-8.906639499551304],[117.27773074754901,-9.040894870645594],[116.74014082241665,-9.032885023640354],[117.0837374207253,-8.45715789147659],[117.6320243673421,-8.449303073768228],[117.90001834520776,-8.09568124759494],[118.26061648974044,-8.362383314653293]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[108.48684614464926,-6.42198495852574],[108.62347863162896,-6.777673841990705],[110.53922732955328,-6.877357679881726],[110.75957563684585,-6.465186455921747],[112.6148112325564,-6.946035658397626],[112.97876834518806,-7.594213148634594],[114.47893517462114,-7.776527601760328],[115.70552697150106,-8.370806573116873],[114.56451134649649,-8.751816908404855],[113.46473351446085,-8.348947442257405],[112.55967247930097,-8.376180922075221],[111.52206139531245,-8.302128594600973],[110.58614953007432,-8.122604668819001],[109.42766727095511,-7.740664157749762],[108.69365522668133,-7.641600437046243],[108.27776329959633,-7.766657403192576],[106.45410200401612,-7.354899590690934],[106.28062422081231,-6.924899997590252],[105.36548628135552,-6.851416110871206],[106.05164594932702,-5.895918877794472],[107.2650085795402,-5.954985039904081],[108.07209109907467,-6.345762220895224],[108.48684614464926,-6.42198495852574]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[104.36999148968489,-1.084843031421059],[104.53949018760221,-1.782371514496766],[104.88789269411402,-2.340425306816705],[105.62211144411697,-2.428843682468099],[106.10859337771265,-3.061776625178965],[105.85744591677414,-4.305524997579774],[105.8176550639094,-5.85235564537242],[104.71038414919144,-5.873284600450632],[103.86821333213078,-5.037314955264996],[102.5842606954069,-4.220258884298183],[102.156173130301,-3.614146009946801],[101.39911339722507,-2.799777113459164],[100.90250288290015,-2.050262139497832],[100.14198082886065,-.650347588710986],[99.26373986206028,.183141587724634],[98.97001102091326,1.042882391764536],[98.60135135294306,1.823506577965574],[97.69959760944985,2.45318390544206],[97.17694217324984,3.308790594898596],[96.42401655475726,3.868859768077925],[95.3808760925135,4.970782172053688],[95.29302615761729,5.479820868344788],[95.93686282754174,5.439513251157123],[97.4848820332771,5.246320909033955],[98.36916914265566,4.268370266126396],[99.1425586283358,3.590349636240873],[99.69399783732241,3.174328518075143],[100.64143354696162,2.099381211755741],[101.65801232300734,2.083697414555161],[102.49827111207323,1.398700466310231],[103.07684044801303,.561361395668868],[103.83839603069836,.104541734208695],[103.4376452982749,-.711945896002902],[104.01078860882404,-1.059211521004286],[104.36999148968489,-1.084843031421059]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[120.83389611214656,12.704496161342433],[120.32343631396745,13.466413479053825],[121.18012820850211,13.429697373910443],[121.5273938335035,13.06959015548452],[121.26219038298159,12.205560207564403],[120.83389611214656,12.704496161342433]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[122.5860889018671,9.981044826696134],[122.83708133350875,10.26118276615037],[122.9474105164519,10.88186839440806],[123.49884972543845,10.94062449792392],[123.33777428598472,10.267383938025404],[124.0779358257012,11.232725531453738],[123.98243777882584,10.278778591345755],[123.62307986866814,9.950090643753299],[123.30992068897939,9.318268744336706],[122.9958313335094,9.022188625520414],[122.38005496631942,9.713360907424217],[122.5860889018671,9.981044826696134]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[126.37681359263745,8.414706325713297],[126.47851281138789,7.750354112168978],[126.53742394420061,7.189406439640692],[126.19677290253259,6.274294338400054],[125.83142052622907,7.293715318221842],[125.36385216685221,6.786485297060949],[125.68316084198369,6.049656887227272],[125.39651167206063,5.581003322772276],[124.21978763234239,6.161355495626154],[123.9387195171069,6.885135606306136],[124.24366214406128,7.360610459823661],[123.61016076059519,7.83352732994274],[123.29607140512519,7.418875637232759],[122.82550581267537,7.457374579290204],[122.08549930225573,6.899424139834836],[121.91992801319256,7.192119452336015],[122.31235884001705,8.034962063016465],[122.94239790251959,8.316236883981134],[123.48768761606347,8.693035590037326],[123.84115441293983,8.240324204944372],[124.60146976125021,8.514157619659002],[124.76461225799562,8.960409450715488],[125.47139082245155,8.986996975129657],[125.41211795461277,9.760334784377534],[126.2227144715431,9.286074327018866],[126.30663699758514,8.78248749433456],[126.37681359263745,8.414706325713297]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[109.47520958866365,18.197700913968575],[108.65520796105616,18.507681993071387],[108.62621748254044,19.367887885001906],[109.11905561730804,19.821038519769345],[110.21159874882281,20.101253973872033],[110.78655073450221,20.077534491450052],[111.01005130416458,19.69592987719072],[110.57064660038677,19.25587921800927],[110.33918786015147,18.678395087147592],[109.47520958866365,18.197700913968575]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[121.77781782438993,24.3942735865194],[121.17563235889274,22.790857245367167],[120.74707970589623,21.970571397382113],[120.22008344938368,22.81486094816674],[120.1061885926124,23.556262722258236],[120.69467980355225,24.538450832613737],[121.49504438688878,25.295458889257386],[121.95124393116146,24.997595933527037],[121.77781782438993,24.3942735865194]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[141.88460086483497,39.180864569651476],[140.95948937394581,38.17400096287662],[140.97633589087297,37.14207428644019],[140.5997697287621,36.3439834661245],[140.77407433488258,35.842877102190215],[140.2532792502451,35.13813975680979],[138.9755277853962,34.66760000257614],[137.21759891169125,34.60628591566183],[135.79298302626893,33.46480520276663],[135.1209827007454,33.849071153289],[135.0794348491827,34.596544908174806],[133.34031619683202,34.375938218720805],[132.15677086805124,33.90493337659652],[130.98614464734345,33.88576142021624],[132.00003624890996,33.149992377244544],[131.33279015515734,31.450354519164822],[130.686317987186,31.029579169228246],[130.2024198752049,31.418237616495432],[130.44767622286213,32.319474595665696],[129.81469160371893,32.61030955660436],[129.40841149304026,33.29605581311752],[130.35393517468464,33.60415070244167],[130.87845096244718,34.23274282484002],[131.8842293641439,34.74971385348792],[132.61767296766243,35.433393052709405],[134.6083008159777,35.731617743465804],[135.67753787652885,35.52713410088687],[136.72383060114242,37.304984239240326],[137.39061160700447,36.82739065199884],[138.8576021669062,37.82748464614346],[139.42640465714283,38.21598806411376],[140.054790073812,39.43880748143637],[139.88337934789985,40.56331248632368],[140.30578250545364,41.19500519465953],[141.3689734234266,41.378559882160275],[141.91426313697048,39.991616115878685],[141.88460086483497,39.180864569651476]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[144.61342654843963,43.96090871843361],[145.32082523008307,44.38473297787541],[145.5431372418027,43.262114162766764],[144.05966189999987,42.98835826270056],[143.18384972551723,41.9952147486992],[141.6114909201724,42.6787905950561],[141.06728641170668,41.58459381770797],[139.955106235921,41.56955597591103],[139.81754357315998,42.563758856774385],[140.31208703019325,43.33327261003269],[141.38054894426,43.38882477474644],[141.67195234595386,44.77212535255146],[141.96764489152798,45.55148346616134],[143.14287031470974,44.51035838477697],[143.91016198137947,44.17409983985374],[144.61342654843963,43.96090871843361]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[8.709990675500109,40.899984442705225],[9.210011834356266,41.209991360024176],[9.80997521326492,40.50000885676613],[9.669518670295616,39.17737641047178],[9.214817742559433,39.24047333430015],[8.806935662479674,38.906617743478506],[8.428302443077115,39.17184703221655],[8.388253208050912,40.37831085871876],[8.159998406617689,40.95000722916376],[8.709990675500109,40.899984442705225]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[8.746009148807559,42.62812185319392],[9.390000848028876,43.00998484961471],[9.560016310269134,42.152517808595654],[9.229752231491773,41.380006822264455],[8.775723097375362,41.58361196549443],[8.544212680707773,42.2565424667992],[8.746009148807559,42.62812185319392]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[12.370904168353292,56.111407375708794],[12.690006137755603,55.60999095318074],[12.089991082414684,54.80001455343792],[11.043543328504226,55.36486379660424],[10.903913608451603,55.77995473898872],[12.370904168353292,56.111407375708794]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-4.211494513353671,58.55084503847897],[-3.005004848635309,58.635000108466286],[-4.073828497728101,57.553024807355186],[-3.05500179687769,57.69001902936095],[-1.959280564776947,57.68479970969946],[-2.219988165689443,56.870017401753486],[-3.119003058271176,55.97379303651553],[-2.08500932454308,55.909998480851215],[-1.114991013992324,54.62498647726534],[-.430484991854172,54.4643761257022],[.184981316742039,53.32501414653097],[.46997684083172,52.92999949809191],[1.68153079591471,52.73952016866405],[1.559987827164207,52.09999848083598],[1.050561557630942,51.80676056579574],[1.449865349950244,51.28942780212179],[.550333693045587,50.76573883727595],[-.787517462558725,50.77498891865619],[-2.489997524414491,50.50001862243113],[-2.956273972984065,50.69687999124703],[-3.617448085942442,50.228355617872744],[-4.542507900399272,50.34183706318571],[-5.245023159191136,49.95999990498106],[-5.776566941745344,50.15967763935686],[-4.30998979330198,51.21000112568919],[-3.414850633142152,51.42600861266921],[-4.984367234710916,51.59346609151103],[-5.267295701508927,51.9914004583746],[-4.222346564134966,52.30135569926125],[-4.770013393564227,52.8400049912556],[-4.579999152027,53.495003770555094],[-3.092079637047106,53.40444082296359],[-2.945008510744429,53.98499970154664],[-3.630005458989359,54.615012925833014],[-4.844169073903061,54.790971177786844],[-5.082526617849339,55.06160065369939],[-4.719112107756729,55.50847260194335],[-5.047980922862223,55.78398550070749],[-5.586397670911253,55.31114614523683],[-5.644998745130239,56.27501496034486],[-6.149980841486425,56.78500967063335],[-5.786824713555276,57.818848375064576],[-5.009998745127689,58.63001333275011],[-4.211494513353671,58.55084503847897]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-14.508695441129234,66.45589223903143],[-14.739637417041607,65.8087482774403],[-13.60973222497981,65.12667104761987],[-14.909833746794902,64.36408193628868],[-17.794438035543422,63.678749091233854],[-18.656245896874992,63.49638296167582],[-19.97275468594276,63.64363495549153],[-22.762971971110158,63.960178941495386],[-21.778484259517683,64.40211579045551],[-23.95504391121911,64.8911298692335],[-22.184402635170358,65.0849681667603],[-22.227423265053332,65.37859365504274],[-24.326184047939336,65.61118927678847],[-23.65051469572309,66.26251902939522],[-22.134922451250887,66.41046865504687],[-20.57628373867955,65.73211212835143],[-19.05684160000159,66.27662669541091],[-17.79862382655905,65.99385325790978],[-16.167818976292125,66.52681814235201],[-14.508695441129234,66.45589223903143]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[142.91461551327654,53.704577541714784],[143.2608476096321,52.74076040303906],[143.23526777564763,51.75666026468876],[143.64800744036285,50.747600409541505],[144.6541475770856,48.97639069273754],[143.1739278505172,49.306551418650315],[142.55866824765013,47.86157501890495],[143.53349246640403,46.83672801369252],[143.50527713437265,46.137907619809525],[142.74770063697383,46.74076487892651],[142.09203006405454,45.966755276058834],[141.906925083585,46.80592886004656],[142.01844282447087,47.78013296161296],[141.90444461483503,48.85918854429957],[142.1358000022057,49.61516307229739],[142.17998335181528,50.9523424342819],[141.59407596249002,51.9354348822025],[141.6825460145737,53.301966457728795],[142.60693403541075,53.762145087287934],[142.20974897681543,54.225475979216874],[142.65478641171302,54.36588084575389],[142.91461551327654,53.704577541714784]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[118.50458092659036,9.316382554558047],[117.17427453010066,8.367499904814679],[117.66447716682137,9.066888739452892],[118.38691369026175,9.68449961998921],[118.98734215706105,10.376292019080523],[119.51149620979751,11.3696680770272],[119.68967654833989,10.554291490109875],[119.02945844937892,10.003653265823829],[118.50458092659036,9.316382554558047]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[122.336956821788,18.224882717354106],[122.17427941293317,17.810282701076403],[122.5156539246533,17.093504746971973],[122.25231082569393,16.26244436285407],[121.66278608610821,15.931017564350142],[121.50501793832112,15.124813544164622],[121.7288285665772,14.328376369682275],[122.25892540902726,14.21820221603599],[122.70127566944569,14.336541245984378],[123.9502950379403,13.782130642141027],[123.85510704965867,13.237771104378425],[124.18128869028493,12.9975273706535],[124.0774190613783,12.536676947474575],[123.29803510955225,13.02752553959894],[122.92865197152994,13.552919826710422],[122.6713550151487,13.185836289925092],[122.03464969288052,13.784481919810304],[121.12638471891857,13.636687323455547],[120.62863732308324,13.857655747935596],[120.67938357959386,14.271015529838294],[120.99181928923053,14.52539276779504],[120.69333621631267,14.756670640517312],[120.56414513558299,14.396279201713796],[120.07042850146644,14.970869452367126],[119.92092858284605,15.406346747290739],[119.88377322802819,16.363704331929995],[120.28643598844644,16.034628811095345],[120.39004723519167,17.599081122299523],[120.71586714079191,18.505227362537525],[121.32130822152351,18.504064642810945],[121.9376013530364,18.218552354398355],[122.24600630095429,18.478975734933243],[122.336956821788,18.224882717354106]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[122.03837039600555,11.415840969279998],[121.88354780485909,11.891755072471994],[122.48382124236149,11.582213243043682],[123.12021650603594,11.583660183147856],[123.10083784392646,11.16593374271649],[122.63771365772669,10.74130849857417],[122.00261030485957,10.441016750526089],[121.96736697803652,10.905691229694625],[122.03837039600555,11.415840969279998]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[125.50255171112354,12.162694606978292],[125.78341312062992,11.046147772663929],[125.01188398651226,11.311454576050409],[125.03276126515817,10.975816148314692],[125.27744917206019,10.358722032101284],[124.80181928924577,10.134678859899864],[124.76016808481853,10.837995103392258],[124.45910119028605,10.889929917845592],[124.30252160044171,11.495370998577187],[124.89101281138153,11.415582587118536],[124.87799035044401,11.794189968304947],[124.26676150929569,12.557760931849671],[125.22711632700788,12.53572093347718],[125.50255171112354,12.162694606978292]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-77.35336076527386,8.67050466555807],[-76.83667395700357,8.638749497914716],[-76.08638383655786,9.336820583529487],[-75.67460018584006,9.443248195834599],[-75.66470414905618,9.774003200718738],[-75.48042599150335,10.618990383339309],[-74.90689510771199,11.083044745320322],[-74.27675269234489,11.102035834187587],[-74.1972226630477,11.310472723836867],[-73.41476396350029,11.22701528568548],[-72.62783525255963,11.731971543825523],[-72.23819495307892,11.955549628136326],[-71.75409013536864,12.437303168177309],[-71.3998223537917,12.376040757695293],[-71.13746110704588,12.112981879113505],[-71.3315836249503,11.776284084515808],[-71.36000566271082,11.539993597861212],[-71.94704993354651,11.423282375530022],[-71.62086829292019,10.969459947142795],[-71.63306393094109,10.446494452349029],[-72.07417395698451,9.865651353388373],[-71.69564409044654,9.072263088411248],[-71.26455929226773,9.137220363802129],[-71.03999935574339,9.859992784052409],[-71.35008378771079,10.211935126176215],[-71.40062333849224,10.968969021036015],[-70.15529883490652,11.37548167566004],[-70.29384334988103,11.846822414594214],[-69.94324459499683,12.162307033736099],[-69.58430009629747,11.459610907431212],[-68.88299923366445,11.443384507691563],[-68.23327145045873,10.885744126829946],[-68.19412655299763,10.554653225135922],[-67.29624854192633,10.54586823164631],[-66.227864142508,10.648626817258688],[-65.65523759628175,10.200798855017323],[-64.89045223657817,10.0772146671913],[-64.32947872583374,10.38959870039568],[-64.31800655786495,10.64141795495398],[-63.07932247582873,10.7017243514386],[-61.880946010980196,10.715625311725104],[-62.73011898461641,10.420268662960906],[-62.388511928950976,9.94820445397464],[-61.58876746280194,9.873066921422264],[-60.83059668643172,9.381339829948942],[-60.67125240745973,8.580174261911878],[-60.15009558779618,8.602756862823426],[-59.758284878159195,8.367034816924047],[-59.10168412945866,7.999201971870492],[-58.48296220562806,7.347691351750697],[-58.45487606467742,6.832787380394464],[-58.078103196837375,6.809093736188643],[-57.542218593970645,6.321268215353356],[-57.14743648947689,5.973149929219161],[-55.9493184067898,5.772877915872002],[-55.841779751190415,5.95312531170606],[-55.033250291551774,6.025291449401664],[-53.9580446030709,5.756548163267765],[-53.618452928264844,5.646529038918374],[-52.88214128275409,5.409850979021584],[-51.8233428615259,4.565768133966131],[-51.65779741067889,4.156232408053029],[-51.29998979348996,4.120007229016437],[-51.069771287629656,3.650397650564031],[-50.508875291533656,1.901563828942457],[-49.97407589374506,1.736483465986069],[-49.94710079608871,1.046189683431223],[-50.699251268096916,.222984117021682],[-50.38821082213214,-.078444512536819],[-48.62056677915632,-.235489190271821],[-48.58449662941659,-1.237805271005001],[-47.824956427590635,-.5816179337628],[-46.566583624851226,-.941027520352776],[-44.905703090990414,-1.551739597178134],[-44.417619187993665,-2.137750339367976],[-44.58158850765578,-2.691308282078524],[-43.418791266440195,-2.383110039889793],[-41.47265682632825,-2.912018324397116],[-39.97866533055404,-2.873054294449041],[-38.50038347019657,-3.700652357603396],[-37.2232521225352,-4.820945733258917],[-36.45293738457639,-5.109403578312154],[-35.59779578301047,-5.149504489770649],[-35.23538896334756,-5.464937432480247],[-34.89602983248683,-6.738193047719711],[-34.729993455533034,-7.343220716992967],[-35.12821204277422,-8.996401462442286],[-35.636966518687714,-9.649281508017815],[-37.046518724097,-11.040721123908803],[-37.68361161960736,-12.171194756725823],[-38.42387651218844,-13.038118584854288],[-38.67388709161652,-13.057652276260619],[-38.953275722802545,-13.793369642800023],[-38.88229814304965,-15.667053724838768],[-39.16109249526431,-17.208406670808472],[-39.2673392400564,-17.867746270420483],[-39.58352149103423,-18.262295830968938],[-39.76082333022764,-19.59911345792741],[-40.77474077001034,-20.904511814052423],[-40.94475623225061,-21.93731698983781],[-41.754164191238225,-22.370675551037458],[-41.98828426773656,-22.970070489190896],[-43.07470374202475,-22.96769337330547],[-44.64781185563781,-23.351959323827842],[-45.35213578955992,-23.796841729428582],[-46.47209326840554,-24.088968601174543],[-47.64897233742066,-24.885199069927722],[-48.4954581365777,-25.877024834905654],[-48.64100480812774,-26.62364592865864],[-48.474735887228654,-27.17591196056189],[-48.661520351747626,-28.18613453543572],[-48.8884574041574,-28.674115085567884],[-49.587329474472675,-29.224469089476337],[-50.696874152211485,-30.98446502047296],[-51.576226162306156,-31.77769825615321],[-52.256081305538046,-32.24536996839467],[-52.712099982297694,-33.19657805759118],[-53.373661668498244,-33.768377780900764],[-53.806425950726535,-34.39681487400223],[-54.93586605489773,-34.952646579733624],[-55.67408972840329,-34.75265878676407],[-56.21529700379607,-34.85983570733742],[-57.1396850246331,-34.430456231424245],[-57.81786068381551,-34.4625472958775],[-58.42707414410439,-33.909454441057576],[-58.49544206402655,-34.43148976007008],[-57.22582963726366,-35.28802662530788],[-57.36235877137878,-35.977390232081476],[-56.73748735210545,-36.41312590916655],[-56.78828528504836,-36.901571547189334],[-57.74915686708346,-38.18387053807989],[-59.23185706240189,-38.72016855240494],[-61.23744523786564,-38.9284245745412],[-62.33595699731013,-38.827707208004334],[-62.125763108962936,-39.42410491308485],[-62.330530971919494,-40.17258635840034],[-62.145994432205214,-40.67689666113672],[-62.745802781816984,-41.0287614886121],[-63.77049475773255,-41.16678923926369],[-64.73208980981973,-40.80267709733515],[-65.11803524439158,-41.06431487402891],[-64.97856055363582,-42.05800099056934],[-64.3034079657425,-42.35901620866951],[-63.75594784204239,-42.043686618824495],[-63.458059048095876,-42.563138116222405],[-64.37880388045633,-42.87355844499969],[-65.18180396183975,-43.495380954767796],[-65.32882341171013,-44.501366062193696],[-65.5652689276616,-45.036785577169795],[-66.50996578638934,-45.03962778094586],[-67.29379391139247,-45.55189625425519],[-67.58054643418008,-46.30177296324257],[-66.59706641301729,-47.033872979521526],[-65.64102657740149,-47.23613453551193],[-65.98508826360079,-48.133289076531135],[-67.16617896184769,-48.697337334996945],[-67.81608761256643,-49.86966887797038],[-68.72874508327321,-50.26416676208654],[-69.13853919134777,-50.732510267947795],[-68.81556148952356,-51.77110320414986],[-68.14999487982038,-52.349982598683425],[-68.57154537624133,-52.299443047901974],[-69.46128434922667,-52.29194996521966],[-69.9427795071062,-52.53792978292897],[-70.8451016913546,-52.89919972108146],[-71.00633216010525,-53.83325123475707],[-71.429794684521,-53.85645395285612],[-72.55794287788488,-53.53140919374024],[-73.7027567206629,-52.835069268607235],[-74.94676347522517,-52.26275278097475]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-77.88157141794525,7.223771267114785],[-77.47666073272228,6.691116441266303],[-77.31881507028675,5.84535411216136],[-77.53322058786573,5.582811997902497],[-77.3076012844794,4.667984117039452],[-77.49627193877703,4.087606105969428],[-77.12768978545526,3.849636135265357],[-77.51043128122501,3.325016994638247],[-77.93154252797149,2.696605739752926],[-78.42761043975733,2.629555568854215],[-78.66211808949785,2.267355454920477],[-78.61783138702371,1.766404120283056],[-78.99093522817104,1.691369940595251],[-78.85525875518871,1.380923773601822],[-79.5427620103998,.982937730305963],[-80.09060970734211,.768428859862397],[-80.02089820018037,.360340074053468],[-80.39932471385376,-.283703301600141],[-80.58337032746127,-.906662692878683],[-80.93365902375172,-1.057454522306358],[-80.76480628123804,-1.965047702648533],[-80.96776546906436,-2.246942640800704],[-80.36878394236925,-2.685158786635788],[-79.98655921092242,-2.220794366061014],[-79.77029334178093,-2.65751189535964],[-80.30256059438722,-3.404856459164713],[-81.09966956248937,-4.036394138203697],[-81.41094255239946,-4.736764825055459],[-80.92634680858244,-5.690556735866565],[-81.24999630402642,-6.136834405139183],[-80.53748165558608,-6.541667575713717],[-79.76057817251005,-7.194340915560084],[-79.44592037628485,-7.93083342858386],[-79.03695309112695,-8.386567884965892],[-78.09215287953464,-10.377712497604065],[-77.10619238962184,-12.22271615972082],[-76.25924150257417,-13.535039157772943],[-76.42346920439775,-13.823186944232432],[-76.00920508492995,-14.649286390850321],[-75.23788265654144,-15.265682875227782],[-73.44452958850042,-16.359362888252996],[-71.46204077827113,-17.363487644116383],[-71.37525021023693,-17.77374684008157],[-70.37257239447771,-18.34797535570887],[-70.16441972520605,-19.756468194256165],[-70.09124589708074,-21.39331918710126],[-70.40396582709502,-23.628996677344574],[-70.72495398627599,-25.705924167587256],[-70.90512386746161,-27.640379734001247],[-71.48989437527645,-28.861442152625923],[-71.37008256700773,-30.09568206148503],[-71.66872066922247,-30.920644626592495],[-71.4384504869299,-32.41889942803078],[-71.86173214383263,-33.90909270603153],[-72.55313696968174,-35.50884002049106],[-73.1667170884993,-37.12378020604439],[-73.58806087919109,-37.15628468195598],[-73.50555945503712,-38.282882582351114],[-73.21759253609065,-39.25868865331856],[-73.67709937202999,-39.94221282324317],[-74.0179571194272,-41.79481292090683],[-74.33194312203261,-43.22495818458442],[-73.70133561877488,-43.365776462579774],[-73.38889990913822,-42.117532240569574],[-72.7178039211798,-42.38335580827898],[-73.24035600451522,-44.454960625995604],[-74.35170935738425,-44.10304412208794],[-74.69215369332312,-45.76397633238103],[-75.64439531116545,-46.64764332457207],[-74.1265809801047,-46.93925343199511],[-75.18276974150216,-47.7119194476232],[-75.60801510283198,-48.67377288187184],[-75.47975419788355,-50.37837167745158],[-74.97663245308988,-51.0433956846157],[-75.2600260077785,-51.62935475037325],[-74.94676347522517,-52.26275278097475]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-74.66254309761987,-52.83749806092496],[-73.83809729683531,-53.04740772889455],[-72.43417782254585,-53.71537729269931],[-71.1077213202619,-54.07432179139866],[-70.59178382025983,-53.61584848410516],[-70.26748836941218,-52.93123910910242],[-69.3456583319736,-52.51829273865806],[-68.63412553574679,-52.6362700335804],[-68.2500146145213,-53.10001433696767],[-67.74999345566513,-53.84999439881963],[-66.44999528671462,-54.45000945416058],[-65.05000322127933,-54.700020033588665],[-65.50000159367697,-55.199989516012536],[-66.44999528671462,-55.25001230247107],[-66.95991248235468,-54.896803887756114],[-67.29102922226485,-55.30122364687231],[-68.14862545436465,-55.61185068137877],[-68.63999081081192,-55.58001799908697],[-69.23209937201221,-55.499041029685614],[-69.95807573106458,-55.19843922304378],[-71.00568620470159,-55.05384856549112],[-72.26390397814413,-54.49512297955138],[-73.28521114774458,-53.957533054419024],[-74.66254309761987,-52.83749806092496]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[44.84695804218114,80.58980988231714],[46.79913862487123,80.77191762971368],[48.31847741068461,80.78400991486998],[48.52280602396667,80.51456899690017],[49.097189568890855,80.7539859077084],[50.03976769389462,80.91888540315178],[51.522932977103665,80.69972565380193],[51.13618655783128,80.54728017854093],[49.79368452332071,80.4154277615482],[48.89441124857755,80.33956675894375],[48.75493655782177,80.17546824820089],[47.58611901224418,80.01018117951533],[46.50282596210963,80.2472468126543],[47.07245527526294,80.55942414012951],[44.84695804218114,80.58980988231714]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[53.50828982932515,73.7498139513002],[55.90245893740766,74.62748647734536],[55.631932814359686,75.08141225859718],[57.86864383324885,75.60939036732326],[61.170044386647476,76.25188345000812],[64.49836836127017,76.43905548776927],[66.21092532742284,76.80978221303117],[68.1570597675348,76.93969676381293],[68.85221113472508,76.5448113064546],[68.1805725442276,76.23364166940907],[64.63732628770302,75.73775462513625],[61.58350752141476,75.26088450794684],[58.47708214705335,74.30905630156285],[56.98678551618803,73.33304352486623],[55.419335971910925,72.37126760526603],[55.62283776227633,71.54059479439032],[57.535692579992315,70.72046397570212],[56.94497928246388,70.63274323188666],[53.67737511578417,70.76265778266846],[53.412016635965394,71.20666168892022],[51.601894565645665,71.47475901965045],[51.455753615124216,72.01488108996513],[52.47827518088354,72.22944163684097],[52.44416873557088,72.77473135038481],[54.42761355979758,73.6275475124976],[53.50828982932515,73.7498139513002]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[27.407505730913446,80.05640574820042],[25.92465050629815,79.51783397085451],[23.024465773213617,79.40003754344518],[20.075188429451828,79.56682322866722],[19.897266473070914,79.84236196564747],[18.462263624757867,79.85988027619443],[17.368015170977458,80.31889618602698],[20.45599205901064,80.59815562613225],[21.907944777115404,80.35767934846204],[22.91925255706738,80.65714427359343],[25.447625359811866,80.40734039989452],[27.407505730913446,80.05640574820042]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[24.72410363129333,77.85385285105617],[22.490338169044833,77.4449372423306],[20.726001417735688,77.67704193796955],[21.416088494561365,77.93503652618672],[20.81188764820476,78.25462942169581],[22.88426761240578,78.45495311147526],[23.281349318136538,78.0795238308748],[24.72410363129333,77.85385285105617]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[15.142827996489387,79.6743102078343],[15.522546420970059,80.01609813101275],[16.990828891679058,80.05087636994519],[18.25183719246536,79.70175039338129],[21.543832635186874,78.95611115184185],[19.027397088301797,78.56259511993922],[18.471720411867295,77.82667104767067],[17.594409620848154,77.63794871694073],[17.11821129727855,76.80942047800512],[15.913168572664349,76.77045644805706],[13.762602166405742,77.38034170196575],[14.669575229560424,77.73566885040468],[13.170596958070035,78.02492768015843],[11.22229210780182,78.86929474559149],[10.444561801809131,79.65239940054254],[13.170751987366913,80.01046539989294],[13.718522169660758,79.66040924754778],[15.142827996489387,79.6743102078343]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-77.88157141794525,7.223771267114785],[-78.21493608266012,7.512254950384161],[-78.42916073272607,8.052041123888927],[-78.18209570993864,8.319182440621773],[-78.4354652574657,8.38770538984079],[-78.62212053090394,8.718124497915028],[-79.12030717641375,8.996092027213024],[-79.55787736684519,8.932374986197146],[-79.76057817251005,8.5845150822244],[-80.16448116730334,8.333315944853595],[-80.38265906443962,8.298408514840432],[-80.4806892564973,8.09030752200107],[-80.00368994822716,7.547524115423372],[-80.276670701809,7.419754136581716],[-80.42115800649708,7.271571966984765],[-80.8864009264208,7.220541490096537],[-81.05954281281473,7.817921047390597],[-81.18971574575795,7.64790558515034],[-81.51951473664468,7.706610012233909],[-81.72131120474447,8.108962714058435],[-82.13144120962892,8.175392767769637],[-82.39093441438257,8.29236237226229],[-82.60549496125842,8.291613063994063],[-82.82008134635042,8.290863755725823],[-82.85095801464482,8.073822740099956],[-82.96578304719736,8.225053819202117],[-83.50843726269431,8.446926581247283],[-83.71147396516908,8.656836249216866],[-83.59631303580665,8.830443223501419],[-83.63264156770784,9.051385809765321],[-83.90988562695374,9.29080272057358],[-84.30340165885636,9.487354030795714],[-84.64764421256866,9.61553742109571],[-84.71335079622777,9.908051866083852],[-84.97566036654133,10.086723130733006],[-84.91137488477024,9.795991522658923],[-85.11092342806532,9.55703969974131],[-85.33948828809227,9.83454214114866],[-85.66078650586698,9.933347479690724],[-85.79744483106285,10.134885565629034],[-85.79170874707843,10.439337266476613],[-85.65931372754667,10.75433095951172],[-85.80051957878422,10.824791774941687],[-85.94172543002176,10.895278428587801],[-85.7125404528073,11.088444932494824],[-86.05848832878526,11.403438625529944],[-86.52584998243296,11.806876532432597],[-86.74599158399633,12.143961900272487],[-87.16751624220116,12.458257961471658],[-87.66849341505471,12.909909979702633],[-87.55746660027562,13.064551703336065],[-87.39238623731923,12.914018256069838],[-87.31665442579549,12.984685777228975],[-87.48940873894722,13.297534898323974],[-87.64125993523689,13.341020616097595],[-87.79311113152657,13.384480495655055],[-87.90411210808952,13.149016831917137],[-88.48330156121682,13.163951320849492],[-88.84322791212972,13.259759426318624],[-89.2567427233293,13.458532823129303],[-89.81239356154767,13.520622056527998],[-90.09555457229098,13.735337632700734],[-90.60862403030085,13.909771429901951],[-91.23241024449605,13.927832342987957],[-91.68974667027913,14.126218166556455],[-92.22775000686983,14.538828640190928],[-93.35946387406186,15.615429592343673],[-93.87516883011861,15.940190131081948],[-94.6916564603302,16.200975246642884],[-95.25022701697306,16.128318182840516],[-96.05338212765335,15.752087917539525],[-96.55743404822829,15.653515122942778],[-97.26359249549674,15.917064927631332],[-98.01302995480964,16.10731171311386],[-98.9476757474566,16.566043402568823],[-99.69739742714711,16.70616404872824],[-100.82949886758132,17.17107107184208],[-101.66608862995447,17.64902639410961],[-101.91852800170025,17.91609019619402],[-102.47813208698895,17.975750637274984],[-103.50098954955814,18.29229462327885],[-103.91752743204681,18.74857168219995],[-104.99200965047558,19.316133938061597],[-105.49303849976143,19.94676727953548],[-105.73139604370769,20.434101874263987],[-105.39777299683136,20.531718654863337],[-105.50066077352449,20.81689504646604],[-105.27075232625793,21.0762848983551],[-105.26581722697405,21.422103583252305],[-105.60316097697542,21.871145941652546],[-105.69341386597317,22.269080308516124],[-106.02871639689899,22.773752346278556],[-106.90998043498846,23.767800197845034],[-107.91544877809143,24.548915310152836],[-108.40190487347098,25.172313951105863],[-109.26019873740672,25.58060944264395],[-109.44408932171734,25.824883938087634],[-109.29164384645631,26.44293406829844],[-109.8014576892318,26.676175645447817],[-110.3917317370857,27.16211497650444],[-110.64101884646172,27.859876003525457],[-111.17891883018783,27.941240546169013],[-111.7596068998516,28.467952582303937],[-112.22823462609044,28.95440867768349],[-112.27182369672866,29.266844387320145],[-112.80959448937405,30.021113593052338],[-113.16381059451868,30.786880804969456],[-113.14866939985716,31.17096588797881],[-113.8718810697819,31.567608344035076],[-114.20573666060356,31.524045111613034],[-114.77645117883502,31.799532172161012],[-114.93669979537212,31.393484605427616],[-114.77123185917355,30.913617255165278],[-114.6738992989518,30.162681179315925],[-114.33097449426293,29.750432440707495],[-113.58887508833548,29.061611436472973],[-113.42405310754054,28.826173610951205],[-113.27196936730557,28.75478261973998],[-113.14003943566442,28.411289374295894],[-112.96229834679652,28.42519033458241],[-112.76158708377488,27.780216783147537],[-112.4579105294117,27.525813706974642],[-112.24495195193688,27.171752631126875],[-111.61648902061926,26.662817287700364],[-111.28467464887314,25.732589830014348],[-110.98781938357247,25.29463206634072],[-110.71000688357137,24.82600434010186],[-110.65504899782896,24.298594672131],[-110.17285620811349,24.265547593680353],[-109.77184709352855,23.811182562754055],[-109.40910437705575,23.36467234953612],[-109.43339230023292,23.185587673428643],[-109.8542193266018,22.818271592697997],[-110.03139197471448,22.82307750090115],[-110.29507097048376,23.43097321216659],[-110.94950130902805,24.00096426034597],[-111.67056840701271,24.484423122652586],[-112.18203589562152,24.738412787367135],[-112.14898881717087,25.470125230403927],[-112.30071082237981,26.0120042994165],[-112.77729671919163,26.321959540303165],[-113.46467078332196,26.768185533143495],[-113.59672990604385,26.639459540304426],[-113.84893673384434,26.90006378835235],[-114.46574662968014,27.142090358991343],[-115.0551421781851,27.722726752222822],[-114.98225257043741,27.798200181585113],[-114.57036556685503,27.741485297144777],[-114.19932878299939,28.115002549750443],[-114.16201839888465,28.566111965442342],[-114.93184221073669,29.279479275015515],[-115.51865393762705,29.556361599235373],[-115.88736528202958,30.180793768834224],[-116.25835038945293,30.836464341753512],[-116.72152625208501,31.635743720011916],[-117.12775468633141,32.53532705334885],[-117.2959376912739,33.04622461520375],[-117.944,33.62123643120128],[-118.41060227589757,33.74090922312447],[-118.51989482279983,34.02778157757573],[-119.081,34.078],[-119.43884064201674,34.34847717828417],[-120.36778947638344,34.447096665986706],[-120.62286434617613,34.60855967868267],[-120.74432980027817,35.15687246351558],[-121.71458065477424,36.161513983701894],[-122.54747555223851,37.55176504165017],[-122.51199968147014,37.783378811182345],[-122.953187222162,38.113694566392],[-123.72719682502968,38.95165375422087],[-123.86517289924899,39.7669786647059],[-124.39806026904279,40.313198554031004],[-124.17884884326065,41.14203685156036],[-124.21370459684152,41.99963308366016],[-124.53284,42.76599],[-124.14214,43.70838],[-124.020535,44.615895],[-123.89893,45.52341],[-124.079635,46.86475],[-124.39567,47.72017],[-124.6872100830078,48.18443298339844],[-124.56610107421875,48.379714965820305],[-123.12,48.04],[-122.58736975796783,47.095988674500845],[-122.33999467658664,47.36000356708003],[-122.50001074917841,48.18000519468748],[-122.84,49],[-122.97421,49.00253777777778],[-124.91025122770371,49.984572048535846],[-125.62460038949041,50.41656118427976],[-127.43560095915909,50.830592759802244],[-127.99275041391394,51.71583588317819],[-127.85033016651754,52.32962270772491],[-129.12978695363202,52.75538483337766],[-129.30522844126293,53.56158885356318],[-130.51497372121568,54.28756521261556],[-130.53610938202306,54.802753404349396],[-131.08581743052787,55.17890615500194],[-131.96721065969805,55.49777558045893],[-132.25000993541533,56.36999624289732],[-133.5391818918007,57.178887437562025],[-134.07806372774036,58.12306753196684],[-135.03821183972337,58.187714748763966],[-136.628063117399,58.21220937767033],[-137.80000708713024,58.49999542910376],[-139.86778784885726,59.53776154238916],[-140.82527462457725,59.72751740176493],[-142.57444434300874,60.0844465196049],[-143.95888180232416,59.999180406323305],[-145.92555762427213,60.458609727614196],[-147.11437394914668,60.88465607364455],[-148.22430620012767,60.672989406977045],[-148.01806555885082,59.978328965893525],[-148.57082251686083,59.914172675203176],[-149.72785783587588,59.70565827090546],[-150.6082433746164,59.36821116803952],[-151.71639278868332,59.15582103131994],[-151.85943315326722,59.74498403587958],[-151.4097190012472,60.72580272077933],[-150.34694149473253,61.033587551509726],[-150.62111080625706,61.28445079207063],[-151.89583919981686,60.72719798445121],[-152.5783298410956,60.06165721296418],[-154.01917212625764,59.35027944603425],[-153.28751135965314,58.8647276882198],[-154.2324924387585,58.14637360293046],[-155.30749142151018,57.7277945013663],[-156.30833472392305,57.422774359763515],[-156.55609737854644,56.9799848496706],[-158.11721655986779,56.46360809999405],[-158.43332129619716,55.99415355083853],[-159.60332739971747,55.56668610292015],[-160.28971961163427,55.64358063417046],[-161.2230476552578,55.36473460552351],[-162.23776607974102,55.02418691672007],[-163.06944658104644,54.68973704692707],[-164.78556922102723,54.40417308208217],[-164.9422263255201,54.57222483989534],[-163.8483396067657,55.039431464246164],[-162.87000139061595,55.34804311789323],[-161.80417497459607,55.89498647727042],[-160.56360470278122,56.00805451112504],[-160.07055986228445,56.41805532492877],[-158.68444291891953,57.016675116597824],[-158.46109737855406,57.216947129944984],[-157.72277035218391,57.57000051536306],[-157.55027442119365,58.32832632103016],[-157.041674974577,58.918884589261694],[-158.1947312083056,58.61580231386985],[-158.51721798402303,58.787781480537205],[-159.05860612692885,58.424186102931586],[-159.71166704001737,58.93139028587632],[-159.98128882550023,58.57254914004156],[-160.35527116599653,59.071123358793535],[-161.35500342511511,58.6708377142607],[-161.96889360252638,58.671664537177364],[-162.0549865387247,59.266951198963596],[-161.87417070213542,59.63362132429059],[-162.51805904849212,59.98972361921389],[-163.81834143782024,59.798055731843334],[-164.66221757714658,60.2674844427827],[-165.34638770247483,60.50749563256231],[-165.35083187565192,61.07389516869739],[-166.12137915755602,61.500019029376176],[-165.73445187077064,62.07499685327171],[-164.9191786367179,62.6330764838078],[-164.5625079010394,63.14637848576298],[-163.75333248599713,63.21944896102367],[-163.0672244944579,63.05945872664804],[-162.26055538638175,63.541961574957256],[-161.53444983624863,63.45581696232672],[-160.7725066803211,63.76610810002326],[-160.95833513084267,64.2227985704027],[-161.51806840721216,64.40278758407528],[-160.77777767641487,64.7886038275664],[-161.39192623598765,64.77723501246221],[-162.45305009666896,64.55944468856809],[-162.75778601789415,64.33860545516877],[-163.54639421288428,64.55916046819051],[-164.96082984114514,64.4469450954687],[-166.42528825586453,64.6866720648707],[-166.84500423893917,65.0888955756145],[-168.11056006576712,65.66999705673662],[-166.70527116602193,66.08831777613933],[-164.4747096425755,66.57666006129752],[-163.65251176659564,66.57666006129752],[-163.7886016510363,66.07720734319658],[-161.67777442121016,66.11611969671235],[-162.48971452538007,66.73556509059505],[-163.7197169667912,67.11639455837],[-164.43099138085657,67.61633820257772],[-165.39028683170673,68.04277212185026],[-166.7644406809961,68.35887685817967],[-166.2047074046267,68.88303091091613],[-164.43081051334352,68.91553538682773],[-163.16861365461455,69.37111481391288],[-162.93056616926202,69.8580618353992],[-161.90889726463556,70.33332998318757],[-160.93479651593373,70.44768992784948],[-159.0391757883871,70.89164215766895],[-158.11972286683394,70.82472117785098],[-156.58082455139808,71.35776357694165],[-155.06779029032433,71.14777639432363],[-154.34416520894123,70.69640859647025],[-153.90000627339256,70.88998851183563],[-152.2100060699353,70.82999217394475],[-152.27000240782615,70.60000621202978],[-150.7399924387445,70.43001658800564],[-149.72000301816752,70.53001048449043],[-147.61336157935702,70.21403493924176],[-145.68999060766964,70.12000967068671],[-144.9200117665207,69.98999176704037],[-143.58944698786956,70.1525141465983],[-142.07251115615776,69.85196401638875],[-140.98598832900498,69.71199839952622],[-139.12052079970064,69.47100535753306],[-137.5463533192256,68.99000112576032],[-136.50357459200788,68.89801707628077],[-135.6257470366658,69.31512339952464],[-134.41463233125734,69.62742991808058],[-132.92924496145972,69.505344346791],[-131.43135189504747,69.94451650662351],[-129.79470760793157,70.19370026313491],[-129.1077211170434,69.7792552761541],[-128.36156511118105,70.01285858832951],[-128.13816789438326,70.48383759223763],[-127.44712480356019,70.37720327420335],[-125.75632361540238,69.48056549750707],[-124.42482866096998,70.15840525987956],[-124.28966895231058,69.39969188097028],[-123.06108761278743,69.56371287706467],[-122.68348792203072,69.8555296902169],[-121.47226986375765,69.79778127713074],[-119.94288001186351,69.37785858832696],[-117.60268693730987,69.01129181586457],[-116.2264401925127,68.84148305935348],[-115.24688758020409,68.90592357042142],[-113.8979518298732,68.39890025498973],[-115.30489437545172,67.90262563747471],[-113.49727861209814,67.68816844346343],[-110.79801184776443,67.80609406195349],[-109.94617753786518,67.98104462347762],[-108.88019609254842,67.38144297959501],[-107.79238135458836,67.88732941351633],[-108.81299089235284,68.31164459906488],[-108.16721635621744,68.65394928656626],[-106.95000383179851,68.69999298773833],[-106.15000098348801,68.79998688422309],[-105.34281511108895,68.5612159288185],[-104.3379152087412,68.01801911078248],[-103.22116166869766,68.09775584580883],[-101.4543444486385,67.64687897406223],[-99.90195858437448,67.80562897406286],[-98.44321041542332,67.78165110947943],[-98.55860388873108,68.40393870713818],[-97.66948503293327,68.57865672471699],[-96.11991553422915,68.23940094672083],[-96.12588416215885,67.29338633896965],[-95.48943722205215,68.09070201280097],[-94.68499020056456,68.0638302680092],[-94.23282141801066,69.06901439073458],[-95.3040738594212,69.68572093370581],[-96.47131527381387,70.08977895779596],[-96.39113928911304,71.19482778592537],[-95.20880835649112,71.92051992460016],[-93.88997412797022,71.76016795519847],[-92.87817542191148,71.318696194129],[-91.51965369339042,70.1912714708172],[-92.40691219762576,69.69998362901835],[-90.54710323765737,69.49767039659567],[-90.55149573440218,68.4749938015395],[-89.21514319533433,69.25871857367805],[-88.01966061069413,68.61508860948275],[-88.31749772820834,67.87337677679751],[-87.35016659213676,67.1987409532271],[-86.30607011589562,67.9214616970451],[-85.57663143587968,68.78456146918397],[-85.52198360873102,69.88209137641492],[-84.10080420605608,69.80540355089379],[-82.62257402213088,69.65825490994267],[-81.28043372264632,69.16203196885995],[-81.22020484081015,68.6656798366965],[-81.96437130402929,68.13253408474127],[-81.25927222362282,67.59716624619743],[-81.38652543814156,67.11078766546633],[-83.34457129589678,66.41155386012498],[-84.73541663281641,66.25729970973374],[-85.76943620476065,66.5583149278339],[-86.06760921908479,66.05625254990223],[-87.0314263577605,65.21297068954728],[-87.3232431709127,64.77563304306115],[-88.48296566440692,64.09898183863136],[-89.91442867710796,64.03273265243318],[-90.7039928860955,63.610174465582546],[-90.77003536656451,62.96021413843151],[-91.93342688675146,62.83507965763674],[-93.15696977412614,62.024689846435564],[-94.24152889685183,60.898660386795655],[-94.62930884477005,60.110207221102385],[-94.68460262732236,58.94880524355869],[-93.21502824580605,58.78212291120124],[-92.7646164619501,57.84572011985635],[-92.29702226435708,57.0870842555955],[-90.89767615432544,57.28466909446348],[-89.0395208401904,56.85172394472216],[-88.03978858107182,56.47161794699929],[-87.32419918491009,55.99911448833855],[-86.07120073112904,55.723834133519745],[-85.01180803092949,55.30261953390868],[-83.36053931347496,55.244896959038655],[-82.27285376659565,55.14831370708515],[-82.43620296907024,54.282268378305645],[-82.1250333320247,53.27703257914797],[-81.40073645702181,52.15785024678672],[-79.91289445669035,51.20839915628814],[-79.14301896840601,51.533934841510785],[-78.60191504587782,52.56206330017376],[-79.12420874705178,54.14145010031027],[-79.82956620961971,54.66772288677072],[-78.22873369008205,55.13645396587417],[-77.095598721002,55.83741893169727],[-76.54136898467166,56.53422394472089],[-76.62319861520584,57.20263275820014],[-77.3022527737372,58.05208995221395],[-78.51688147654153,58.80457632103206],[-77.33674679229202,59.85262604434355],[-77.77271501332241,60.75789378523259],[-78.10688066273781,62.31965892195758],[-77.41066992868555,62.55054922143768],[-75.69620093453807,62.27839529077252],[-74.66820166695584,62.18111440698307],[-73.83988013374939,62.443785712322665],[-72.9085416327691,62.10507253686558],[-71.67709225125375,61.52536631941534],[-71.37369991726817,61.13719879825494],[-69.59042375352405,61.061415310298905],[-69.6203185696049,60.22123403588148],[-69.28788408067129,58.95735769310299],[-68.37455481634471,58.801062323636216],[-67.64976701523504,58.21205434837344],[-66.2017675442006,58.76731761334962],[-65.24518510604574,59.8707127956457],[-64.58352006698058,60.3355939805434],[-63.804756232342065,59.44257355410754],[-62.50235510928999,58.16709585227951],[-61.396556972892306,56.96742747662366],[-61.798651292555384,56.33945547141284],[-60.46852576357871,55.77548472759547],[-59.569614223861585,55.20407257752808],[-57.975086229063535,54.945483710339545],[-57.333213263566165,54.626485093801804],[-56.93688086610365,53.78033519145467],[-56.15811703146511,53.647475084032266],[-55.756306932179655,53.27036631938232],[-55.683391486215825,52.146636460979394],[-56.40916113953904,51.77069041605601],[-57.12692094585701,51.4197040879296],[-58.77483069521256,51.064299424842254],[-60.03310014508739,50.242773342482195],[-61.72366878929988,50.08045766865341],[-63.86250464542823,50.2909874538105],[-65.36331743026496,50.29817047789908],[-66.39904232447483,50.22897573506026],[-67.23630388046776,49.511551825552175],[-68.51113562689214,49.068374742217074],[-69.95363155788749,47.7448896347899],[-71.10456905789209,46.82171601011173],[-70.25521521674287,46.98607290301604],[-68.6499902004604,48.29999787046922],[-66.55244381373326,49.13307363544649],[-65.05625606958665,49.232783311553675],[-64.17098710799456,48.742503160184526],[-65.11545142277699,48.070864569687046],[-64.79854570174707,46.992971706727005],[-64.47218319360775,46.23849579526565],[-63.17329606795151,45.73901723894854],[-61.520709601473534,45.88376292579808],[-60.51813513857891,47.007932033875505],[-60.448604498930194,46.28265330665906],[-59.8028816392271,45.920401516293026],[-61.03988623721381,45.265247707696645],[-63.25471228702736,44.670141913423436],[-64.24656389022142,44.26551544857807],[-65.3640667385332,43.54524933529393],[-66.12340023462998,43.618681545580685],[-66.1617183091744,44.46511566830543],[-64.42549353703204,45.29204193783998],[-66.02604183619209,45.25930491798309],[-67.13742102727727,45.13750356707113],[-66.96466,44.8097],[-68.03252,44.3252],[-69.06,43.98],[-70.11617,43.68405],[-70.64547563341108,43.09023834896399],[-70.81489681668,42.86529083919747],[-70.82499955919306,42.334987291018265],[-70.49499386257716,41.80499380143282],[-70.08000627305726,41.78000824641968],[-70.1849869452582,42.144998887697184],[-69.88497941758774,41.92281606705828],[-69.96502621120786,41.63717458756496],[-70.63999793158814,41.47498810481691],[-71.1203820461734,41.4944442815748],[-71.85382564969197,41.31998464615744],[-72.29498735216768,41.26998769791504],[-72.8764247300997,41.2206367050763],[-73.71,40.93110235165436],[-72.24124386258414,41.11948008886496],[-71.94500871447097,40.930008449866804],[-73.34500077990626,40.630000922196345],[-73.98199032255204,40.6280113795531],[-73.952325,40.75075],[-74.25670223661564,40.4734988470004],[-73.96244,40.42763],[-74.1783866034773,39.70925608983589],[-74.90604244657918,38.939535630848425],[-74.98040483264718,39.19639333755519],[-75.20002966988764,39.24845734308924],[-75.52804582386031,39.49849376073348],[-75.31999650745323,38.95999949803601],[-75.07183476478983,38.78203223017923],[-75.05673,38.40412],[-75.37746070016179,38.015509345037444],[-75.94024288603643,37.21690176039883],[-76.03127092151857,37.25658926039898],[-75.72205,37.93705],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.717615],[-76.32933,38.08326],[-76.98999793161354,38.239991766913334],[-76.30162,37.917945],[-76.25874,36.9664],[-75.9718,36.89726],[-75.86805091012468,36.55125763604721],[-75.72749101429079,35.55075023044425],[-76.36318864612927,34.80854747165222],[-77.397635,34.51201],[-78.05496,33.92547],[-78.55434688995314,33.861344305958326],[-79.06067,33.49395],[-79.20357,33.15839],[-80.301325,32.509355],[-80.86498,32.0333],[-81.33629,31.44049],[-81.49042090526437,30.729985053016108],[-81.31371,30.03552],[-80.97998694530139,29.180002142853652],[-80.535585,28.47213],[-80.52998857290376,28.039994208278785],[-80.05653928497766,26.88],[-80.088015,26.205765],[-80.13156,25.816775],[-80.38103,25.20616],[-80.68000525584706,25.079994004816427],[-81.17211992056258,25.20125275318931],[-81.32999142121425,25.639985663347304],[-81.70999406607253,25.869997463478445],[-82.24001339387414,26.72999664967979],[-82.70515,27.49504],[-82.85526,27.88624],[-82.65001420767786,28.54998891856728],[-82.93,29.1],[-83.70959,29.93656],[-84.1,30.09],[-85.10882,29.63615],[-85.28784,29.68612],[-85.7731,30.15261],[-86.3999920315861,30.400005194616355],[-87.53036231153854,30.274328111282514],[-88.41782752150303,30.384915676387124],[-89.18049,30.31598],[-89.59383117841979,30.159994004836747],[-89.413735,29.89419],[-89.43,29.48864],[-89.21767,29.29108],[-89.40823,29.15961],[-89.77928,29.30714],[-90.15463,29.11743],[-90.880225,29.148535],[-91.626785,29.677],[-92.49906,29.5523],[-93.22637,29.78375],[-93.84842,29.71363],[-94.69000281449686,29.480009670524126],[-95.60025733110206,28.738633734648772],[-96.59404680050707,28.307471421821518],[-97.14000830767073,27.830007025660766],[-97.3699942695857,27.38000865326312],[-97.37999365923417,26.68999909108588],[-97.32999671099181,26.210002549742825],[-97.14000830767073,25.869997463478445],[-97.52807247596655,24.992144069920244],[-97.70294552284224,24.272343044526735],[-97.77604183631911,22.932579860927632],[-97.87236670611115,22.44421173755327],[-97.6990439522042,21.89868948006412],[-97.38895952023682,21.41101898852571],[-97.18933346229332,20.635433254473128],[-96.52557552772033,19.89093089444411],[-96.29212724484181,19.32039724372568],[-95.90088497596004,18.828024196848702],[-94.83906348344277,18.562717393462222],[-94.42572953975622,18.14437083584336],[-93.5486512926824,18.423836981677823],[-92.7861138577835,18.524838568592287],[-92.0373481920904,18.704595038319567],[-91.40790340855925,18.876083278880145],[-90.77186987991085,19.28412038825678],[-90.53358985061305,19.8674181177513],[-90.45147599970126,20.707521877520293],[-90.27861833368493,20.999855454995412],[-89.6013211738515,21.26172577563449],[-88.54386633986289,21.493675441976563],[-87.6584165107578,21.45884552661184],[-87.05189022494808,21.54354319913821],[-86.81198238803304,21.331514797444655],[-86.84590796583268,20.849864610268256],[-87.38329118523586,20.255404771398688],[-87.62105445021076,19.646553046135836],[-87.43675045444179,19.472403469312226],[-87.58656043165594,19.0401301131907],[-87.83719112827153,18.259815985583415],[-88.09066402866317,18.516647854074023],[-88.3000310940937,18.4999822046599],[-88.29633622918482,18.35327281338327],[-88.10681291375438,18.348673610909287],[-88.1234785631685,18.07667470954101],[-88.2853549873228,17.644142971258034],[-88.19786678745265,17.489475409408456],[-88.30264075392444,17.131693630435663],[-88.23951799187991,17.036066392479555],[-88.35542822951057,16.530774237529627],[-88.55182451043585,16.265467434143147],[-88.73243364129594,16.2336605900675],[-88.93061275913527,15.887273464415076],[-88.60458614780585,15.70638011317736],[-88.51836402052686,15.855389105690975],[-88.18998613152814,15.71999685308627],[-88.12115312371537,15.688655096901257],[-87.90181250685251,15.86445831955821],[-87.61568010125242,15.878798529519202],[-87.5229209052885,15.797278957578769],[-87.36776241733216,15.846940009011263],[-86.90319129102821,15.756712958229656],[-86.4409456041774,15.78283539475319],[-86.11923397494434,15.893448798073948],[-86.00195431185793,16.00540578863429],[-85.68331743034625,15.953651841693983],[-85.44400387240259,15.885749009662463],[-85.18244361035727,15.909158433490672],[-84.98372188997887,15.995923163308731],[-84.52697974316715,15.857223619037342],[-84.36825558138266,15.835157782448718],[-84.06305457226686,15.648244126849006],[-83.77397661002611,15.424071763566857],[-83.41038123242049,15.270902818253745],[-83.14721900097413,14.99582916916411],[-83.23323442252394,14.899866034398102],[-83.2841615465476,14.6766238468972],[-83.18212643098728,14.31070302983845],[-83.41249996614445,13.970077826386557],[-83.51983191601468,13.567699286345883],[-83.55220720084554,13.127054348193086],[-83.49851538769427,12.869292303921227],[-83.47332312695198,12.419087225794428],[-83.62610449902292,12.320850328007566],[-83.71961300325506,11.893124497927728],[-83.65085751009072,11.62903209070012],[-83.8554703437504,11.373311265503787],[-83.80893571647155,11.103043524617275],[-83.65561174186158,10.938764146361422],[-83.59000851106704,10.785000922076946],[-83.40231970898296,10.395438137244653],[-83.01567664257517,9.992982082555557],[-82.54619625520348,9.566160590040823]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-82.54619625520348,9.566160590040823],[-82.18712256542341,9.20744863528678],[-82.20758643261097,8.9955752628901],[-81.80856686066929,8.950616766796173],[-81.71415401887204,9.031955471223583],[-81.43928707551154,8.786234035675719],[-80.94730160187676,8.858503526235907],[-80.52190121125008,9.111072089062432],[-79.91459977895599,9.31276520429762],[-79.57330278188431,9.611610012241528],[-79.02119177927793,9.552931423374105],[-79.05845048696037,9.454565334506526],[-78.50088762074719,9.420458889193881],[-78.05592770049802,9.2477304142583],[-77.72951351592641,8.946844387238869],[-77.35336076527386,8.67050466555807]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-71.71236141629296,19.714455878167357],[-71.58730445014663,19.8849105900821],[-71.38000444200779,19.904986884027494],[-70.80670610216174,19.880285549391985],[-70.21436499701613,19.62288524014616],[-69.95081519232758,19.64799998624001],[-69.76925004747008,19.29326711677244],[-69.22212582057988,19.313214219637103],[-69.25434607611385,19.015196234609874],[-68.80941199408083,18.979100246654],[-68.31794328476897,18.612197577381693],[-68.68931596543452,18.205142320218613],[-69.16494584824892,18.42264842373511],[-69.62398759629764,18.38071299893025],[-69.95293392605154,18.42830699307106],[-70.1332329983179,18.245915025296895],[-70.51713721381422,18.184290879788833],[-70.66929846869763,18.426885891183034],[-70.99995012071719,18.283328762276213],[-71.4002099270339,17.5985643579766],[-71.65766191271202,17.7575727401387],[-71.70830481635805,18.044997056546094],[-72.37247616238935,18.21496084235406],[-72.84441118029488,18.145611070218365],[-73.45455481636503,18.2179063989947],[-73.92243323433566,18.030992743395004],[-74.45803361682478,18.342549953682706],[-74.36992529976713,18.66490753831941],[-73.44954220243272,18.526052964751145],[-72.69493709989064,18.445799465401862],[-72.334881557897,18.668421535715254],[-72.79164954292489,19.10162506761803],[-72.78410478381028,19.48359141690341],[-73.41502234566175,19.639550889560283],[-73.18979061551762,19.915683905511912],[-72.57967281766362,19.871500555902358],[-71.71236141629296,19.714455878167357]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[14.761249220446189,38.14387360285046],[15.520324334381513,38.231180935207576],[15.160242954171736,37.44404551853776],[15.309897902089006,37.13421946873183],[15.099988234119422,36.6199872909954],[14.335228712631988,36.996630967754726],[13.826732618879959,37.10453135838016],[12.431003859108756,37.61294993748375],[12.570943637755136,38.12638113051966],[13.741156447004613,38.03496552179533],[14.761249220446189,38.14387360285046]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[37.53913536962585,44.65722280535048],[38.679995965333546,44.279984849619794],[39.955008579270924,43.43499766699922]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[132.37117638563024,33.46364248304006],[132.92437259331473,34.06029857028204],[133.4929683778222,33.94462087659667],[133.90410607313635,34.36493113864263],[134.63842817600386,34.149233710256354],[134.76637902235854,33.80633474378362],[134.2034159689709,33.20117788342964],[133.79295006727654,33.5219851750976],[133.28026818250885,33.28957042086489],[133.0148580262578,32.70456736910474],[132.36311486219267,32.989382025681394],[132.37117638563024,33.46364248304006]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-16.256883307347167,19.096715806550307],[-16.37765112961327,19.593817246981985],[-16.277838100641517,20.0925206568147],[-16.536323614965468,20.567866319251493],[-17.06342322434257,20.999752102130827],[-17.020428432675743,21.42231028898148],[-16.973247849993257,21.885744533774997],[-16.589136928767758,22.158234361250052],[-16.26192175949562,22.679339504481305],[-16.32641394699587,23.017768459560788],[-15.98261064295805,23.72335846607402],[-15.426003790742271,24.35913361256094],[-15.089331834360719,24.520260728447003],[-14.82464514816175,25.10353261972537],[-14.800925665739769,25.63626496022229],[-14.439939947964888,26.25441844329768],[-13.773804897506494,26.61889232025227],[-13.139941779014379,27.640147813420413],[-12.618836635783126,28.038185533148567],[-11.688919236690865,28.148643907172456],[-10.900956997104387,28.83214223888092],[-10.399592251008627,29.098585923777815],[-9.564811163765697,29.933573716749905],[-9.814718390329206,31.177735500609046],[-9.43479326011935,32.03809642183644],[-9.300692918321941,32.564679266890636],[-8.657476365584985,33.2402452662423],[-7.654178432638275,33.697064927702456],[-6.912544114601445,34.11047638603745],[-6.244342006851383,35.145865383437425],[-5.929994269219918,35.75998810479405],[-5.193863491222174,35.755182196590894],[-4.591006232105173,35.33071198174545],[-3.640056525070122,35.39985504815198],[-2.604305792644113,35.1790933294011],[-2.169913702798624,35.16839630791668],[-1.208602871089056,35.7148487411871],[-.127454392894606,35.888662421200806],[.503876580415209,36.30127289483528],[1.466918572606545,36.605647081034405],[3.161698846050825,36.78390493422522],[4.81575809084913,36.86503693292346],[5.320120070017794,36.71651886651662],[6.261819695672613,37.11065501560674],[7.330384962603971,37.11838064223437],[7.737078484741005,36.885707505840216],[8.420964389691676,36.94642731378316],[9.509993523810607,37.349994411766545],[10.210002475636317,37.230001735984814],[10.180650262094531,36.724037787415085],[11.02886722173335,37.09210317641396],[11.100025668999251,36.899996039368915],[10.600004510143094,36.410000108377375],[10.593286573945138,35.94744436293281],[10.939518670300687,35.698984076473494],[10.807847120821009,34.83350718844919],[10.149592726287125,34.33077301689771],[10.339658644256616,33.78574168551532],[10.856836378633687,33.76874013929128],[11.108500603895122,33.293342800422195],[11.488787469131012,33.13699575452314],[12.663341098692996,32.79277903902697],[13.083263787496776,32.87882029879293],[13.918664991927187,32.71195709892248],[15.24561242031791,32.2650851506785],[15.713955926179182,31.37625051525828],[16.61162723152131,31.182179673786152],[18.021101922282156,30.76357473400583],[19.08641157397912,30.266395778925713],[19.574030389085237,30.525811469030913],[20.053380975024652,30.985757554644735],[19.820320265388318,31.75178314872332],[20.13399620939998,32.23818756767058],[20.854520704845555,32.70678945569328],[21.54300581227019,32.843215236943834],[22.895791456806847,32.63857656506802],[23.23680423350092,32.19149791109487],[23.609132928163888,32.187260443646935],[23.927511427514105,32.01667654065146],[24.921145867622243,31.89934520113276],[25.16480024587844,31.569158637003838],[26.495313348097312,31.585669257121097],[27.457631870236554,31.32126679129972],[28.450491163860335,31.025755113238645],[28.913511997195513,30.870054022743233],[29.683439161912133,31.18685639090856],[30.095041945116918,31.473402207967],[30.97695193861003,31.55585195568868],[31.68796797051391,31.429606431599638],[31.960406121556677,30.933616034462233],[32.19248497897948,31.260340277627606],[32.99393476739414,31.024075629189156],[33.77337039565245,30.967464097613416],[34.26543338393569,31.219360866820153],[34.55637169773891,31.548823960896996],[34.48810713068136,31.60553884533732],[34.75258711115117,32.07292633720117],[34.95541710789678,32.82737641044638],[35.098457472480675,33.080539252244265],[35.126052687324545,33.09090037691878],[35.48220665868013,33.90545014091944],[35.9795923194894,34.61005829521913],[35.99840254084364,34.644914048800004],[35.905023227692226,35.410009467097325],[36.149762811026534,35.82153473565367],[35.782084995269855,36.27499542901485],[36.160821567537,36.65060557712833],[35.55093631362831,36.565442816711325],[34.714553256984345,36.7955321314909],[34.026894972476384,36.219960028624016],[32.509158156064075,36.107563788389186],[31.699595167779567,36.64427521417258],[30.621624790171097,36.6778648951623],[30.391096225717064,36.26298065850699],[29.69997562024554,36.144357408180994],[28.732902866335422,36.67683136651647],[27.641186557737317,36.65882212986274],[27.048767937943264,37.653360907536],[26.318218214633045,38.208133246405396],[26.804700148228733,38.985760199533516],[26.17078535330433,39.463612168936464],[27.28001997244939,40.42001373957831],[28.81997765474722,40.46001129817221],[29.240003696415584,41.21999074967267],[31.14593387220444,41.08762156835702],[32.34797936374571,41.736264146484615],[33.51328291192746,42.01896006933731],[35.167703891751785,42.040224921225416],[36.9131270688421,41.33535838476427],[38.34766482926452,40.94858612727573],[39.512606642420195,41.10276276301855],[40.373432651538224,41.01367259374735],[41.55408410011066,41.53565623632757],[41.70317060727271,41.96294281673292],[41.45347008643839,42.64512339941794],[40.87546919125379,43.013628038091284],[40.32139448422032,43.128633938156845],[39.955008579270924,43.43499766699922],[38.679995965333546,44.279984849619794],[37.53913536962585,44.65722280535048],[36.67546715673177,45.24468048764449],[37.403174676265934,45.40451569272325],[38.232943149576556,46.24087291115107],[37.673700799313906,46.63658519142609],[39.14766767757499,47.044725653667314],[39.12120934424155,47.26336863869423],[38.22353803889942,47.102189846375886],[37.42513715998999,47.022220567404204],[36.75985477066439,46.698700263040934],[35.82368452326483,46.64596446388707],[34.96234174982388,46.27319651954964],[35.020787794745985,45.65121898048466],[35.51000857925317,45.40999339454619],[36.52999799983016,45.46998973243706],[36.33471276219916,45.113215643893966],[35.23999922052812,44.939996242851606],[33.882511020652885,44.36147858334407],[33.326420932760044,44.56487702084489],[33.54692426934946,45.03477081967489],[32.4541744321055,45.32746613217608],[32.630804477679135,45.51918569597891],[33.58816206231839,45.85156850848024],[33.29856733575471,46.080598456397844],[31.74414025241518,46.333347886737386],[31.675307244602408,46.70624502215554],[30.7487488136091,46.583100084004],[30.377608676888883,46.03241018328567],[29.603289015427436,45.293308010431126],[29.62654340995877,45.0353909368624],[29.141611769331835,44.820210272799045],[28.8378577003202,44.913873806328056],[28.558081495891997,43.70746165625813],[28.03909508638472,43.293171698574184],[27.67389773937805,42.57789236100622],[27.99672041190539,42.00735871028779],[28.115524529744416,41.62288605403624],[28.988442824018733,41.29993419042819],[28.806438429486743,41.05496206314856],[27.61901736828409,40.99982330989314],[27.19237674328238,40.69056570084242],[26.35800906749779,40.151993923496505],[26.04335127127257,40.61775360774317],[26.05694217296534,40.82412344010076],[25.44767703624416,40.8525454778613],[24.925848422960826,40.947061672523134],[23.71481123220076,40.68712921809501],[24.407998894963953,40.12499298762401],[23.899967889102555,39.96200552017544],[23.342999301860743,39.96099782974575],[22.81398766448882,40.476005153966554],[22.62629886240475,40.25656118423912],[22.84974775563481,39.65931081802579],[23.350027296652428,39.190011298167136],[22.97309939951549,38.9709032252496],[23.53001631032501,38.51000112563838],[24.02502485524889,38.21999298761638],[24.040011020613516,37.65501455336933],[23.115002882588982,37.920011298162066],[23.409971958110987,37.40999074965741],[22.774971958108466,37.30501007745647],[23.154225294698506,36.422505804992014],[22.490028110451075,36.410000108377375],[21.67002648284361,36.84498647719421],[21.295010613701493,37.64498932550471],[21.12003421396122,38.310323391262585],[20.73003217945444,38.7699852564988],[20.2177120297128,39.34023468683962],[20.150015903410463,39.62499766698399],[19.980000441170205,39.69499339452332],[19.960001661873235,39.915005805005976],[19.406081984136648,40.25077342382242],[19.319058872157143,40.727230129553504],[19.403549838954348,41.40956574153539],[19.54002729663719,41.71998607031267],[19.371768833094848,41.8775475123706],[19.162479282312745,41.95501048437612],[18.882134637129354,42.281502183596174],[18.450016310304704,42.47999136002926],[17.50997033048324,42.84999461523907],[16.930005730871528,43.2099984808004],[16.015384555737654,43.50721548112712],[15.174453973052012,44.243191229827985],[15.376250441151768,44.317915350922036],[14.920309279040566,44.73848399512944],[14.901602410550908,45.076060289076096],[14.258747592840024,45.2337767604309],[13.95225467291692,44.80212352149688],[13.656975538801165,45.13693512631593],[13.67940311041582,45.48414907488502],[13.715059848697223,45.500323798192376],[13.937630242578308,45.59101593686462],[13.141606479554296,45.73669179949542],[12.32858117030625,45.381778062514826],[12.383874952858548,44.885374253919096],[12.261453484759102,44.600482082693986],[12.589237094786455,44.09136587175446],[13.526905958722494,43.587727362637864],[14.029820997787029,42.761007798832466],[15.142569614327925,41.95513967545685],[15.926191033601896,41.961315009115715],[16.169897088290384,41.74029490820339],[15.889345737377797,41.541082261718216],[16.785001661860548,41.17960561783656],[17.51916873543118,40.87714345963222],[18.37668745288252,40.35562490494263],[18.48024702319543,40.16886627863981],[18.293385044028042,39.810774441073264],[17.738380161213314,40.277671006830346],[16.869595981522338,40.44223460546381],[16.448743116937322,39.79540070246644],[17.17148969897147,39.42469981542068],[17.052840610429314,38.90287120213735],[16.635088331781816,38.843572496082416],[16.100960727613,37.9858987493342],[15.684086948314473,37.908849188787016],[15.687962680736348,38.21459280044188],[15.89198123542468,38.75094249119924],[16.109332309644287,38.9645470240777],[15.718813510814613,39.54407237401492],[15.413612501698793,40.048356838535156],[14.99849572109818,40.17294871679087],[14.703268263414714,40.604550279292596],[14.060671827865264,40.7863479680954],[13.627985060285397,41.1882872584616],[12.888081902730365,41.253089504555604],[12.106682570044939,41.70453481705741],[11.191906365614216,42.3554253199897],[10.51194786951774,42.93146251074721],[10.200028924203991,43.9200068222746],[9.702488234097842,44.03627879493132],[8.88894616052687,44.36633616797951],[8.428560825238577,44.23122813575242],[7.850766635783144,43.76714793555524],[7.435184767291872,43.69384491634922],[6.52924523278304,43.128892320318315],[4.556962517931424,43.399650987311595],[3.100410597352663,43.075200507167054],[2.985998976258458,42.47301504166986],[3.039484083680549,41.892120266276905],[2.091841668312185,41.226088568683096],[.810524529635188,41.01473196060934],[.721331007499401,40.678318386389236],[.106691521819869,40.12393362076202],[-.278711310212941,39.30997813573272],[.111290724293838,38.73851430923304],[-.467123582349103,38.29236583104115],[-.683389451490598,37.642353827457825],[-1.438382127274849,37.44306366632422],[-2.146452602538119,36.67414419203729],[-3.415780808923386,36.65889964451118],[-4.368900926114719,36.677839056946155],[-4.995219285492212,36.32470815687964],[-5.377159796561457,35.946850083961465],[-5.866432257500904,36.02981659600606],[-6.236693894872175,36.367677110330334],[-6.520190802425404,36.94291331638732],[-7.453725551778092,37.09778758396607],[-7.855613165711986,36.83826854099627],[-8.382816127953689,36.97888011326246],[-8.898856980820328,36.86880931248078],[-8.746101446965556,37.65134552667661],[-8.83999752443988,38.266243394517616],[-9.287463751655224,38.3584858261586],[-9.526570603869713,38.73742910415491],[-9.446988898140235,39.39206614842837],[-9.048305223008427,39.75509308527877],[-8.977353481471683,40.15930613866581],[-8.768684047877102,40.76063894303019],[-8.79085323733031,41.18433401139126],[-8.99078935386757,41.54345937760364],[-9.034817674180246,41.880570583659676],[-8.984433152695674,42.59277517350627],[-9.392883673530648,43.0266246608127],[-7.97818966310831,43.74833771420099],[-6.754491746436756,43.567909450853925],[-5.411886359061597,43.57423981380968],[-4.347842779955783,43.40344920508504],[-3.51753170410609,43.4559007838613],[-1.901351284177764,43.42280202897834],[-1.384225226232985,44.022610378590116],[-1.193797573237418,46.01491771095486],[-2.225724249673845,47.06436269793822],[-2.963276129559603,47.57032664650795],[-4.491554938159482,47.954954332056374],[-4.592349819344776,48.68416046812699],[-3.295813971357803,48.90169240985963],[-1.616510789384961,48.64442129169454],[-1.933494025063311,49.776341864615745],[-.98946895995536,49.34737580016091],[1.338761020522696,50.12717316344526],[1.6390010921385,50.9466063502975],[2.513573032246143,51.14850617126186],[3.314971144228537,51.34578095153609],[3.830288527043081,51.62054454203196],[4.705997348661185,53.09179840759775],[6.07418257002081,53.51040334737807],[6.905139601274129,53.48216217713056],[7.100424838905127,53.69393219666266],[7.936239454793877,53.748295803433706],[8.121706170289428,53.527792466844296],[8.80073449060464,54.02078563090876],[8.572117954145398,54.395646470754016],[8.526229282270208,54.96274363872503],[8.120310906617533,55.5177226833236],[8.08997684086222,56.54001170513759],[8.256581658571207,56.80996938743033],[8.543437534223415,57.11000275331695],[9.424469028367554,57.1720661484995],[9.775558709358535,57.44794078228966],[10.580005730846125,57.73001658795485],[10.546105991262664,57.21573273378612],[10.250000034230226,56.89001618105044],[10.369992710011957,56.60998159446079],[10.912181837618306,56.458621324277885],[10.667803989310016,56.08138336854721],[10.369992710011957,56.19000722922473],[9.649984978889279,55.469999498102055],[9.921906365609118,54.98310415304803],[9.939579705452957,54.596641954153256],[10.950112338920519,54.363607082733054],[10.939466993868393,54.00869334575247],[11.95625247564331,54.19648550070113],[12.5184403825466,54.47037059184805],[13.647467075259442,54.07551097270586],[14.119686313542587,53.75702912049104],[14.802900424873458,54.05070628520575],[16.36347700365573,54.513158677785725],[17.622831658608675,54.85153595643291],[18.62085859546164,54.68260569927078],[18.696254510175464,54.43871877706929],[19.660640089606403,54.42608388937393],[19.888481479581287,54.86616038677151],[21.268448927503467,55.190481675835315],[21.055800408622417,56.031076361711065],[21.090423618257972,56.78387278912294],[21.581866489353672,57.411870632549935],[22.52434126149288,57.75337433535076],[23.318452996522097,57.00623647727487],[24.12072960785343,57.02569265403277],[24.312862583114622,57.79342357037697],[24.42892785004216,58.38341339785329],[24.061198357853186,58.25737457949341],[23.426560092876684,58.612753404364625],[23.339795363058645,59.187240302153384],[24.604214308376186,59.46585378685502],[25.86418908051664,59.61109039981133],[26.949135776484525,59.445803331125774],[27.981114129353244,59.475388088612874],[29.117685581180694,60.02806753197446],[28.069997592895277,60.50351654727584],[26.255172967236973,60.4239606797625],[24.496623976344523,60.05731639265166],[22.869694858499457,59.846373196036225],[22.290763787533592,60.39192129174154],[21.322244093519316,60.720169989659524],[21.544866163832694,61.70532949487179],[21.05921105315369,62.60739329695874],[21.536029493910803,63.18973501245587],[22.442744174903993,63.81781037053129],[24.730511508897536,64.90234365504084],[25.398067661243942,65.11142650009374],[25.294043003040404,65.53434642197045],[23.903378533633802,66.00692739527962],[22.18317345550193,65.72374054632017],[21.21351687997722,65.02600535751527],[21.369631381930958,64.41358795842429],[19.77887576669022,63.60955434839504],[17.84777916837521,62.74940013289681],[17.119554884518124,61.34116567651097],[17.83134606290639,60.63658336042741],[18.78772179533209,60.081914374422595],[17.86922488777634,58.9537661810587],[16.829185011470088,58.71982697207339],[16.447709588291474,57.041118069071885],[15.879785597403783,56.10430186626866],[14.666681349352075,56.200885118222175],[14.100721062891465,55.40778107362265],[12.942910597392057,55.36173737245058],[12.625100538797028,56.30708018658197],[11.787942335668674,57.44181712506307],[11.027368605196868,58.85614940045936],[10.356556837616067,59.469807033925356],[8.382000359743586,58.313288479233215],[7.048748406613271,58.078884182357285],[5.665835402050419,58.5881554225937],[5.308234490590678,59.663231919993834],[4.992078077828978,61.97099803328432],[5.912900424837886,62.614472968182724],[8.553411085655739,63.45400828719648],[10.527709181366758,64.4860383164975],[12.358346795306373,65.87972585719318],[14.761145867581604,67.81064158799516],[16.435927361728943,68.56320547146173],[19.18402835457846,69.81744415961778],[21.378416375420585,70.2551693793461],[23.023742303161526,70.2020718451662],[24.546543409938465,71.03049673123722],[26.37004967622181,70.98626170519539],[28.165547316202943,71.18547435168055],[31.293418409965454,70.4537877468599],[30.005435011522792,70.18625885688489],[31.101078728975097,69.55808014594488],[32.13274702325006,69.90596588813376],[33.77548912937641,69.30140330675114],[36.51397830581968,69.06343333604705],[40.29235232927229,67.93239126247484],[41.059850701671195,67.45712311468647],[41.125944858572495,66.79158234319944],[40.01583,66.26618],[38.382959832519845,65.99953766546189],[33.91868452325721,66.75959463161077],[33.18446577325426,66.63252228460506],[34.81477,65.90015],[34.87857425307874,65.43621287704816],[34.94391,64.41437],[36.23129,64.10945],[37.01273,63.84983],[37.14197,64.33471],[36.53957903508969,64.76446],[37.17604,65.14322],[39.59345,64.52079],[40.4356,64.76446],[39.7626,65.49682],[42.09309,66.47623],[43.01604,66.41858],[43.94975,66.06908],[44.53224856952364,66.75633901637637],[43.69839765806197,67.35242666286312],[44.17478966436946,67.96161428493588],[43.45283125181098,68.57080190700863],[46.25002485533779,68.24999461534067],[46.82134,67.68997],[45.55517,67.56652],[45.56200483580378,67.01004446071333],[46.34915,66.66767],[47.89416,66.88455],[48.13876,67.52238],[53.71743,68.85738],[54.47171,68.80815],[53.48582,68.20131],[54.75301463713508,68.08684648168837],[55.44268,68.43866],[57.31702,68.46628],[58.802,68.88082],[59.94142,68.27844],[61.07784,68.94069],[60.03,69.52],[60.55003055200956,69.85000031196167],[63.504010451109934,69.54738312446047],[64.888115,69.234835],[68.51216,68.09233],[69.18068,68.61563],[68.16444,69.14436],[68.13522,69.35649],[66.93008,69.45461],[67.25976,69.92873],[66.72492,70.70889],[66.69466,71.02897],[68.54006,71.9345],[69.19636,72.84336],[69.94,73.04],[72.58754,72.77629],[72.79603,72.22006],[71.84811,71.40898],[72.47011,71.09019],[72.79188,70.39114],[72.56469770700558,69.02085195583855],[73.66787,68.4079],[73.2387,67.7404],[71.28,66.32],[72.42301,66.17267],[72.82077,66.53267],[73.92099,66.78946],[74.18651,67.28429],[75.052,67.76047],[74.46926,68.32899],[74.93584,68.98918],[73.84236,69.07146],[73.60187,69.62763],[74.3998,70.63175],[73.1011,71.44717],[74.89082,72.12119],[74.65926,72.83227],[75.15801,72.85497],[75.68351,72.30056],[75.28898,71.33556],[76.35911,71.15287],[75.90313,71.87401],[77.57663984569749,72.26716543241405],[79.65201704297142,72.32010793729707],[81.50001793816108,71.74998769803697],[80.61071821485025,72.58285675728509],[80.5110860533915,73.64821808541437],[82.24999800001305,73.85001455351413],[84.655225864606,73.805908718553],[86.822328729198,73.93688263619676],[86.00956180211142,74.4596672634775],[87.16680382685564,75.11644887969108],[88.31567426956859,75.14394074167033],[90.25994835811801,75.63998281524003],[92.90061404823274,75.77333384876921],[93.2342370951091,76.04719310169999],[95.86001997272373,76.14000397409622],[96.67821292520098,75.91546987578802],[98.92257205606934,76.44688446726148],[100.75966922404542,76.43027049427967],[101.03531131389028,76.8618720567814],[101.99080854696703,77.28753082956955],[104.35159467978896,77.69791921661546],[106.06663211469166,77.37388214792925],[104.70500980023309,77.12738556589703],[106.97014285688276,76.97419078236776],[107.23999718631096,76.47998322214444],[108.15373986209585,76.72335338002303],[111.07726,76.71],[113.33151,76.22224],[114.13417,75.84764],[113.88539,75.32779],[112.77919396367685,75.03185456002926],[110.15125,74.47673],[109.4,74.18],[110.64,74.04],[112.11919,73.78774],[113.01954,73.97693],[113.52958,73.33505],[113.96881,73.59488],[115.56782,73.75285],[118.77633,73.58772],[119.02,73.12],[123.20067671111434,72.97120514595854],[123.25777,73.73503],[125.38,73.56],[126.97644,73.56549],[128.59126,73.03871],[129.05157,72.39872],[128.46,71.98],[129.71599,71.19304],[131.28855512911548,70.7869973822779],[132.2535,71.8363],[133.85766,71.38642],[135.56193,71.65525],[137.49755,71.34763],[138.23409,71.62803],[139.86983,71.48783],[139.14791,72.41619],[140.46817,72.84941],[149.50000166239147,72.1999860704346],[150.3511641786709,71.60643056913015],[152.96888553284805,70.84221365018179],[157.00688,71.03141],[158.99779,70.86672],[159.83031,70.45324],[159.70866,69.72198],[160.94053,69.43728],[162.27907,69.64204],[164.05248,69.66823],[165.94037,69.47199],[167.86295235868673,69.56876831648658],[169.57763,68.6938],[170.81688,69.01363],[170.0082,69.65276],[170.45345,70.09703],[173.64391,69.81743],[175.72403,69.87725],[178.59998253815886,69.40000193956404],[180.00000044181039,68.96364614529146]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[180,64.97970870219841],[178.7072,64.53493],[177.41128,64.60821],[178.313,64.07593],[178.90825,63.25197],[179.37034,62.98262],[179.48636,62.56894],[179.22826460196347,62.30410431583773],[177.3643,62.5219],[174.56929,61.76915],[173.68013,61.65261],[172.15,60.95],[170.6985,60.33618],[170.33085,59.88177],[168.9004195498388,60.57356395124748],[166.29498,59.78855],[165.84,60.16],[164.87674,59.7316],[163.53929975815072,59.868697414786325],[163.21711,59.21101],[162.01733,58.24328],[162.05297,57.83912],[163.19191,57.61503],[163.05793379135196,56.15923391379492],[162.12634451087916,56.11586812995312],[161.70146,55.28568],[162.11749,54.85514],[160.36874393131512,54.34433177348818],[160.02173,53.20257],[158.53094,52.95868],[158.23118,51.94269],[156.78979,51.01105],[156.42,51.7],[155.99185346905801,53.158951931361045],[155.4336446474412,55.38101268169545],[155.91442,56.76792],[156.75816328351425,57.364715888083595],[156.81035648012903,57.83202586529901],[158.36433,58.05575],[160.15066938704342,59.314777737049724],[161.87204,60.343],[163.66967939682314,61.14089366316381],[164.47355797755552,62.55060089786997],[163.2583866722121,62.46626496036962],[162.65790652898056,61.64249095320487],[160.12148,60.54423],[159.30232,61.77396],[156.72068,61.43442],[154.21806,59.75818],[155.04375,59.14495],[152.81185,58.88385],[151.26573,58.78089],[151.33815,59.50396],[149.78371,59.65573],[148.54481,59.16448],[145.48722,59.33637],[142.19782,59.03998],[138.95847456273992,57.0880402695929],[135.12619,54.72959],[136.70171,54.60355],[137.19342,53.97732],[138.16472456273675,53.75501373963166],[138.80463,54.25455],[139.90151777563432,54.1896642116386],[141.34531,53.08957],[141.3792053570204,52.23877553975579],[140.59742,51.23967],[140.51308,50.04553],[140.0619730979006,48.44670726174584],[138.55472659724347,46.999663804708796],[138.21970828669527,46.30794892026593],[136.86237511611694,45.143498033217],[135.51537723199698,43.988994859384256],[134.86942182834855,43.398204047207415],[133.5368933452703,42.81146983496548],[132.90623416558026,42.798499050460215],[132.27805545464025,43.284541734381435],[130.93586347872343,42.55275177669621],[130.78000735893113,42.22000722916885],[130.40003055228902,42.28000356705971],[129.96594852103726,41.94136790625106],[129.66736209525482,41.60110443782523],[129.70518924369247,40.88282786718433],[129.18811486218,40.66180776627199],[129.01039961152821,40.485436102859815],[128.63336836152672,40.18984691015031],[127.96741417858135,40.02541250259756],[127.53343550019417,39.7568500839767],[127.5021195822253,39.32393077245153],[127.38543419811027,39.213472398427655],[127.78334272675772,39.05089834243742],[128.34971642467661,38.61224294692785],[129.21291954968007,37.43239248305595],[129.46044966035817,36.78418915460283],[129.4683044780665,35.63214061130395],[129.0913765809296,35.082484239231434],[128.1858504578791,34.89037710218639],[127.3865194031884,34.47567373304412],[126.48574751190876,34.39004588473648],[126.37391971242914,34.934560451795946],[126.55923139862779,35.6845405136479],[126.11739790253229,36.72548472751926],[126.86014326386339,36.893924058574626],[126.17475874237624,37.74968577732804],[125.68910363169721,37.94001007745902],[125.5684391622957,37.75208873142962],[125.2753304383362,37.669070542952724],[125.24008711151316,37.85722443292744],[124.98103315643397,37.94882090916478],[124.71216067921938,38.10834605564979],[124.98599409393398,38.54847422947968],[125.2219486837787,38.66585724543067],[125.13285851450752,38.84855927179859],[125.3865897970606,39.387957872061165],[125.32111575734682,39.55138458918421],[124.7374821310424,39.66034434667162],[124.26562462778531,39.928493353834156],[122.86757042856095,39.63778758397622],[122.1313879741309,39.170451768544666],[121.05455447803286,38.897471014962846],[121.58599490772248,39.36085358332407],[121.37675703337268,39.75026133885949],[122.16859500538106,40.422442531896024],[121.64035851449353,40.94638987890333],[120.76862877816194,40.59338816991754],[119.63960208544907,39.898055935214245],[119.02346398323306,39.252333075511146],[118.04274865119791,39.2042739934797],[117.53270226447711,38.73763580988408],[118.05969852098964,38.06147553156106],[118.87814985562832,37.89732534438593],[118.91163618375344,37.44846385349871],[119.70280236214205,37.15638865818505],[120.8234574728236,37.87042776137801],[121.711258579598,37.48112335870718],[122.35793745329849,37.45448415786072],[122.5199947449658,36.93061432550185],[121.10416385303307,36.651329047180425],[120.63700890511453,36.111439520811075],[119.66456180224606,35.60979055433772],[119.1512081238586,34.90985911716044],[120.22752485563373,34.36033193616865],[120.62036909391655,33.37672272392514],[121.22901411345023,32.46031871187719],[121.90814578663003,31.692174384074647],[121.89191938689038,30.949351508095106],[121.26425744027328,30.6762674016487],[121.50351932178467,30.14291494396429],[122.0921138855891,29.83252045340315],[121.93842817595306,29.01802236583478],[121.68443851123851,28.225512600206617],[121.12566124886649,28.135673122667185],[120.39547326058232,27.05320689544932],[119.5854968608395,25.740780544532612],[118.65687137255452,24.54739085540024],[117.28160647997088,23.624501451099658],[115.89073530483512,22.78287323657807],[114.76382734584624,22.668074042241667],[114.15254682826564,22.22376007739615],[113.80677981980074,22.5483397486214],[113.24107791550159,22.051367499270455],[111.84359215703248,21.550493679281473],[110.78546552942407,21.397143866455338],[110.5093583516886,20.56541168871763],[110.44403934127168,20.34103261970633],[109.88986128137361,20.282457383703488],[109.62765506392466,21.008227037026703],[109.86448815311832,21.395050970947523],[108.5228129415244,21.715212307211814],[108.05018029178294,21.55237986906012],[106.7150679870901,20.69685069425202],[105.88168216351903,19.752050482659698],[105.66200564984631,19.05816518806057],[106.42681684776602,18.004120998603227],[107.36195356651974,16.697456569887052],[108.26949507042963,16.07974233648615],[108.87710656131748,15.27669057867044],[109.33526981001722,13.426028347217724],[109.20013593957398,11.666859239137764],[108.36612999881545,11.008320624226272],[107.22092858279524,10.364483954301832],[106.40511274620343,9.53083974856932],[105.15826378786511,8.599759629750494],[104.79518517458239,9.241038316276502],[105.07620161338562,9.918490505406808],[104.33433475140347,10.48654368737523],[103.4972799011397,10.632555446815928],[103.09068973186726,11.153660590047165],[102.5849324890267,12.186594956913282],[101.68715783081996,12.645740057826572],[100.83180952352487,12.627084865769206],[100.9784672383692,13.412721665902566],[100.09779747925111,13.406856390837433],[100.01873253784456,12.307001044153354],[99.47892052612363,10.846366685423547],[99.15377241414316,9.963061428258555],[99.22239871622676,9.239255479362427],[99.87383182169813,9.20786204674512],[100.27964684448622,8.295152899606052],[100.45927412313276,7.429572658717177],[101.01732791545273,6.856868597842478],[101.62307905477806,6.74062246340192],[102.14118696493638,6.221636053894628],[102.37114708863521,6.128205064310919],[102.96170535686673,5.524495144061106],[103.38121463421217,4.855001125503748],[103.43857547405612,4.181605536308339],[103.33212202353486,3.726697902842986],[103.42942874554049,3.382868760589005],[103.50244754436889,2.791018581550176],[103.8546741068703,2.515454006353764],[104.24793175661145,1.631141058759084],[104.22881147666348,1.293048000489492],[103.51970747275439,1.226333726400682],[102.57361535035477,1.967115383304687],[101.39063846232919,2.760813706875581],[101.27353966675582,3.270291652841152],[100.69543541870664,3.93913971599487],[100.55740766805502,4.767280381688295],[100.19670617065775,5.312492580583708],[100.30626020711652,6.040561835143905],[100.0857568705271,6.464489447450291],[99.69069054565576,6.848212795433597],[99.51964155476963,7.34345388430276],[98.9882528015123,7.907993068875328],[98.503786248776,8.382305202666288],[98.339661899817,7.794511623562386],[98.15000939330582,8.350007432483878],[98.25915001830626,8.973922837759801],[98.55355065307305,9.932959906448545],[98.45717410684873,10.67526601810515],[98.76454552612078,11.441291612183749],[98.42833865762985,12.032986761925685],[98.50957400919268,13.122377631070677],[98.1036039571077,13.640459703012851],[97.77773237507517,14.837285874892642],[97.59707156778276,16.10056793869977],[97.1645398294998,16.92873444260934],[96.505768670643,16.42724050543285],[95.3693522481124,15.7143899601826],[94.80840457558412,15.80345429123764],[94.18880415240454,16.037936102762018],[94.53348595579135,17.277240301985728],[94.32481652219676,18.2135139022499],[93.54098839719364,19.366492621330025],[93.66325483599621,19.726961574781996],[93.07827762245219,19.855144965081976],[92.36855350135562,20.670883287025347],[92.08288618364614,21.19219513598577],[92.02521528520839,21.701569729086767],[91.83489098507744,22.182935695885565],[91.41708702999766,22.76501902922122],[90.49600630082728,22.80501658781513],[90.58695682166098,22.392793687422866],[90.27297081905556,21.83636770272011],[89.84746707556428,22.039146023033425],[89.70204959509493,21.857115790285306],[89.41886274613549,21.9661789006373],[89.03196129756623,22.055708319582976],[88.88876590368542,21.690588487224748],[88.20849734899522,21.703171698487807],[86.97570438024027,21.49556163175521],[87.03316857294887,20.743307806882413],[86.49935102737379,20.151638495356607],[85.0602657409097,19.4785788029711],[83.94100589390001,18.302009792549725],[83.18921715691785,17.67122142177898],[82.19279218946592,17.016636053937816],[82.19124189649719,16.556664130107848],[81.69271935417748,16.310219224507904],[80.79199913933014,15.951972357644493],[80.32489586784388,15.89918488205835],[80.02506920768644,15.136414903214147],[80.2332735533904,13.835770778859981],[80.28629357292186,13.006260687710835],[79.8625468281285,12.056215318240888],[79.85799930208682,10.35727509199711],[79.340511509116,10.30885427493962],[78.88534549348918,9.546135972527722],[79.1897196796883,9.216543687370148],[78.2779407083305,8.933046779816934],[77.94116539908435,8.252959092639742],[77.53989790233794,7.965534776232332],[76.59297895702167,8.89927623131419],[76.13006147655108,10.299630031775521],[75.7464673196485,11.308250637248307],[75.39610110870959,11.781245022015824],[74.86481570831683,12.741935736537897],[74.61671715688354,13.99258291264968],[74.44385949086723,14.617221787977698],[73.5341992532334,15.99065216721496],[73.11990929554943,17.928570054592498],[72.82090945830865,19.208233547436166],[72.8244751321368,20.419503282141534],[72.6305334817454,21.356009426351008],[71.17527347197395,20.757441311114235],[70.4704586119451,20.877330634031384],[69.16413008003883,22.0892980005727],[69.6449276060824,22.450774644454338],[69.34959679553435,22.84317963306269],[68.1766451353734,23.69196503345671],[67.44366661974547,23.94484365487699],[67.14544192898907,24.663611151624647],[66.37282758979327,25.42514089609385],[64.53040774929113,25.23703868255143],[62.90570071803461,25.21840932871021],[61.49736290878419,25.0782370061185],[59.616134067630846,25.380156561783778],[58.525761346272304,25.60996165618573],[57.39725141788239,25.73990204518364],[56.970765822177555,26.966106268821363],[56.492138706290206,27.143304755150197],[55.723710158110066,26.964633490501043],[54.71508955263727,26.480657863871514],[53.49309695823135,26.81236888275305],[52.48359785340961,27.580849107365495],[51.52076256694742,27.865689602158298],[50.85294803243954,28.814520575469388],[50.115008579311585,30.147772528599717],[49.576850213423995,29.985715236932407],[48.94133344909855,30.317090359004037],[48.567971225789755,29.926778265903522],[47.974519077349896,29.975819200148504],[48.18318851094449,29.534476630159762],[48.09394331237642,29.306299343375002],[48.416094191283946,28.55200429942667],[48.80759484232718,27.689627997339883],[49.29955447774583,27.46121816660981],[49.47091352722566,27.109999294538085],[50.15242231629088,26.689663194275997],[50.212935418504685,26.277026882425375],[50.11330325704594,25.94397227630425],[50.239858839728754,25.608049628190926],[50.527386509000735,25.327808335872103],[50.66055667501689,24.999895534764022],[50.81010827006958,24.754742539971378],[50.74391076030369,25.482424221289396],[51.013351678273494,26.006991685484195],[51.28646162293606,26.11458201751587],[51.58907881043726,25.80111277923338],[51.60670047384881,25.21567047779874],[51.38960778179063,24.62738597258806],[51.57951867046327,24.245497137951105],[51.757440626844186,24.29407298430547],[51.79438927593287,24.019826158132506],[52.57708051942561,24.177439276622707],[53.404006788960146,24.15131684009917],[54.00800092958758,24.121757920828216],[54.69302371604863,24.79789236093509],[55.43902469261414,25.43914520924494],[56.07082075381456,26.05546417897398],[56.36201744977927,26.39593435312898],[56.48567915225374,26.309117946878633],[56.39142133975335,25.895990708921246],[56.261041701080956,25.71460643157677],[56.396847365144005,24.924732163995486],[56.845140415276006,24.241673081961505],[57.4034525897574,23.878594468678813],[58.13694786970825,23.74793060962881],[58.72921146020542,23.56566783293536],[59.18050174341033,22.992395331305474],[59.45009769067703,22.6602709009656],[59.80806033716286,22.533611965418217],[59.806148309168066,22.310524807214193],[59.442191196536385,21.714540513592027],[59.28240766788991,21.43388580981485],[58.86114139184656,21.114034532144302],[58.48798587426694,20.428985907467094],[58.034318475176605,20.481437486243337],[57.826372511634105,20.24300242764863],[57.665762160070955,19.73600495043307],[57.788700392493325,19.067570298737678],[57.694390903560645,18.94470958096376],[57.234263950433814,18.947991034414287],[56.60965091332193,18.574267076079465],[56.51218916201947,18.087113348863966],[56.28352094912793,17.876066799383963],[55.66149173363064,17.884128322821496],[55.26993940615512,17.632309068263197],[55.27490034365513,17.22835439703762],[54.79100223167404,16.95069692633338],[54.23925296409371,17.044980577049913],[53.570508253804576,16.707662665264706],[53.10857262554751,16.651051133688952],[52.38520592632588,16.382411200419654],[52.19172936382509,15.93843313238402],[52.1681649107,15.597420355689948],[51.172515089732485,15.175249742081492],[49.57457645040315,14.708766587782748],[48.67923058451416,14.00320241948566],[48.23894738138742,13.948089504446372],[47.938914015500785,14.007233181204427],[47.354453566279716,13.592219753468383],[46.717076450391744,13.39969920496502],[45.87759280781027,13.347764390511685],[45.62505008319988,13.290946153206763],[45.406458774605255,13.026905422411433],[45.14435591002086,12.95393830001531],[44.989533318874415,12.69958690027471],[44.49457645038285,12.721652736863348],[44.17511274595449,12.585950425664876],[43.48295861183713,12.636800035040084],[43.22287112811213,13.220950425667425],[43.25144819516953,13.767583726450852],[43.08794396339806,14.06263031662131],[42.892245314308724,14.802249253798749],[42.60487267433362,15.213335272680595],[42.80501549660005,15.261962795467255],[42.70243777850066,15.718885809791999],[42.823670688657415,15.911742255105267],[42.77933230975097,16.347891343648683],[42.649572788266084,16.774635321514964],[42.34798912941071,17.075805568912003],[42.270887892431226,17.474721787989125],[41.75438195167396,17.833046169500975],[41.22139122901558,18.67159963630121],[40.93934126156654,19.486485297111756],[40.247652215339826,20.17463450772649],[39.80168460466095,20.338862209550058],[39.139399448408284,21.291904812092934],[39.023695916506796,21.986875311770195],[39.06632897314759,22.57965566659027],[38.49277225114008,23.688451036060854],[38.02386030452362,24.078685614512935],[37.483634881344386,24.285494696545015],[37.154817742671185,24.85848297779731],[37.209491408036,25.084541530858107],[36.93162723160259,25.60295949961018],[36.639603712721225,25.826227525327223],[36.249136590323815,26.57013560638488],[35.64018151219639,27.376520494083422],[35.13018680190788,28.06335195567472],[34.63233605320798,28.058546047471566],[34.787778761541944,28.6074272730597],[34.832220493312946,28.957483425404845],[34.95603722508426,29.356554673778845],[34.92260257339143,29.501326198844524],[34.64174116388509,29.09941274669448],[34.42656049982173,28.343980821235732],[34.15453576023731,27.823314927678965],[33.92137169773639,27.648700262964724],[33.5881103858861,27.97136790619518],[33.136768426248864,28.4176455754678],[32.42322024916268,29.85107229259593],[32.32043582533416,29.760431830355984],[32.73482913588268,28.705224921172075],[33.348745151510144,27.699885769149816],[34.104564650211074,26.142280585224313],[34.47389611180108,25.59856700286538],[34.79506513849509,25.033743597915205],[35.692426385243465,23.926705227142534],[35.493730503081224,23.7523747828059],[35.525976596831356,23.102440293871012],[36.690711704257865,22.204846503177325],[36.86623,22],[37.188717482254674,21.018846543862676],[36.969402703607955,20.837436428302052],[37.11471683121269,19.807964382399504],[37.48177452978189,18.614083767160352],[37.86273318863758,18.367871405505724],[38.41008995947308,17.998307399970386],[38.990622999839985,16.840626125551694],[39.26611006038797,15.922723496967292],[39.81429365414016,15.435647284400234],[41.17927493669771,14.491079616753225],[41.73495161313221,13.921036892141572],[42.276830682144805,13.343992010954366],[42.58957645037524,13.000421250861848],[43.0812260272001,12.699638576707],[43.317852410664585,12.390148423710968],[43.28638146339884,11.97492829024577],[42.71587365089656,11.735640570518257],[43.14530480324203,11.462039699748928],[43.470659620951665,11.277709865763812],[43.66666832863473,10.864169216348103],[44.11780358254279,10.445538438351631],[44.614259067570835,10.4422053084688],[45.556940545439176,10.69802948652972],[46.64540123880291,10.81654938399113],[47.525657586462664,11.127228094929876],[48.02159630716778,11.193063869669729],[48.378783807169214,11.37548167566004],[48.94820641459336,11.41062164961852],[49.2677734718863,11.430336208537868],[49.728623895065255,11.578905951376996],[50.25877241394758,11.679571641481573],[50.73202518087655,12.021902167199087],[51.11122684103432,12.024641018110557],[51.13386111837815,11.748146267132881],[51.04151533387258,11.166502183471707],[51.04528771342987,10.640901190631055],[50.83418948751759,10.279734605343151],[50.552397902229984,9.198741156445607],[50.07092858256661,8.081729234240612],[49.45272342305893,6.804649563011552],[48.594532911987784,5.339105943214022],[47.74078657409376,4.21940684652985],[46.564734327995296,2.855278225105125],[45.56396854023086,2.045766913252919],[44.06814253111031,1.052804266764582],[43.13595136899721,.292178859860499],[42.04159956235219,-.919168389493308],[41.81096764503357,-1.446474704599588],[41.58514163591809,-1.683256117360948],[40.88477094906631,-2.082559909680256],[40.63785,-2.49979],[40.26304,-2.57309],[40.1211999855216,-3.277680759294412],[39.80008263525991,-3.681170342629358],[39.6049007504935,-4.346556084819518],[39.20222,-4.67677],[38.74050906754732,-5.908941338732021],[38.79978193538611,-6.475676771676994],[39.440001255050134,-6.839995619334701],[39.4699735857794,-7.099979750195118],[39.19469323096061,-7.703922214390246],[39.25200239437228,-8.007831312698748],[39.18652835465849,-8.485528252804826],[39.535757684086974,-9.11236337650525],[39.949582553880276,-10.09840138106649],[40.31658857601719,-10.317096042525698],[40.47838748552303,-10.765440769089993],[40.437253045418686,-11.761710707245015],[40.56081139502857,-12.639176527561027],[40.59962039567975,-14.201975192931862],[40.775475294768995,-14.691764418194241],[40.4772506040126,-15.406294447493972],[40.08926395036522,-16.10077402106446],[39.45255862809705,-16.72089120856694],[38.53835086442152,-17.101023044505958],[37.41113284683888,-17.586368096591237],[36.28127933120936,-18.65968759529345],[35.89649661636406,-18.842260430580637],[35.198399692533144,-19.552811374593894],[34.78638349787005,-19.784011732667736],[34.70189253107284,-20.49704314543101],[35.176127150215365,-21.25436126066841],[35.37342776870574,-21.840837090748877],[35.385848253705404,-22.14],[35.562545536369086,-22.09],[35.533934767404304,-23.070787855727758],[35.37177412287238,-23.5353589820317],[35.60747033055563,-23.706563002214683],[35.45874555841962,-24.12260995859655],[35.04073489761066,-24.478350518493805],[34.21582400893547,-24.81631438568266],[33.01321007663901,-25.357573337507738],[32.574632195777866,-25.727318210556092],[32.66036339695009,-26.148584486599447],[32.91595503106569,-26.215867201443466],[32.830120477028885,-26.742191664336197],[32.580264926897684,-27.470157566031816],[32.46213260267845,-28.301011244420557],[32.20338870619304,-28.75240488049007],[31.521001417778876,-29.257386976846256],[31.325561150851,-29.401977634398914],[30.901762729625347,-29.909956963828037],[30.62281334811382,-30.42377573010613],[30.05571618014278,-31.140269463832958],[28.92555260591954,-32.1720411109725],[28.2197558936771,-32.771952813448856],[27.464608188595975,-33.2269637997788],[26.419452345492825,-33.61495045342619],[25.90966434093349,-33.6670402971764],[25.780628289500697,-33.94464609144834],[25.172861769315972,-33.796851495093584],[24.677853224392123,-33.98717579522455],[23.594043409934642,-33.794474379208154],[22.988188917744736,-33.91643075941698],[22.574157342222236,-33.86408253350531],[21.542799106541025,-34.258838799782936],[20.689052768647002,-34.417175388325234],[20.071261020597632,-34.79513681410799],[19.61640506356457,-34.81916635512371],[19.193278435958717,-34.46259897230979],[18.85531456876987,-34.444305515278465],[18.42464318204938,-33.99787281670897],[18.377410922934615,-34.13652068454807],[18.24449913907992,-33.86775156019803],[18.250080193767445,-33.28143075941444],[17.92519046394844,-32.61129078545343],[18.247909783611192,-32.42913136162457],[18.22176150887148,-31.66163298922567],[17.56691775886887,-30.725721123987547],[17.064416131262703,-29.878641045859162],[17.062917514726223,-29.875953871379984],[16.344976840895242,-28.5767050106977],[15.601818068105816,-27.821247247022804],[15.21047244635946,-27.090955905874047],[14.989710727608553,-26.117371921495156],[14.743214145576331,-25.39292001719538],[14.408144158595833,-23.853014011329847],[14.385716586981149,-22.65665292734069],[14.257714064194175,-22.111208184499958],[13.86864220546866,-21.699036960539978],[13.35249799973744,-20.872834161057504],[12.826845330464494,-19.673165785401665],[12.608564080463621,-19.0453488094877],[11.794918654028066,-18.069129327061916],[11.734198846085121,-17.301889336824473],[11.64009606288161,-16.67314218512925],[11.778537224991537,-15.793816013250735],[12.12358076340439,-14.878316338767904],[12.175618930722294,-14.449143568583892],[12.50009524908299,-13.54769988368445],[12.738478631245385,-13.137905775609902],[13.312913852601866,-12.483630466362492],[13.6337211442698,-12.03864470789717],[13.738727654686897,-11.297863050993165],[13.686379428775238,-10.73107594161589],[13.387327915102162,-10.373578383020714],[13.120987583069846,-9.766897067914122],[12.875369500386569,-9.166933689005468],[12.92906131353783,-8.959091078327553],[13.236432732809874,-8.562629489784307],[12.93304039882429,-7.596538588087733],[12.728298374083892,-6.927122084178805],[12.227347039446471,-6.294447523629394],[12.32243167486351,-6.10009246177966],[12.182336866920252,-5.789930515163839],[11.91496300624209,-5.037986748884791],[11.093772820691925,-3.978826592630547],[10.06613528813574,-2.969482517105682],[9.40524539555497,-2.144313246269043],[8.79799563969317,-1.111301364754496],[8.830086704146424,-.779073581550037],[9.048419630579588,-.459351494960217],[9.29135053878369,.268666083167687],[9.492888624721985,1.010119533691494],[9.305613234096256,1.160911363119183],[9.649158155972628,2.283866075037736],[9.795195753629457,3.073404445809117],[9.404366896206,3.734526882335203],[8.948115675501072,3.904128933117136],[8.744923943729418,4.35221527751996],[8.48881554529089,4.495617377129918],[8.500287713259695,4.771982937026849],[7.462108188515941,4.412108262546241],[7.082596469764439,4.464689032403228],[6.6980721370806,4.240594183769517],[5.898172641634687,4.262453314628985],[5.362804803090881,4.887970689305959],[5.033574252959369,5.611802476418234],[4.325607130560684,6.270651149923467],[3.574180128604553,6.258300482605719],[2.691701694356254,6.258817246928629],[1.865240512712319,6.142157701029731],[1.060121697604927,5.928837388528876],[-.507637905265938,5.343472601742675],[-1.063624640294194,5.000547797053812],[-1.964706590167594,4.710462144383371],[-2.856125047202397,4.994475816259509],[-3.311084357100071,4.984295559098015],[-4.008819545904942,5.179813340674315],[-4.649917364917911,5.168263658057086],[-5.834496222344526,4.993700669775137],[-6.528769090185847,4.705087795425015],[-7.518941209330436,4.338288479017308],[-7.71215938966975,4.364565944837722],[-7.974107224957251,4.355755113131963],[-9.004793667018674,4.8324185245922],[-9.913420376006684,5.593560695819207],[-10.765383876986645,6.140710760925558],[-11.438779466182055,6.785916856305747],[-11.70819454593574,6.860098374860726],[-12.428098924193819,7.26294200279203],[-12.949049038128194,7.798645738145738],[-13.124025437868482,8.163946438016978],[-13.246550258832515,8.903048610871508],[-13.685153977909792,9.49474376061346],[-14.074044969122282,9.886166897008252],[-14.33007585291237,10.015719712763968],[-14.579698859098258,10.214467271358515],[-14.693231980843505,10.656300767454042],[-14.839553798877944,10.87657156009814],[-15.130311245168173,11.040411688679526],[-15.664180467175527,11.458474025920795],[-16.085214199273565,11.52459402103824],[-16.314786749730203,11.80651479740655],[-16.30894731288123,11.95870189050612],[-16.61383826340328,12.170911159712702],[-16.677451951554573,12.384851589401052],[-16.841524624081273,13.15139394780256],[-16.71372880702347,13.594958604379855],[-17.126106736712615,14.373515733289224],[-17.62504269049066,14.729540513564073],[-17.18517289882223,14.919477240452862],[-16.700706346085923,15.621527411354108],[-16.463098110407884,16.13503611903846],[-16.549707810929064,16.673892116761962],[-16.270551723688357,17.166962795474873],[-16.14634741867485,18.108481553616656],[-16.256883307347167,19.096715806550307]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-177.55000973214604,68.19999766709829],[-179.99998938710377,68.96364614529146]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-179.99998938710377,-16.067132663642447],[-179.7933094961524,-16.020882256741224],[-179.91735877186903,-16.501783135649397],[-179.99998938710377,-16.555216566639196]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[125.94707238169826,-8.432094821815035],[126.64470421763855,-8.398246758663852],[126.95724328013983,-8.273344821814398],[127.33592817597463,-8.397316582882603],[126.96799197805655,-8.668256117388893],[125.9258850444586,-9.106007175333353],[125.08852013560109,-9.393173109579294],[124.43595014861933,-10.140000909061449],[123.57998172413669,-10.359987481327956],[123.459989048355,-10.239994805546223],[123.55000939340744,-9.900015557497987],[123.9800089865081,-9.290026950724716],[124.96868248911623,-8.892790215697083],[125.08624637258026,-8.65688730228468],[125.94707238169826,-8.432094821815035]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-180,-84.71338],[-179.94249935617904,-84.7214433735525],[-179.05867733469117,-84.13941171664914],[-177.2567718171058,-84.45293263136392],[-176.0846728180777,-84.09925912875835],[-175.8298821686626,-84.11791432081571],[-174.38250281481567,-84.53432301222364],[-173.1165594147455,-84.11791432081571],[-172.8891055980128,-84.06101856886238],[-169.95122290757138,-83.88464690545021],[-168.99998898015872,-84.11791432081571],[-168.5301985341933,-84.23739023227454],[-167.02209937240343,-84.57049651482794],[-164.1821435211551,-84.8252096495946],[-161.92977454328147,-85.13873056430938],[-158.0713795644249,-85.3739100076697],[-155.19225297749932,-85.09955982863215],[-150.94209896543805,-85.29551685988292],[-148.5330728830716,-85.60903777459774],[-145.8889190337772,-85.31510222772157],[-143.10771928604473,-85.040752048684],[-142.89228023981988,-84.57049651482794],[-146.82906836646325,-84.53127410271841],[-150.06073157448398,-84.29614633579038],[-150.9029282297608,-83.90423227328883],[-153.58620113830017,-83.6886898741994],[-153.40990698953644,-83.23801970818201],[-153.03775916238652,-82.82652027784181],[-152.66563717345275,-82.45419158317885],[-152.86151669005508,-82.04269215283867],[-154.52629879455392,-81.7683936502334],[-155.29017981669242,-81.41565032340905],[-156.83744971415953,-81.10212940869428],[-154.40878658752223,-81.16093718864245],[-152.09766150613277,-81.00415089306888],[-150.6482926096426,-81.33730885205459],[-148.86599829811203,-81.04337330517842],[-147.2207498850195,-80.67104461051547],[-146.41774980363607,-80.33793832796205],[-146.77028642473124,-79.92643889762186],[-148.0629465402963,-79.65208871858431],[-149.5319008046251,-79.35820484814043],[-151.5884161041125,-79.29939706819228],[-153.39032162169784,-79.16224781688965],[-155.3293763905858,-79.06426930126425],[-155.97566769104412,-78.6919406066013],[-157.26830196839302,-78.3784196918865],[-158.0517683583701,-78.02567636506218],[-158.36513424378805,-76.8892082660993],[-157.8754742096064,-76.98723845815698],[-156.97457312724603,-77.30075937287178],[-155.3293763905858,-77.2027291808141],[-153.74283240457683,-77.06557992951147],[-152.9202469553548,-77.49666472769027],[-151.3337804839943,-77.39873788849718],[-150.00194963275197,-77.18314381297547],[-148.7484860910803,-76.90884531037021],[-147.61248308000805,-76.5757390278168],[-146.1044097564343,-76.47776051219141],[-146.14352881567925,-76.10543181752845],[-146.49609127499056,-75.73315479929781],[-146.20231075741125,-75.38041147247347],[-144.90962480363004,-75.20403980906131],[-144.3220379302553,-75.53719776804702],[-142.7943534006268,-75.34124073679624],[-141.63876502171593,-75.0864759255973],[-140.2090073312805,-75.06689055775868],[-138.8575911121996,-74.96891204213328],[-137.50620073133481,-74.73378427520527],[-136.42890214734612,-74.51824187611587],[-135.21458350313554,-74.30269947702645],[-134.4311946278069,-74.36145558054231],[-133.7456550770229,-74.43984872832908],[-132.25716712128778,-74.30269947702645],[-130.9253104318293,-74.47901946400633],[-129.55428300669362,-74.45943409616771],[-128.24203752328992,-74.32228484486507],[-126.890621304209,-74.42026336049047],[-125.40208167204159,-74.51824187611587],[-124.01149471728343,-74.47901946400633],[-122.5621516590094,-74.49860483184494],[-121.07361202684199,-74.51824187611587],[-119.70255876349015,-74.47901946400633],[-118.68414547409805,-74.18508391713016],[-117.46980099167133,-74.0283492979889],[-116.2163116117835,-74.2438916970783],[-115.02155249719539,-74.06752003366614],[-113.94433142785512,-73.7148283832741],[-113.29798845096451,-74.0283492979889],[-112.94545182986936,-74.38104094838093],[-112.29908301476263,-74.71419890736664],[-111.26105851931575,-74.42026336049047],[-110.06632524294379,-74.79254037872113],[-108.71490902386287,-74.91010426218513],[-107.55934648316813,-75.18445444122268],[-106.1491483223552,-75.12569833770684],[-104.87607357462875,-74.94932667429467],[-103.36794857462272,-74.9884974099719],[-102.01650651732565,-75.12569833770684],[-100.64553076862225,-75.3020183246867],[-100.11669999876337,-74.8709335265079],[-100.76304297565397,-74.53782724395448],[-101.25270300983563,-74.18508391713016],[-102.54533728718455,-74.10674244577567],[-103.11331295450452,-73.73441375111273],[-103.32875200072934,-73.36208505644977],[-103.68128862182449,-72.61753101998846],[-102.91748511433445,-72.7546802712911],[-101.60523963093078,-72.81343637480695],[-100.3125278389334,-72.7546802712911],[-99.13737993040007,-72.91141489043235],[-98.11888912635953,-73.20535043730852],[-97.68803687212605,-73.55804208770056],[-96.33659481482896,-73.61684986764871],[-95.04396053748003,-73.47970061634608],[-93.6729072741282,-73.2837435850953],[-92.439003262079,-73.16617970163128],[-91.42056413447077,-73.40130746855931],[-90.08873328322845,-73.32291432077254],[-89.22695126011301,-72.55872324004031],[-88.4239511787296,-73.00939340605774],[-87.26833696160259,-73.18576506946991],[-86.01482174349862,-73.08778655384451],[-85.19223629427657,-73.47970061634608],[-83.8799908108729,-73.51887135202333],[-82.66564632844616,-73.63643523548733],[-81.4709130520742,-73.85197763457674],[-80.6874466620971,-73.47970061634608],[-80.295790981757,-73.12695728952176],[-79.29688554555507,-73.51887135202333],[-77.92585812041938,-73.42089283639793],[-76.90736731637884,-73.63643523548733],[-76.22187944202715,-73.96954151804074],[-74.89004859078484,-73.87161467884765],[-73.85202409533798,-73.65602060332596],[-72.83353329129744,-73.40130746855931],[-71.61921464708686,-73.26415821725668],[-70.20904232449007,-73.14654265736037],[-68.93591590033134,-73.00939340605774],[-67.95662167018419,-72.79385100696834],[-67.36906063502559,-72.48033009225354],[-67.13403622096214,-72.04924529407474],[-67.25154842799387,-71.63774586373454],[-67.56494015162794,-71.24583180123298],[-67.91747677272309,-70.85391773873141],[-68.23084265814101,-70.46205535266213],[-68.48545244004308,-70.10931202583781],[-68.54420854355894,-69.71739796333624],[-68.44628170436583,-69.32553557726696],[-67.97623287623895,-68.95320688260401],[-67.5844996812504,-68.54170745226382],[-67.4278425767576,-68.14984506619454],[-67.62367041692765,-67.71876026801574],[-67.74118262395936,-67.32684620551417],[-67.25154842799387,-66.87617603949674],[-66.70318396672866,-66.58224049262057],[-66.0568151516219,-66.20996347438991],[-65.3713272772702,-65.89639088324283],[-64.56827551945449,-65.60250701279894],[-64.17654232446594,-65.17142221462014],[-63.62815202498459,-64.89707203558258],[-63.001394415932594,-64.64230722438364],[-62.041685553624056,-64.58355112086778],[-61.41492794457208,-64.27003020615298],[-60.70985470238176,-64.0740731749022],[-59.887269253159715,-63.95650929143819],[-59.16258480491463,-63.701744480239256],[-58.59455746116237,-63.388223565524456],[-57.811142747617566,-63.27065968206045],[-57.223581712458966,-63.525424493259386],[-57.59572953960888,-63.858530775812795],[-58.61414282900098,-64.15246632268898],[-59.04507259788291,-64.36800872177838],[-59.78934241396662,-64.21122242620484],[-60.611927863188654,-64.30920094183023],[-61.29741573754036,-64.54432870875826],[-62.02210018578545,-64.79909351995718],[-62.511760219967094,-65.09302906683337],[-62.64885779483744,-65.48494312933494],[-62.590127529537725,-65.85722014756558],[-62.12007870141083,-66.190326430119],[-62.80556657576255,-66.42550587347932],[-63.74569007023244,-66.5038473448338],[-64.29410620792996,-66.83700530381951],[-64.8816930813047,-67.150474542102],[-65.50842485214054,-67.58161101671311],[-65.66508195663336,-67.95388803494376],[-65.31254533553819,-68.36533578885167],[-64.7837145656793,-68.67890837999875],[-63.961103278241126,-68.91398447049448],[-63.19729977075109,-69.22755706164156],[-62.78595536970778,-69.61941944771084],[-62.57051632348295,-69.9917481423738],[-62.276735805903655,-70.38366220487536],[-61.80666113956063,-70.71676848742878],[-61.51290646019748,-71.08904550565943],[-61.37580888532713,-72.01007455839749],[-61.081976691315546,-72.38235157662815],[-61.0036610581772,-72.77426563912971],[-60.69026933454315,-73.16617970163128],[-60.827366909413485,-73.69524301543548],[-61.37580888532713,-74.10674244577567],[-61.963369920485725,-74.43984872832908],[-63.295200771728034,-74.57699797963171],[-63.74569007023244,-74.92974130645605],[-64.35283647322967,-75.26284758900947],[-65.86098731145185,-75.63512460724012],[-67.19281816269415,-75.79191090281367],[-68.44628170436583,-76.00745330190307],[-69.79772376166291,-76.22299570099247],[-70.60072384304632,-76.63449513133266],[-72.20677568224545,-76.6736658670099],[-73.9695363023697,-76.63449513133266],[-75.55597693551407,-76.71288827911943],[-77.24037024606767,-76.71288827911943],[-76.92697852243361,-77.104802341621],[-75.3992939928051,-77.28107065216858],[-74.28287634957147,-77.55542083120613],[-73.65611874051949,-77.90811248159817],[-74.77253638375312,-78.22163339631297],[-76.49610042998398,-78.12365488068757],[-77.92585812041938,-78.3784196918865],[-77.98466590036753,-78.78991912222669],[-78.02378495961247,-79.18183318472826],[-76.84863705107912,-79.51493946728168],[-76.63322384307045,-79.88721648551234],[-75.36009741891172,-80.25954518017528],[-73.24485185412462,-80.41633147574883],[-71.44294633653928,-80.6906299783541],[-70.01316280788772,-81.00415089306888],[-68.19164608424762,-81.31767180778367],[-65.70427853052674,-81.47445810335722],[-63.2560300360508,-81.74875660596248],[-61.552025519442424,-82.04269215283867],[-59.691415574773515,-82.37585011182436],[-58.71212134462637,-82.84610564568042],[-58.222487148660875,-83.21843434034338],[-57.00811682801799,-82.86569101351904],[-55.36289425314162,-82.57175546664286],[-53.61977067728829,-82.25823455192807],[-51.54364417174613,-82.00352141716142],[-49.76134986021556,-81.72917123812387],[-47.273930630062374,-81.70958587028525],[-44.825707973802594,-81.84673512158787],[-42.80836340999244,-82.08191456494819],[-42.16202043310183,-81.65082976676938],[-40.77143347834367,-81.3568942198932],[-38.244817674297096,-81.33730885205459],[-36.26666968438033,-81.12171477653291],[-34.38639685722437,-80.9061723774435],[-32.31029618989837,-80.76902312614087],[-30.09709794770201,-80.5926514627287],[-28.549802212018733,-80.33793832796205],[-29.254901292425203,-79.98519500113773],[-29.685805223090984,-79.6325033507457],[-29.685805223090984,-79.26022633251503],[-31.62480831554666,-79.29939706819228],[-33.68132361503406,-79.45613168733352],[-35.63991207532834,-79.45613168733352],[-35.91410722506903,-79.08385466910288],[-35.77700965019869,-78.33924895620927],[-35.32654618991043,-78.12365488068757],[-33.896762661258876,-77.88852711375955],[-32.21236935070526,-77.65345102326381],[-30.998050706494666,-77.35951547638764],[-29.783732062284088,-77.06557992951147],[-28.882779303491418,-76.6736658670099],[-27.511751878355724,-76.49734588003003],[-26.160335659274793,-76.3601449522951],[-25.474821946706953,-76.28180348094062],[-23.92755204923982,-76.24258106883109],[-22.45859778491104,-76.10543181752845],[-21.224693772861826,-75.90947478627767],[-20.010375128651233,-75.67434701934965],[-18.91354285325623,-75.43921925242162],[-17.5229817367142,-75.12569833770684],[-16.641588507544014,-74.79254037872113],[-15.70149085129026,-74.49860483184494],[-15.407710333710952,-74.10674244577567],[-16.46532019699643,-73.87161467884765],[-16.112783575901275,-73.46011524850746],[-15.446855231172053,-73.14654265736037],[-14.408804897509043,-72.95058562610959],[-13.311972622114027,-72.71545785918157],[-12.293507656289634,-72.40193694446677],[-11.510067104528686,-72.01007455839749],[-11.020432908563194,-71.53976734810915],[-10.295774298534253,-71.2654171690716],[-9.101015183946146,-71.32422494901975],[-8.611380987980638,-71.65733123157317],[-7.416621873392529,-71.6965019672504],[-7.377451137715283,-71.32422494901975],[-6.86823157391116,-70.93231088651818],[-5.790984666354775,-71.03028940214357],[-5.536374884452712,-71.40261809680652],[-4.341667446296896,-71.46137420032238],[-3.048981492515679,-71.2850542133425],[-1.795492112627841,-71.1674386534462],[-.659489101555607,-71.22624643339435],[-.228636847322093,-71.63774586373454],[.868195428072909,-71.30463958118114],[1.886686232113448,-71.12826791776897],[3.022637566753389,-70.99111866646633],[4.139055209987021,-70.85391773873141],[5.15754601402756,-70.61878997180338],[6.273911980828899,-70.46205535266213],[7.135719842160483,-70.24651295357273],[7.7428662451577,-69.8937696267484],[8.487110223025269,-70.14853443794733],[9.525134718472117,-70.01133351021241],[10.249845004933347,-70.48164072050075],[10.817820672253333,-70.83433237089278],[11.953823683325595,-70.63837533964201],[12.404287143613857,-70.24651295357273],[13.422777947654367,-69.97216277453518],[14.73499759284192,-70.03091887805104],[15.126756626046614,-70.40324757271398],[15.949342075268646,-70.03091887805104],[17.026588982825047,-69.91335499458702],[18.201711053142247,-69.87418425890978],[19.259372592860018,-69.8937696267484],[20.375738559661357,-70.01133351021241],[21.452985467217758,-70.07014129016056],[21.92303429534462,-70.40324757271398],[22.56940311045139,-70.69718311959015],[23.6661837094141,-70.520811456178],[24.841357456163593,-70.48164072050075],[25.977308790803562,-70.48164072050075],[27.09372643403719,-70.46205535266213],[28.092580193806807,-70.32485442492721],[29.150241733524577,-70.2072905414632],[30.031583286262475,-69.93294036242564],[30.97173261894855,-69.75662037544576],[31.990171746556772,-69.65864185982038],[32.75405276869526,-69.38429168078282],[33.302443068176615,-68.83564299914],[33.8704187354966,-68.50258839301888],[34.90849490737574,-68.65927133572784],[35.30020226414814,-69.01201466255216],[36.162010125479725,-69.24714242948019],[37.20003462092657,-69.16874928169342],[37.90510786311691,-69.52144093208545],[38.649403517416744,-69.7762057432844],[39.66789432145728,-69.54107797635636],[40.02043094255245,-69.10994150174527],[40.92135786312897,-68.93362151476539],[41.959434035008115,-68.60051523221198],[42.93870242693913,-68.46331430447705],[44.113876173688624,-68.26740894965856],[44.89729088723342,-68.05186655056916],[45.719928012887756,-67.81673878364113],[46.50334272643255,-67.60119638455173],[47.4434403826863,-67.71876026801574],[48.34441897969512,-67.36606861762371],[48.99073611836956,-67.09171843858616],[49.930885451055644,-67.11130380642477],[50.75347090027768,-66.87617603949674],[50.94932457866386,-66.52348438910471],[51.79154707215682,-66.24913421006715],[52.61413252137888,-66.05317717881637],[53.61303795758079,-65.89639088324283],[54.533550245995905,-65.81804941188835],[55.414943475166126,-65.8768055154042],[56.35504113141988,-65.9747840310296],[57.158092889235576,-66.24913421006715],[57.2559680519964,-66.68021900824596],[58.13736128116659,-67.01332529079937],[58.74450768416381,-67.28767546983693],[59.93931847518422,-67.40523935330094],[60.6052209816973,-67.6795895323385],[61.42780643091933,-67.95388803494376],[62.38748945501172,-68.01269581489191],[63.19048953639515,-67.81673878364113],[64.052349074159,-67.40523935330094],[64.99244673041275,-67.62073007595805],[65.97171512234377,-67.73834563585436],[66.91186445502981,-67.85590951931837],[67.8911328469608,-67.93430266710514],[68.89003828316274,-67.93430266710514],[69.71262373238477,-68.97279225044264],[69.67345299670754,-69.22755706164156],[69.55594078967582,-69.678227227659],[68.59625776558343,-69.93294036242564],[67.81273969917405,-70.3052690570886],[67.94988895047666,-70.69718311959015],[69.0663065937103,-70.67754607531924],[68.92915734240768,-71.06946013782081],[68.41998945503585,-71.44178883248377],[67.94988895047666,-71.85328826282395],[68.71376997261515,-72.16680917753874],[69.86930667509372,-72.26478769316414],[71.02489505400459,-72.08841602975197],[71.57328535348597,-71.6965019672504],[71.9062882831748,-71.32422494901975],[72.45462690622387,-71.01070403430495],[73.081410353492,-70.71676848742878],[73.33602013539405,-70.36402516060444],[73.8648767434691,-69.87418425890978],[74.49155683787262,-69.7762057432844],[75.62755984894488,-69.73703500760715],[76.62646528514679,-69.61941944771084],[77.64490441275504,-69.46268482856959],[78.13453860872053,-69.07077076606802],[78.42837080273213,-68.69844207140508],[79.11385867708384,-68.32621672960671],[80.09312706901483,-68.07150359484007],[80.93534956250778,-67.87554656358928],[81.48379153842143,-67.54238860460357],[82.05176720574141,-67.36606861762371],[82.77642581577035,-67.20928232205016],[83.77533125197226,-67.30726083767556],[84.67620649611649,-67.20928232205016],[85.6555265644798,-67.09171843858616],[86.7523588398748,-67.150474542102],[87.47701744990374,-66.87617603949674],[87.98628869014016,-66.20991179795762],[88.35841067907394,-66.48426197699517],[88.82840783076853,-66.95456918728351],[89.67063032426148,-67.150474542102],[90.63036502478616,-67.22886768988879],[91.59009972531084,-67.11130380642477],[92.60853885291908,-67.18969695421154],[93.54863650917284,-67.20928232205016],[94.17541995644096,-67.11130380642477],[95.01759077350161,-67.17011158637293],[95.7814717956401,-67.38565398546233],[96.68239871621662,-67.2485047341597],[97.75964562377298,-67.2485047341597],[98.68020958862044,-67.11130380642477],[99.718182407635,-67.2485047341597],[100.38418826701266,-66.91534677517399],[100.89335615438448,-66.58224049262057],[101.5788957051685,-66.30789031358302],[102.83241092327248,-65.56328460068941],[103.47867638551462,-65.70048552842434],[104.2425574076531,-65.9747840310296],[104.90845991416619,-66.32752735785392],[106.18156050010879,-66.9349321430126],[107.16088056847207,-66.95456918728351],[108.08139285688722,-66.95456918728351],[109.15863976444362,-66.83700530381951],[110.23583499556771,-66.69980437608459],[111.05847212122205,-66.42550587347932],[111.74395999557373,-66.13157032660314],[112.86037763880736,-66.09234791449362],[113.60467329310723,-65.8768055154042],[114.38808800665203,-66.07276254665499],[114.89730757045615,-66.38628346136979],[115.60238081264646,-66.69980437608459],[116.69916141160918,-66.66063364040734],[117.38470096239317,-66.91534677517399],[118.57946007698129,-67.17011158637293],[119.83292361865298,-67.26809010199831],[120.87099979053212,-67.18969695421154],[121.65441450407693,-66.87617603949674],[122.32036868702228,-66.56265512478195],[123.22129560759885,-66.48426197699517],[124.12227420460762,-66.6214629047301],[125.16024702362222,-66.7193897439232],[126.10039635630824,-66.56265512478195],[127.00142662974933,-66.56265512478195],[127.88276818248725,-66.66063364040734],[128.8032804709024,-66.75861215603274],[129.7042590679112,-66.58224049262057],[130.78145429903532,-66.42550587347932],[131.79994510307586,-66.38628346136979],[132.93589643771583,-66.38628346136979],[133.85646040256324,-66.2883049457444],[134.75738732313977,-66.20996347438991],[135.03158247288042,-65.72007089626295],[135.07075320855768,-65.30857146592277],[135.69748497939355,-65.58286996852803],[135.87380496637337,-66.03359181097775],[136.20670454319765,-66.44509124131794],[136.61804894424097,-66.77819752387136],[137.46027143773392,-66.95456918728351],[138.5962227723739,-66.89576140733537],[139.9084424175614,-66.87617603949674],[140.8094210145702,-66.81736825954859],[142.12169233619005,-66.81736825954859],[143.06184166887613,-66.79778289170997],[144.37406131406362,-66.83700530381951],[145.490427280865,-66.91534677517399],[146.19555219948762,-67.22886768988879],[145.99969852110138,-67.60119638455173],[146.64606733620815,-67.89513193142791],[147.72326256733226,-68.13025969835593],[148.83962853413362,-68.38502450955487],[150.1323144879148,-68.56129282010245],[151.48370486877957,-68.71813079210828],[152.5022473492524,-68.87481373481724],[153.63819868389237,-68.89450245552044],[154.28456749899914,-68.56129282010245],[155.1658573753047,-68.83564299914],[155.9297900738755,-69.14921559028708],[156.81113162661342,-69.38429168078282],[158.02552778547243,-69.48227019640821],[159.1810128115187,-69.59983407987222],[159.6706986839165,-69.9917481423738],[160.80665001855647,-70.22687590930181],[161.57047936426267,-70.57961923612615],[162.68689700749624,-70.7363538552674],[163.84243370997484,-70.71676848742878],[164.91968061753124,-70.77552459094464],[166.11443973211937,-70.75593922310601],[167.3090954938429,-70.83433237089278],[168.4256164899411,-70.97148162219543],[169.4635893089557,-71.20666106555574],[170.50166548083484,-71.40261809680652],[171.20679039945747,-71.6965019672504],[171.08922651599346,-72.08841602975197],[170.5604215843507,-72.44115935657629],[170.10995812406242,-72.89182952259372],[169.75736982653495,-73.24452117298577],[169.28732099840812,-73.65602060332596],[167.97510135322057,-73.8128068988995],[167.38748864162966,-74.16549854929153],[166.09480268784847,-74.38104094838093],[165.64439090399247,-74.7729550108825],[164.95885135320847,-75.14528370554545],[164.23419274317956,-75.45880462026025],[163.82279666570395,-75.87030405060044],[163.5682385602342,-76.24258106883109],[163.4702600446088,-76.69330291128081],[163.48989708887976,-77.06557992951147],[164.0578727561997,-77.45744231558074],[164.27336347885682,-77.82977101024369],[164.74346398341595,-78.18251433706801],[166.60412560451715,-78.31961191193835],[166.9957812848573,-78.75074838654946],[165.19387576727195,-78.90748300569071],[163.66621707585955,-79.12302540478011],[161.76638471908115,-79.16224781688965],[160.9241622255882,-79.73048186637108],[160.7478939150406,-80.20073740022713],[160.31696414615868,-80.57306609489008],[159.78821089094822,-80.94539478955303],[161.12001590397438,-81.27850107210645],[161.62928714421082,-81.69000050244662],[162.4909916526778,-82.06227752067728],[163.70533613510452,-82.39543547966299],[165.09594892807883,-82.70895639437781],[166.60412560451715,-83.02247730909258],[168.89566531806796,-83.33599822380738],[169.40478152900755,-83.82589080193435],[172.28393395414923,-84.04143320102375],[172.47704878162398,-84.11791432081571],[173.2240832868353,-84.4137102192544],[175.98567182851303,-84.15899708448775],[178.2772115420639,-84.47251799920255],[180,-84.71338]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-180,68.96363636363635],[-177.55000973214604,68.19999766709829],[-174.92825,67.20589],[-175.01425,66.58435],[-174.33983,66.33556],[-174.57182,67.06219],[-171.85731,66.91308],[-169.89958,65.97724],[-170.89107,65.54139],[-172.53025,65.43791],[-172.555,64.46079],[-172.95533,64.25269],[-173.89184,64.2826],[-174.65392,64.63125],[-175.98353,64.92288],[-176.20716,65.35667],[-177.22266,65.52024],[-178.35993,65.39052],[-178.90332,65.74044],[-178.68611,66.11211],[-179.88377,65.87456],[-179.43268,65.40411],[-180,64.9797087021984]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-180,71.51571433642827],[-179.871875,71.55762],[-179.02433,71.55553],[-177.577945,71.26948],[-177.663575,71.13277],[-178.69378,70.89302],[-180,70.83219920854673]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[180,70.83219920854673],[178.903425,70.78114],[178.7253,71.0988],[180,71.51571433642829]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[180,-16.555216566639196],[179.36414266196414,-16.801354076946883],[178.72505936299711,-17.01204167436804],[178.59683859511713,-16.63915],[179.0966093629971,-16.433984277547403],[179.4135093629971,-16.379054277547404],[180,-16.067132663642447]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-61.2,-51.85],[-60,-51.25],[-59.15,-51.5],[-58.55,-51.1],[-57.75,-51.55],[-58.05,-51.9],[-59.4,-52.2],[-59.85,-51.85],[-60.7,-52.3],[-61.2,-51.85]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[68.935,-48.625],[69.58,-48.94],[70.525,-49.065],[70.56,-49.255],[70.28,-49.71],[68.745,-49.775],[68.72,-49.2425],[68.8675,-48.83],[68.935,-48.625]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[178.12557,-17.50481],[178.3736,-17.33992],[178.71806,-17.62846],[178.55271,-18.15059],[177.93266,-18.28799],[177.38146,-18.16432],[177.28504,-17.72465],[177.67087,-17.38114],[178.12557,-17.50481]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[-155.40214,20.07975],[-155.22452,19.99302],[-155.06226,19.8591],[-154.80741,19.50871],[-154.83147,19.45328],[-155.22217,19.23972],[-155.54211,19.08348],[-155.68817,18.91619],[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.70294],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-155.99566,20.76404],[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.8643],[-156.71055,20.92676],[-156.61258,21.01249],[-156.25711,20.91745],[-155.99566,20.76404]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-156.75824,21.17684],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.21958],[-156.75824,21.17684]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-158.0252,21.71696],[-157.94161,21.65272],[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.57912],[-158.0252,21.71696]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-159.36569,22.21494],[-159.34512,21.982],[-159.46372,21.88299],[-159.80051,22.06533],[-159.74877,22.1382],[-159.5962,22.23618],[-159.36569,22.21494]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-78.19087,25.2103],[-77.89,25.17],[-77.54,24.34],[-77.53466,23.75975],[-77.78,23.71],[-78.03405,24.28615],[-78.40848,24.57564],[-78.19087,25.2103]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58],[-78.91,26.42],[-78.98,26.79]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-77.79,27.04],[-77,26.59],[-77.17255,25.87918],[-77.35641,26.00735],[-77.34,26.53],[-77.78802,26.92516],[-77.79,27.04]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-64.01486,47.03601],[-63.6645,46.55001],[-62.9393,46.41587],[-62.01208,46.44314],[-62.50391,46.03339],[-62.87433,45.96818],[-64.1428,46.39265],[-64.39261,46.72747],[-64.01486,47.03601]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[46.68201,44.6092],[47.67591,45.64149],[48.64541,45.80629],[49.10116,46.39933],[50.034083286342536,46.60898997658228],[51.19194542827424,47.048704738953774],[52.042022739475556,46.80463694923931],[53.04273685080764,46.85300608986445],[53.22086551291781,46.23464590105992],[53.04087649924517,45.25904653582164],[52.16738976421564,45.40839142514518],[51.31689904155601,45.245998236667944],[51.27850345236317,44.51485423438635],[50.30564293803627,44.6098355169388],[50.33912926616142,44.284015611338546],[50.89129194520007,44.03103363705367],[51.342427199108215,43.132974758469416],[52.50142622255029,42.79229787858519],[52.692112257707294,42.44389537207336],[52.44633914572725,42.02715078385555],[52.50246,41.78333],[52.81468875510362,41.13537059179471],[52.916749708880076,41.86811656347736],[53.72171349469059,42.12319143327005],[54.008310988181364,41.55121084244742],[54.736845330632235,40.95101491959345],[53.85813927594111,40.63103445084219],[52.91525109234365,40.87652334244474],[52.69397260926982,40.033629055332014],[53.3578080584912,39.97528636327449],[53.101027866432986,39.290573635407156],[53.880928582581845,38.95209300389533],[53.7355111021125,37.90613617609171],[53.921597934795585,37.198918361961276],[53.825789829326396,36.96503082940825],[52.26402469260145,36.700421657857675],[50.842354363819766,36.872814235983384],[50.14777143738462,37.374566555321366],[49.19961225769333,37.582874253889884],[48.88327,38.32026],[48.85653242370762,38.81548635513184],[49.22322838725077,39.0492188583879],[49.395259230350376,39.39948171646222],[49.56920210144483,40.176100979160694],[50.392821079312654,40.256561184239175],[50.08482954285313,40.52615713150584],[49.618914829309574,40.572924302729945],[49.110263706260724,41.2822866888005],[48.58437,41.80888],[47.49252,42.98658],[47.59094,43.66016],[46.68201,44.6092]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-64.51912,49.87304],[-64.17322,49.95718],[-62.85829,49.70641],[-61.835585,49.28855],[-61.806305,49.10506],[-62.29318,49.08717],[-63.58926,49.40069],[-64.51912,49.87304]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-80.315395,62.085565],[-79.92939,62.3856],[-79.52002,62.36371],[-79.26582,62.158675],[-79.65752,61.63308],[-80.09956,61.7181],[-80.36215,62.01649],[-80.315395,62.085565]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-83.99367,62.4528],[-83.25048,62.91409],[-81.87699,62.90458],[-81.89825,62.7108],[-83.06857,62.15922],[-83.77462,62.18231],[-83.99367,62.4528]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-75.21597,67.44425],[-75.86588,67.14886],[-76.98687,67.09873],[-77.2364,67.58809],[-76.81166,68.14856],[-75.89521,68.28721],[-75.1145,68.01036],[-75.10333,67.58202],[-75.21597,67.44425]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Coastline",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-96.55740120380052,69.68003035832177],[-95.64768864557942,69.10769485484937],[-96.26951115534747,68.75704442353285],[-97.61740120380054,69.06003035832177],[-98.43180811173642,68.9507018535466],[-99.79740120380052,69.4000303583218],[-98.9174115459831,69.71003534964345],[-98.21825525529017,70.14352310192382],[-97.15740120380055,69.86003035832178],[-96.55740120380052,69.68003035832177]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-106.52258806031243,73.07600495064645],[-105.40244971395374,72.67259288195999],[-104.77483944376897,71.69841461860969],[-104.46475501180161,70.99297964139336],[-102.78537431518025,70.49776439074031],[-100.98078162311575,70.02430491808215],[-101.08930213092869,69.58448680284607],[-102.7311657377061,69.50402659776759],[-102.09329769571134,69.11960561794837],[-102.43025387247052,68.75280630154063],[-104.24,68.91],[-105.96,69.18],[-107.12255143922104,69.11924388292226],[-109,68.78],[-111.53414887520022,68.63005915681794],[-113.3132,68.53554],[-113.85495703820634,69.00744192165885],[-115.22,69.28],[-116.1079461332674,69.16820730251885],[-117.34,69.96],[-116.6747332426447,70.06652456326464],[-115.1311323718703,70.23731517198931],[-113.72139929894799,70.19235667589533],[-112.41610429568752,70.36635122342207],[-114.34999142134632,70.60000621202985],[-116.48683773483144,70.52045034451646],[-117.90481319870432,70.54055247667799],[-118.43237789597205,70.90921214464822],[-116.11311377649665,71.30918773058735],[-117.6556811186252,71.29518341743628],[-119.40198279506447,71.55857819282792],[-118.56268001999595,72.3078347846278],[-117.86641760951147,72.70595001900435],[-115.18908749068568,73.31459503853804],[-114.16716020389764,73.12145437284715],[-114.666328701621,72.65277497017601],[-112.44101233605227,72.95539215767721],[-111.0503995430779,72.45041006132107],[-109.92033932171921,72.96112824166164],[-109.00654496950206,72.63334463163432],[-108.18835201702484,71.65087230090117],[-107.68597958049939,72.06547231717886],[-108.39640133343191,73.08954417590695],[-107.51645504436584,73.23599518502203],[-106.52258806031243,73.07600495064645]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[-79.77583312988281,72.80290222167974],[-80.8760986328125,73.33318328857422],[-80.83388519287114,73.69318389892578],[-80.35305786132808,73.75971984863287],[-78.06443786621091,73.65193176269534],[-76.34,73.1026849899531],[-76.25140380859372,72.82638549804685],[-77.31443786621097,72.85554504394537],[-78.39167022705078,72.87665557861328],[-79.48625183105473,72.74220275878906],[-79.77583312988281,72.80290222167974]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[139.86312,73.36983],[140.81171,73.76506],[142.06207,73.85758],[143.48283,73.47525],[143.60385,73.21244],[142.08763,73.20544],[140.038155,73.31692],[139.86312,73.36983]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:1},geometry:{type:"LineString",coordinates:[[148.22223,75.345845],[150.73167,75.08406],[149.575925,74.68892],[147.977465,74.778355],[146.11919,75.17298],[146.358485,75.49682],[148.22223,75.345845]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[138.831075,76.13676],[141.471615,76.09289],[145.086285,75.562625],[144.3,74.82],[140.61381,74.84768],[138.95544,74.61148],[136.97439,75.26167],[137.51176,75.94917],[138.831075,76.13676]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-98.57700069862696,76.58860708282197],[-98.5,76.72],[-97.735585,76.25656],[-97.704415,75.74344],[-98.16,75],[-99.8087343005199,74.8974441596381],[-100.88365576862317,75.0573568793653],[-100.86290768105799,75.6407579617244],[-102.50208411335622,75.56381175404184],[-102.56551693399449,76.33658112253448],[-101.48974280475842,76.30536855743023],[-99.9834781563149,76.64632965769201],[-98.57700069862696,76.58860708282197]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:.5},geometry:{type:"LineString",coordinates:[[102.837815,79.28129],[105.37243,78.71334],[105.07547,78.30689],[99.43814,77.921],[101.2649,79.23399],[102.08635,79.34641],[102.837815,79.28129]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[93.77766,81.0246],[95.940895,81.2504],[97.88385,80.746975],[100.186655,79.780135],[99.93976,78.88094],[97.75794,78.7562],[94.97259,79.044745],[93.31288,79.4265],[92.5454,80.14379],[91.18107,80.34146],[93.77766,81.0246]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-96.01643347856468,80.60231557893178],[-95.32345252153067,80.9072840441022],[-94.2984246488052,80.9772797716416],[-94.73542639848141,81.20646474885606],[-92.40983191605021,81.25739187287974],[-91.13288143590192,80.72344513622392],[-87.81,80.32],[-87.02,79.66],[-85.81434302442231,79.33691478140074],[-87.18756669793036,79.0393102078317],[-89.03536088739085,78.28721141225586],[-90.80434851760629,78.21532949493786],[-92.87667680537506,78.34333201772486],[-93.95115902380383,78.7510073920754],[-93.93573360876466,79.11372427033211],[-93.14523922399587,79.38011627879672],[-94.97399064815679,79.37246816681753],[-96.0761455960779,79.70500600861567],[-96.70972449419241,80.15776907014097],[-96.01643347856468,80.60231557893178]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-91.58702,81.89429],[-90.1,82.085],[-88.93227,82.11751],[-86.97024,82.27961],[-85.5,82.65227345805701],[-84.260005,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.30664,83.13056],[-76.25,83.1720588235294],[-75.71878,83.06404],[-72.83153,83.23324],[-70.665765,83.16978075838281],[-68.5,83.10632151676572],[-65.82735,83.02801],[-63.68,82.9],[-61.85,82.6286],[-61.89388,82.36165],[-64.334,81.92775],[-66.75342,81.72527],[-67.65755,81.50141],[-65.48031,81.50657],[-67.84,80.9],[-69.4697,80.61683],[-71.18,79.8],[-73.2428,79.63415],[-73.88,79.43016220480209],[-76.90773,79.32309],[-75.52924,79.19766],[-76.22046,79.01907],[-75.39345,78.52581],[-76.34354,78.18296],[-77.88851,77.89991],[-78.36269,77.50859],[-79.75951,77.20968],[-79.61965,76.98336],[-77.91089,77.022045],[-77.88911,76.777955],[-80.56125,76.17812],[-83.17439,76.45403],[-86.11184,76.29901],[-87.6,76.42],[-89.49068,76.47239],[-89.6161,76.95213],[-87.76739,77.17833],[-88.26,77.9],[-87.65,77.9702222222223],[-84.97634,77.53873],[-86.34,78.18],[-87.96192,78.37181],[-87.15198,78.75867],[-85.37868,78.9969],[-85.09495,79.34543],[-86.50734,79.73624],[-86.93179,80.25145],[-84.19844,80.20836],[-83.4086956521739,80.1],[-81.84823,80.46442],[-84.1,80.58],[-87.59895,80.51627],[-89.36663,80.85569],[-90.2,81.26],[-91.36786,81.5531],[-91.58702,81.89429]]}},{type:"Feature",properties:{scalerank:0,featurecla:"Coastline",min_zoom:0},geometry:{type:"LineString",coordinates:[[-46.76379,82.62796],[-43.40644,83.22516],[-39.89753,83.18018],[-38.62214,83.54905],[-35.08787,83.64513],[-27.10046,83.51966],[-20.84539,82.72669],[-22.69182,82.34165],[-26.51753,82.29765],[-31.9,82.2],[-31.39646,82.02154],[-27.85666,82.13178],[-24.84448,81.78697],[-22.90328,82.09317],[-22.07175,81.73449],[-23.16961,81.15271],[-20.62363,81.52462],[-15.76818,81.91245],[-12.77018,81.71885],[-12.20855,81.29154],[-16.28533,80.58004],[-16.85,80.35],[-20.04624,80.17708],[-17.73035,80.12912],[-18.9,79.4],[-19.70499,78.75128],[-19.67353,77.63859],[-18.47285,76.98565],[-20.03503,76.94434],[-21.67944,76.62795],[-19.83407,76.09808],[-19.59896,75.24838],[-20.66818,75.15585],[-19.37281,74.29561],[-21.59422,74.22382],[-20.43454,73.81713],[-20.76234,73.46436],[-22.17221,73.30955],[-23.56593,73.30663],[-22.31311,72.62928],[-22.29954,72.18409],[-24.27834,72.59788],[-24.79296,72.3302],[-23.44296,72.08016],[-22.13281,71.46898],[-21.75356,70.66369],[-23.53603,70.471],[-24.30702,70.85649],[-25.54341,71.43094],[-25.20135,70.75226],[-26.36276,70.22646],[-23.72742,70.18401],[-22.34902,70.12946],[-25.02927,69.2588],[-27.74737,68.47046],[-30.67371,68.12503],[-31.77665,68.12078],[-32.81105,67.73547],[-34.20196,66.67974],[-36.35284,65.9789],[-37.04378,65.93768],[-38.37505,65.69213],[-39.81222,65.45848],[-40.66899,64.83997],[-40.68281,64.13902],[-41.1887,63.48246],[-42.81938,62.68233],[-42.41666,61.90093],[-42.86619,61.07404],[-43.3784,60.09772],[-44.7875,60.03676],[-46.26364,60.85328],[-48.26294,60.85843],[-49.23308,61.40681],[-49.90039,62.38336],[-51.63325,63.62691],[-52.14014,64.27842],[-52.27659,65.1767],[-53.66166,66.09957],[-53.30161,66.8365],[-53.96911,67.18899],[-52.9804,68.35759],[-51.47536,68.72958],[-51.08041,69.14781],[-50.87122,69.9291],[-52.013585,69.574925],[-52.55792,69.42616],[-53.45629,69.283625],[-54.68336,69.61003],[-54.75001,70.28932],[-54.35884,70.821315],[-53.431315,70.835755],[-51.39014,70.56978],[-53.10937,71.20485],[-54.00422,71.54719],[-55,71.40653696727259],[-55.83468,71.65444],[-54.71819,72.58625],[-55.32634,72.95861],[-56.12003,73.64977],[-57.32363,74.71026],[-58.59679,75.09861],[-58.58516,75.51727],[-61.26861,76.10238],[-63.39165,76.1752],[-66.06427,76.13486],[-68.50438,76.06141],[-69.66485,76.37975],[-71.40257,77.00857],[-68.77671,77.32312],[-66.76397,77.37595],[-71.04293,77.63595],[-73.297,78.04419],[-73.15938,78.43271],[-69.37345,78.91388],[-65.7107,79.39436],[-65.3239,79.75814],[-68.02298,80.11721],[-67.15129,80.51582],[-63.68925,81.21396],[-62.23444,81.3211],[-62.65116,81.77042],[-60.28249,82.03363],[-57.20744,82.19074],[-54.13442,82.19962],[-53.04328,81.88833],[-50.39061,82.43883],[-48.00386,82.06481],[-46.59984,81.985945],[-44.523,81.6607],[-46.9007,82.19979],[-46.76379,82.62796]]}},{type:"Feature",properties:{scalerank:1,featurecla:"Country",min_zoom:1.5},geometry:{type:"LineString",coordinates:[[-106.6,73.6],[-105.26,73.64],[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6]]}}],q6e={type:G6e,name:$6e,crs:W6e,features:j6e};function X6e({radius:t}){const e=q6e.features.map(n=>H6e(n.geometry.coordinates));return z.jsx(z.Fragment,{children:e.map((n,r)=>z.jsx(B6e,{coordinates:n,material:{color:"black"},radius:t},r))})}const YH={Copenhagen:[12.6502778,55.6202778],Iceland:[-19.020835,64.963051],"New York":[-73.990494,40.7569545],Seoul:[126.9779692,37.566535]},Y6e=/^[og]\s*(.+)?/,K6e=/^mtllib /,Q6e=/^usemtl /,Z6e=/^usemap /,QL=/\s+/,ZL=new O,qy=new O,JL=new O,ek=new O,Ks=new O,G4=new et;function J6e(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,n){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=n!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const u={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return u.clone=this.clone.bind(u),u}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseNormalIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseUVIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/2)*2},addVertex:function(e,n,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[n+0],i[n+1],i[n+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addVertexLine:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addNormal:function(e,n,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[n+0],i[n+1],i[n+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,n,r){const i=this.vertices,s=this.object.geometry.normals;ZL.fromArray(i,e),qy.fromArray(i,n),JL.fromArray(i,r),Ks.subVectors(JL,qy),ek.subVectors(ZL,qy),Ks.cross(ek),Ks.normalize(),s.push(Ks.x,Ks.y,Ks.z),s.push(Ks.x,Ks.y,Ks.z),s.push(Ks.x,Ks.y,Ks.z)},addColor:function(e,n,r){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[n]!==void 0&&s.push(i[n+0],i[n+1],i[n+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,n,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[n+0],i[n+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const n=this.uvs;this.object.geometry.uvs.push(n[e+0],n[e+1])},addFace:function(e,n,r,i,s,o,a,l,u){const c=this.vertices.length;let f=this.parseVertexIndex(e,c),p=this.parseVertexIndex(n,c),m=this.parseVertexIndex(r,c);if(this.addVertex(f,p,m),this.addColor(f,p,m),a!==void 0&&a!==""){const y=this.normals.length;f=this.parseNormalIndex(a,y),p=this.parseNormalIndex(l,y),m=this.parseNormalIndex(u,y),this.addNormal(f,p,m)}else this.addFaceNormal(f,p,m);if(i!==void 0&&i!==""){const y=this.uvs.length;f=this.parseUVIndex(i,y),p=this.parseUVIndex(s,y),m=this.parseUVIndex(o,y),this.addUV(f,p,m),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const n=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const s=this.parseVertexIndex(e[r],n);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,n){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(let s=0,o=n.length;s<o;s++)this.addUVLine(this.parseUVIndex(n[s],i))}};return t.startObject("",!1),t}class e7e extends us{constructor(e){super(e),this.materials=null}load(e,n,r,i){const s=this,o=new pa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const n=new J6e;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let a=0,l=r.length;a<l;a++){const u=r[a].trimStart();if(u.length===0)continue;const c=u.charAt(0);if(c!=="#")if(c==="v"){const f=u.split(QL);switch(f[0]){case"v":n.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?(G4.setRGB(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6])).convertSRGBToLinear(),n.colors.push(G4.r,G4.g,G4.b)):n.colors.push(void 0,void 0,void 0);break;case"vn":n.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":n.uvs.push(parseFloat(f[1]),parseFloat(f[2]));break}}else if(c==="f"){const p=u.slice(1).trim().split(QL),m=[];for(let _=0,x=p.length;_<x;_++){const g=p[_];if(g.length>0){const S=g.split("/");m.push(S)}}const y=m[0];for(let _=1,x=m.length-1;_<x;_++){const g=m[_],S=m[_+1];n.addFace(y[0],g[0],S[0],y[1],g[1],S[1],y[2],g[2],S[2])}}else if(c==="l"){const f=u.substring(1).trim().split(" ");let p=[];const m=[];if(u.indexOf("/")===-1)p=f;else for(let y=0,_=f.length;y<_;y++){const x=f[y].split("/");x[0]!==""&&p.push(x[0]),x[1]!==""&&m.push(x[1])}n.addLineGeometry(p,m)}else if(c==="p"){const p=u.slice(1).trim().split(" ");n.addPointGeometry(p)}else if((i=Y6e.exec(u))!==null){const f=(" "+i[0].slice(1).trim()).slice(1);n.startObject(f)}else if(Q6e.test(u))n.object.startMaterial(u.substring(7).trim(),n.materialLibraries);else if(K6e.test(u))n.materialLibraries.push(u.substring(7).trim());else if(Z6e.test(u))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(c==="s"){if(i=u.split(" "),i.length>1){const p=i[1].trim().toLowerCase();n.object.smooth=p!=="0"&&p!=="off"}else n.object.smooth=!0;const f=n.object.currentMaterial();f&&(f.smooth=n.object.smooth)}else{if(u==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+u+'"')}}n.finalize();const s=new kc;if(s.materialLibraries=[].concat(n.materialLibraries),!(n.objects.length===1&&n.objects[0].geometry.vertices.length===0)===!0)for(let a=0,l=n.objects.length;a<l;a++){const u=n.objects[a],c=u.geometry,f=u.materials,p=c.type==="Line",m=c.type==="Points";let y=!1;if(c.vertices.length===0)continue;const _=new Rt;_.setAttribute("position",new tt(c.vertices,3)),c.normals.length>0&&_.setAttribute("normal",new tt(c.normals,3)),c.colors.length>0&&(y=!0,_.setAttribute("color",new tt(c.colors,3))),c.hasUVIndices===!0&&_.setAttribute("uv",new tt(c.uvs,2));const x=[];for(let S=0,w=f.length;S<w;S++){const b=f[S],M=b.name+"_"+b.smooth+"_"+y;let A=n.materials[M];if(this.materials!==null){if(A=this.materials.create(b.name),p&&A&&!(A instanceof Or)){const R=new Or;Ur.prototype.copy.call(R,A),R.color.copy(A.color),A=R}else if(m&&A&&!(A instanceof Dc)){const R=new Dc({size:10,sizeAttenuation:!1});Ur.prototype.copy.call(R,A),R.color.copy(A.color),R.map=A.map,A=R}}A===void 0&&(p?A=new Or:m?A=new Dc({size:1,sizeAttenuation:!1}):A=new nb,A.name=b.name,A.flatShading=!b.smooth,A.vertexColors=y,n.materials[M]=A),x.push(A)}let g;if(x.length>1){for(let S=0,w=f.length;S<w;S++){const b=f[S];_.addGroup(b.groupStart,b.groupCount,S)}p?g=new uo(_,x):m?g=new lp(_,x):g=new Fr(_,x)}else p?g=new uo(_,x[0]):m?g=new lp(_,x[0]):g=new Fr(_,x[0]);g.name=u.name,s.add(g)}else if(n.vertices.length>0){const a=new Dc({size:1,sizeAttenuation:!1}),l=new Rt;l.setAttribute("position",new tt(n.vertices,3)),n.colors.length>0&&n.colors[0]!==void 0&&(l.setAttribute("color",new tt(n.colors,3)),a.vertexColors=!0);const u=new lp(l,a);s.add(u)}return s}}function t7e({radius:t}){const e=mb(e7e,"./starPin.obj");return e.traverse(n=>{n.isMesh&&n.material.color.set(0)}),z.jsx("group",{children:Object.values(YH).map((n,r)=>z.jsx("primitive",{position:yb(n,t),scale:.08,object:e.clone()},r))})}const n7e=gu.memo(({radius:t})=>z.jsx(z.Fragment,{children:z.jsxs("mesh",{children:[z.jsx("sphereGeometry",{args:[t,32,32]}),z.jsx(X6e,{radius:t}),z.jsx(t7e,{radius:t})]})}),()=>!0);function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function g2(t){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g2(t)}function r7e(t,e){if(g2(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(g2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i7e(t){var e=r7e(t,"string");return g2(e)==="symbol"?e:String(e)}function Ct(t,e,n){return e=i7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const tk=(t,e)=>(t%e+e)%e;let s7e=class extends _a{constructor(e,n){super(),Ct(this,"object",void 0),Ct(this,"domElement",void 0),Ct(this,"enabled",!0),Ct(this,"target",new O),Ct(this,"minDistance",0),Ct(this,"maxDistance",1/0),Ct(this,"minZoom",0),Ct(this,"maxZoom",1/0),Ct(this,"minPolarAngle",0),Ct(this,"maxPolarAngle",Math.PI),Ct(this,"minAzimuthAngle",-1/0),Ct(this,"maxAzimuthAngle",1/0),Ct(this,"enableDamping",!1),Ct(this,"dampingFactor",.05),Ct(this,"enableZoom",!0),Ct(this,"zoomSpeed",1),Ct(this,"enableRotate",!0),Ct(this,"rotateSpeed",1),Ct(this,"enablePan",!0),Ct(this,"panSpeed",1),Ct(this,"screenSpacePanning",!0),Ct(this,"keyPanSpeed",7),Ct(this,"autoRotate",!1),Ct(this,"autoRotateSpeed",2),Ct(this,"reverseOrbit",!1),Ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ct(this,"mouseButtons",{LEFT:fc.ROTATE,MIDDLE:fc.DOLLY,RIGHT:fc.PAN}),Ct(this,"touches",{ONE:pc.ROTATE,TWO:pc.DOLLY_PAN}),Ct(this,"target0",void 0),Ct(this,"position0",void 0),Ct(this,"zoom0",void 0),Ct(this,"_domElementKeyEvents",null),Ct(this,"getPolarAngle",void 0),Ct(this,"getAzimuthalAngle",void 0),Ct(this,"setPolarAngle",void 0),Ct(this,"setAzimuthalAngle",void 0),Ct(this,"getDistance",void 0),Ct(this,"listenToKeyEvents",void 0),Ct(this,"saveState",void 0),Ct(this,"reset",void 0),Ct(this,"update",void 0),Ct(this,"connect",void 0),Ct(this,"dispose",void 0),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Bn?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=N=>{let K=tk(N,2*Math.PI),oe=c.phi;oe<0&&(oe+=2*Math.PI),K<0&&(K+=2*Math.PI);let xe=Math.abs(K-oe);2*Math.PI-xe<xe&&(K<oe?K+=2*Math.PI:oe+=2*Math.PI),f.phi=K-oe,r.update()},this.setAzimuthalAngle=N=>{let K=tk(N,2*Math.PI),oe=c.theta;oe<0&&(oe+=2*Math.PI),K<0&&(K+=2*Math.PI);let xe=Math.abs(K-oe);2*Math.PI-xe<xe&&(K<oe?K+=2*Math.PI:oe+=2*Math.PI),f.theta=K-oe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=N=>{N.addEventListener("keydown",ge),this._domElementKeyEvents=N},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Bn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Bn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const N=new O,K=new Ci().setFromUnitVectors(e.up,new O(0,1,0)),oe=K.clone().invert(),xe=new O,Le=new Ci,Ne=2*Math.PI;return function(){const W=r.object.position;N.copy(W).sub(r.target),N.applyQuaternion(K),c.setFromVector3(N),r.autoRotate&&l===a.NONE&&ee(k()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let ue=r.minAzimuthAngle,Ee=r.maxAzimuthAngle;return isFinite(ue)&&isFinite(Ee)&&(ue<-Math.PI?ue+=Ne:ue>Math.PI&&(ue-=Ne),Ee<-Math.PI?Ee+=Ne:Ee>Math.PI&&(Ee-=Ne),ue<=Ee?c.theta=Math.max(ue,Math.min(Ee,c.theta)):c.theta=c.theta>(ue+Ee)/2?Math.max(ue,c.theta):Math.min(Ee,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=p,c.radius=Math.max(r.minDistance,Math.min(r.maxDistance,c.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),N.setFromSpherical(c),N.applyQuaternion(oe),W.copy(r.target).add(N),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),p=1,y||xe.distanceToSquared(r.object.position)>u||8*(1-Le.dot(r.object.quaternion))>u?(r.dispatchEvent(i),xe.copy(r.object.position),Le.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=N=>{N===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=N,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ge),r.domElement.addEventListener("pointerdown",st),r.domElement.addEventListener("pointercancel",pt),r.domElement.addEventListener("wheel",D)},this.dispose=()=>{var N,K,oe,xe,Le,Ne;(N=r.domElement)===null||N===void 0||N.removeEventListener("contextmenu",Ge),(K=r.domElement)===null||K===void 0||K.removeEventListener("pointerdown",st),(oe=r.domElement)===null||oe===void 0||oe.removeEventListener("pointercancel",pt),(xe=r.domElement)===null||xe===void 0||xe.removeEventListener("wheel",D),(Le=r.domElement)===null||Le===void 0||Le.ownerDocument.removeEventListener("pointermove",at),(Ne=r.domElement)===null||Ne===void 0||Ne.ownerDocument.removeEventListener("pointerup",ot),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ge)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new Bx,f=new Bx;let p=1;const m=new O;let y=!1;const _=new Me,x=new Me,g=new Me,S=new Me,w=new Me,b=new Me,M=new Me,A=new Me,R=new Me,L=[],C={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function $(){return Math.pow(.95,r.zoomSpeed)}function ee(N){r.reverseOrbit?f.theta+=N:f.theta-=N}function q(N){r.reverseOrbit?f.phi+=N:f.phi-=N}const Z=(()=>{const N=new O;return function(oe,xe){N.setFromMatrixColumn(xe,0),N.multiplyScalar(-oe),m.add(N)}})(),ie=(()=>{const N=new O;return function(oe,xe){r.screenSpacePanning===!0?N.setFromMatrixColumn(xe,1):(N.setFromMatrixColumn(xe,0),N.crossVectors(r.object.up,N)),N.multiplyScalar(oe),m.add(N)}})(),fe=(()=>{const N=new O;return function(oe,xe){const Le=r.domElement;if(Le&&r.object instanceof Bn&&r.object.isPerspectiveCamera){const Ne=r.object.position;N.copy(Ne).sub(r.target);let Be=N.length();Be*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*oe*Be/Le.clientHeight,r.object.matrix),ie(2*xe*Be/Le.clientHeight,r.object.matrix)}else Le&&r.object instanceof hu&&r.object.isOrthographicCamera?(Z(oe*(r.object.right-r.object.left)/r.object.zoom/Le.clientWidth,r.object.matrix),ie(xe*(r.object.top-r.object.bottom)/r.object.zoom/Le.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function me(N){r.object instanceof Bn&&r.object.isPerspectiveCamera?p/=N:r.object instanceof hu&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*N)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(N){r.object instanceof Bn&&r.object.isPerspectiveCamera?p*=N:r.object instanceof hu&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/N)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(N){_.set(N.clientX,N.clientY)}function X(N){M.set(N.clientX,N.clientY)}function ae(N){S.set(N.clientX,N.clientY)}function ce(N){x.set(N.clientX,N.clientY),g.subVectors(x,_).multiplyScalar(r.rotateSpeed);const K=r.domElement;K&&(ee(2*Math.PI*g.x/K.clientHeight),q(2*Math.PI*g.y/K.clientHeight)),_.copy(x),r.update()}function re(N){A.set(N.clientX,N.clientY),R.subVectors(A,M),R.y>0?me($()):R.y<0&&G($()),M.copy(A),r.update()}function he(N){w.set(N.clientX,N.clientY),b.subVectors(w,S).multiplyScalar(r.panSpeed),fe(b.x,b.y),S.copy(w),r.update()}function Pe(N){N.deltaY<0?G($()):N.deltaY>0&&me($()),r.update()}function Ae(N){let K=!1;switch(N.code){case r.keys.UP:fe(0,r.keyPanSpeed),K=!0;break;case r.keys.BOTTOM:fe(0,-r.keyPanSpeed),K=!0;break;case r.keys.LEFT:fe(r.keyPanSpeed,0),K=!0;break;case r.keys.RIGHT:fe(-r.keyPanSpeed,0),K=!0;break}K&&(N.preventDefault(),r.update())}function j(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const N=.5*(L[0].pageX+L[1].pageX),K=.5*(L[0].pageY+L[1].pageY);_.set(N,K)}}function Ze(){if(L.length==1)S.set(L[0].pageX,L[0].pageY);else{const N=.5*(L[0].pageX+L[1].pageX),K=.5*(L[0].pageY+L[1].pageY);S.set(N,K)}}function nt(){const N=L[0].pageX-L[1].pageX,K=L[0].pageY-L[1].pageY,oe=Math.sqrt(N*N+K*K);M.set(0,oe)}function Re(){r.enableZoom&&nt(),r.enablePan&&Ze()}function He(){r.enableZoom&&nt(),r.enableRotate&&j()}function Te(N){if(L.length==1)x.set(N.pageX,N.pageY);else{const oe=J(N),xe=.5*(N.pageX+oe.x),Le=.5*(N.pageY+oe.y);x.set(xe,Le)}g.subVectors(x,_).multiplyScalar(r.rotateSpeed);const K=r.domElement;K&&(ee(2*Math.PI*g.x/K.clientHeight),q(2*Math.PI*g.y/K.clientHeight)),_.copy(x)}function ve(N){if(L.length==1)w.set(N.pageX,N.pageY);else{const K=J(N),oe=.5*(N.pageX+K.x),xe=.5*(N.pageY+K.y);w.set(oe,xe)}b.subVectors(w,S).multiplyScalar(r.panSpeed),fe(b.x,b.y),S.copy(w)}function Ce(N){const K=J(N),oe=N.pageX-K.x,xe=N.pageY-K.y,Le=Math.sqrt(oe*oe+xe*xe);A.set(0,Le),R.set(0,Math.pow(A.y/M.y,r.zoomSpeed)),me(R.y),M.copy(A)}function Ye(N){r.enableZoom&&Ce(N),r.enablePan&&ve(N)}function Ve(N){r.enableZoom&&Ce(N),r.enableRotate&&Te(N)}function st(N){if(r.enabled!==!1){if(L.length===0){var K,oe;(K=r.domElement)===null||K===void 0||K.ownerDocument.addEventListener("pointermove",at),(oe=r.domElement)===null||oe===void 0||oe.ownerDocument.addEventListener("pointerup",ot)}lt(N),N.pointerType==="touch"?Ie(N):It(N)}}function at(N){r.enabled!==!1&&(N.pointerType==="touch"?ke(N):B(N))}function ot(N){if(qe(N),L.length===0){var K,oe,xe;(K=r.domElement)===null||K===void 0||K.releasePointerCapture(N.pointerId),(oe=r.domElement)===null||oe===void 0||oe.ownerDocument.removeEventListener("pointermove",at),(xe=r.domElement)===null||xe===void 0||xe.ownerDocument.removeEventListener("pointerup",ot)}r.dispatchEvent(o),l=a.NONE}function pt(N){qe(N)}function It(N){let K;switch(N.button){case 0:K=r.mouseButtons.LEFT;break;case 1:K=r.mouseButtons.MIDDLE;break;case 2:K=r.mouseButtons.RIGHT;break;default:K=-1}switch(K){case fc.DOLLY:if(r.enableZoom===!1)return;X(N),l=a.DOLLY;break;case fc.ROTATE:if(N.ctrlKey||N.metaKey||N.shiftKey){if(r.enablePan===!1)return;ae(N),l=a.PAN}else{if(r.enableRotate===!1)return;Y(N),l=a.ROTATE}break;case fc.PAN:if(N.ctrlKey||N.metaKey||N.shiftKey){if(r.enableRotate===!1)return;Y(N),l=a.ROTATE}else{if(r.enablePan===!1)return;ae(N),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function B(N){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;ce(N);break;case a.DOLLY:if(r.enableZoom===!1)return;re(N);break;case a.PAN:if(r.enablePan===!1)return;he(N);break}}function D(N){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(N.preventDefault(),r.dispatchEvent(s),Pe(N),r.dispatchEvent(o))}function ge(N){r.enabled===!1||r.enablePan===!1||Ae(N)}function Ie(N){switch(H(N),L.length){case 1:switch(r.touches.ONE){case pc.ROTATE:if(r.enableRotate===!1)return;j(),l=a.TOUCH_ROTATE;break;case pc.PAN:if(r.enablePan===!1)return;Ze(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case pc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(),l=a.TOUCH_DOLLY_PAN;break;case pc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;He(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ke(N){switch(H(N),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Te(N),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ve(N),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ye(N),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ve(N),r.update();break;default:l=a.NONE}}function Ge(N){r.enabled!==!1&&N.preventDefault()}function lt(N){L.push(N)}function qe(N){delete C[N.pointerId];for(let K=0;K<L.length;K++)if(L[K].pointerId==N.pointerId){L.splice(K,1);return}}function H(N){let K=C[N.pointerId];K===void 0&&(K=new Me,C[N.pointerId]=K),K.set(N.pageX,N.pageY)}function J(N){const K=N.pointerId===L[0].pointerId?L[1]:L[0];return C[K.pointerId]}n!==void 0&&this.connect(n),this.update()}};const o7e=I.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const c=Fa(M=>M.invalidate),f=Fa(M=>M.camera),p=Fa(M=>M.gl),m=Fa(M=>M.events),y=Fa(M=>M.setEvents),_=Fa(M=>M.set),x=Fa(M=>M.get),g=Fa(M=>M.performance),S=e||f,w=r||m.connected||p.domElement,b=I.useMemo(()=>new s7e(S),[S]);return m6e(()=>{b.enabled&&b.update()},-1),I.useEffect(()=>(b.connect(w),()=>void b.dispose()),[w,n,b,c]),I.useEffect(()=>{const M=L=>{c(),n&&g.regress(),s&&s(L)},A=L=>{o&&o(L)},R=L=>{a&&a(L)};return b.addEventListener("change",M),b.addEventListener("start",A),b.addEventListener("end",R),()=>{b.removeEventListener("start",A),b.removeEventListener("end",R),b.removeEventListener("change",M)}},[s,o,a,b,c,y]),I.useEffect(()=>{if(t){const M=x().controls;return _({controls:b}),()=>_({controls:M})}},[t,b]),I.createElement("primitive",Wx({ref:u,object:b,enableDamping:i},l))}),y2={Copenhagen:[1e3,2200],Iceland:[2700,3900],Seoul:[4500,5700],"New York":[6500,7e3]},KH=1,a7e=KH*4,jx={},l7e=(t,e)=>V6e(yb(t,e)),u7e=()=>{Object.keys(y2).forEach(t=>{let e=t;const[n,r]=y2[e],i=l7e(YH[e],a7e);jx[n]=i,jx[r]=i})};u7e();const c7e=()=>{const{camera:t}=Fa(),{setCameraPositions:e}=z6e({x:0,y:0,z:4},t);return e(jx),z.jsxs(z.Fragment,{children:[z.jsx(n7e,{radius:KH}),z.jsx(o7e,{enableZoom:!1,enableDamping:!1,enablePan:!1,enableRotate:!1})]})},d7e=[{imageName:"IMG_0040.JPG",description:`
      ,
    
    `},{imageName:"IMG_4367.JPG",description:`
         .`},{imageName:"IMG_7484.JPG",description:`
        ,`},{imageName:"IMG_6172.JPG",description:`
      
         .
    `},{imageName:"IMG_7702.png",description:`
      
    `}],h7e=[{imageName:"IMG_2127.JPG",description:`
        !
         
    `},{imageName:"IMG_2224.JPG",description:`
         3   .`},{imageName:"IMG_6261.JPG",description:`
        `},{imageName:"IMG_6243.png",description:`
         
    `}],f7e=[{imageName:"C0488T01.JPG",description:`
    
    2022 
    `},{imageName:"C0669T01.JPG",description:`
       ? 
    ~ `},{imageName:"C0814T01.JPG",description:`
       
      `},{imageName:"C0657T01.JPG",description:`
       
        
    `},{imageName:"C0616T01.JPG",description:`
            
    `}],p7e=[{imageName:"IMG_4649.JPG",description:`
      .     
    `},{imageName:"IMG_4662.JPG",description:`
      ~   
           `},{imageName:"IMG_4679.JPG",description:`
       `},{imageName:"000071560029.JPG",description:`
     
    `},{imageName:"000071560027.JPG",description:`
      2
    `}],m7e={Copenhagen:d7e,Iceland:h7e,"New York":f7e,Seoul:p7e},v8=I.createContext({currentIndex:0});function g7e({children:t,polaroidList:e,size:n}){const[r,i]=I.useState(0),s=()=>{r>=e.length-1||i(r+1)},o=()=>{r<=0||i(r-1)};return z.jsx(Io,{direction:"column",justify:"center",pos:"relative",backgroundColor:"white",p:"3",filter:"drop-shadow(1px 1px 4px rgba(0, 0, 0, 0.1))",children:z.jsx(v8.Provider,{value:{currentIndex:r,onNext:s,onPrev:o,polaroidList:e,size:n},children:t})})}const y7e="/pin-the-world/assets/arrow-left-bc501fb3.svg",v7e="/pin-the-world/assets/arrow-right-293c31c6.svg";function _7e(){const t=I.useContext(v8),e=I.useMemo(()=>{var n;return((n=t==null?void 0:t.polaroidList)==null?void 0:n.length)??0},[t==null?void 0:t.polaroidList]);return z.jsxs(Io,{width:`${(t==null?void 0:t.size)??0}px`,justify:"space-between",pos:"absolute",top:"162px",px:"6px",children:[z.jsx(H_,{size:"s",isRound:!0,onClick:t==null?void 0:t.onPrev,visibility:(t==null?void 0:t.currentIndex)===0?"hidden":void 0,icon:z.jsx("img",{src:y7e}),"aria-label":"to previous image",backgroundColor:"rgba(255, 255, 255, 0.7)"}),z.jsx(H_,{size:"s",isRound:!0,onClick:t==null?void 0:t.onNext,visibility:(t==null?void 0:t.currentIndex)===e-1?"hidden":void 0,icon:z.jsx("img",{src:v7e}),"aria-label":"to next image",backgroundColor:"rgba(255, 255, 255, 0.7)"})]})}function x7e(){const t=I.useContext(v8);I.useEffect(()=>{},[t==null?void 0:t.currentIndex]);const e=I.useMemo(()=>!t||!t.polaroidList||t.currentIndex==null?"":t.polaroidList[t.currentIndex].description,[t==null?void 0:t.currentIndex]);return z.jsx(Es,{color:"black",h:"16",m:"3",fontSize:"xs",whiteSpace:"pre-line",textAlign:"center",children:e})}const vb=t=>{const{motioned:e=!1,imageName:n,alt:r="",...i}=t,s="https://pin-the-world.s3.ap-northeast-2.amazonaws.com/",o=n.split(".")[n.split(".").length-1].toLowerCase(),a=n.slice(0,-(o.length+1)),l=s+"resized/"+a+"%26400",u=s+"resized/"+a+"%26960",c=l+" 1x,"+u+" 2x";return z.jsx(vz,{as:e?xd.img:void 0,srcSet:c,src:u,...i,alt:r})};function S7e(){var s;const t=I.useContext(v8),e=t!==void 0,n=I.useRef(0),r=I.useRef(null),i=I.useMemo(()=>(t==null?void 0:t.size)??0,[t==null?void 0:t.size]);return I.useEffect(()=>{var l;const o=t==null?void 0:t.currentIndex,a=(t==null?void 0:t.size)??0;o===void 0||!r.current||o===n.current||((l=r.current)==null||l.animate({transform:[`translateX(-${n.current*a}px)`,`translateX(-${o*a}px)`]},{duration:1e3,fill:"forwards",easing:"ease"}),n.current=(t==null?void 0:t.currentIndex)??0)},[t==null?void 0:t.currentIndex]),z.jsx(or,{width:`${i}px`,height:`${i}px`,overflow:"hidden",boxShadow:"0px 0px 5px 2px rgba(0, 0, 0, 0.09) inset",children:z.jsx(Io,{ref:r,width:"100%",height:"100%",children:e&&((s=t.polaroidList)==null?void 0:s.map((o,a)=>z.jsx(or,{minWidth:`${i}px`,minHeight:`${i}px`,children:z.jsx(vb,{imageName:o.imageName,alt:o.alt??"polaroid image",objectFit:"cover",objectPosition:"50% 50%",width:"100%",height:"100%"})},a)))})})}function w7e({polaroidList:t,size:e}){return z.jsxs(g7e,{polaroidList:t,size:e,children:[z.jsx(S7e,{}),z.jsx(x7e,{}),z.jsx(_7e,{})]})}function E7e({cityName:t,scrollStart:e,scrollHeight:n}){const{y:r}=XH(100),[i,s]=I.useState(!1);return I.useEffect(()=>{r>e&&r<n+e?s(!0):s(!1)},[r]),z.jsx(o0,{children:i&&z.jsxs(Io,{as:xd.div,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},pos:"fixed",top:"20",align:"center",direction:"column",width:"100%",children:[z.jsx(Es,{fontSize:"5xl",fontWeight:"300",mb:"-5",fontFamily:"Clash Display",children:t}),z.jsx(w7e,{polaroidList:m7e[t],size:300})]})})}const b7e=t=>!!Object.keys(y2).includes(t);function T7e(){return z.jsx(z.Fragment,{children:Object.keys(y2).map(t=>{if(b7e(t))return z.jsx(E7e,{cityName:t,scrollStart:y2[t][0],scrollHeight:800},t)})})}function M7e(){return z.jsx(z.Fragment,{children:z.jsxs(or,{pt:"16",h:"8500px",bgGradient:"linear(to-b, white 3%, #f57ac0 30%, #e0edb2 40%, #68cbc0 63%, #fb97fb 81%, #fba397 91%)",children:[z.jsxs(Cc,{as:"h1",size:"4xl",pl:"24px",fontWeight:"regular",children:["Pin the ",z.jsx("br",{})," World"]}),z.jsxs(or,{pos:"fixed",top:"32",w:"100vw",h:"100vw",children:[z.jsxs(O6e,{camera:{fov:45,near:.1,far:1e3,position:[0,0,4]},children:[z.jsx("pointLight",{position:[0,0,3]}),z.jsx(c7e,{})]}),z.jsx(or,{pos:"fixed",top:"32",w:"100vw",h:"100vw"})]}),z.jsx(T7e,{})]})})}function A7e(){return z.jsx("div",{children:"Europe"})}const C7e="/pin-the-world/assets/youtube-icon-01733c04.svg",P7e="/pin-the-world/assets/instagram-icon-53341f15.svg";function R7e(){return z.jsxs(or,{px:"6",py:"16",children:[z.jsx(Cc,{as:"h1",fontWeight:"400",size:"4xl",children:"About"}),z.jsx(Cc,{as:"h2",fontSize:"lg",fontWeight:"500",mt:"8",children:"About me"}),z.jsxs(Es,{fontSize:"sm",mt:"2",children:["A frontend developer ",z.jsx("br",{}),"who loves to travel and take photos"]}),z.jsx(Cc,{as:"h2",fontSize:"lg",fontWeight:"500",mt:"8",children:"Youtube channel"}),z.jsx(q_,{href:"https://www.youtube.com/@twntytw22",children:z.jsxs(Io,{border:"1px",borderColor:"gray.200",borderRadius:"16px",mt:"2",px:"6",py:"3",children:[z.jsx(vb,{imageName:"thumbnailyoutube.png",width:"60px",height:"60px",borderRadius:"100px",objectFit:"cover",alt:"youtube thumbnail"}),z.jsxs(Io,{ml:"5",my:"auto",children:[z.jsx("img",{src:C7e,width:24,alt:"youtube icon"}),z.jsx(Es,{fontFamily:"Clash Display",ml:"2",children:"twentytwo"})]})]})}),z.jsx(Cc,{as:"h2",fontSize:"lg",fontWeight:"500",mt:"8",children:"Instagram"}),z.jsxs(Io,{mt:"3",children:[z.jsx("img",{src:P7e,width:24,alt:"instagram icon"}),z.jsx(q_,{href:"https://www.instagram.com/twntytw_22/",fontFamily:"Clash Display",textDecoration:"underline",ml:"2",children:"@twntytw_22"})]}),z.jsx(Es,{fontSize:"sm",my:"12",children:"Thank you for visiting my website "}),z.jsx(Es,{fontSize:"sm",mt:"24",fontFamily:"Clash Display",children:"2023.08.05 dahyeon"})]})}const I7e="/pin-the-world/assets/logo-fc2cfebf.svg";function L7e(){return z.jsx("img",{src:I7e,alt:"logo",style:{height:"100%"}})}function k7e({onMenuClick:t}){const e=bw(),n=()=>{e("/")};return z.jsxs(Io,{pos:"fixed",top:"0",zIndex:"4",width:"100%",height:"56px",px:"6",py:"4",justify:"space-between",backdropFilter:"blur(2px)",children:[z.jsx(or,{as:"button",height:"100%",backgroundColor:"transparent",px:"0",onClick:n,children:z.jsx(L7e,{})}),z.jsx(or,{as:"button",my:"auto",fontFamily:"Clash Display",lineHeight:"24px",onClick:t,children:"Menu"})]})}function D7e({children:t,text:e}){return z.jsxs(hz,{border:0,children:[z.jsx("h2",{children:z.jsxs(cz,{children:[z.jsx(or,{as:"span",flex:"1",textAlign:"left",fontFamily:"Clash Display",children:e}),z.jsx(dz,{})]})}),t]})}function Xy({children:t}){return z.jsx(or,{fontFamily:"Clash Display",textAlign:"left",h:"8",children:t})}function N7e({children:t}){return z.jsx(gE,{fontFamily:"Clash Display",backgroundColor:"transparent",fontWeight:"normal",width:"100%",borderRadius:"0",textAlign:"left",justifyContent:"flex-start",children:t})}function F7e({isOpen:t,onClose:e}){return z.jsxs($he,{isOpen:t,placement:"right",onClose:e,children:[z.jsx(aB,{}),z.jsxs(oB,{children:[z.jsx(uB,{top:"3"}),z.jsxs(lB,{mt:"16",children:[z.jsx(yz,{allowToggle:!0,children:z.jsx(D7e,{text:"photos",children:z.jsxs(gz,{py:3,children:[z.jsx(h5,{to:"/photos/europe",children:z.jsx(Xy,{children:"2019 Europe"})}),z.jsx(h5,{to:"/photos/new-york",children:z.jsx(Xy,{children:"2022 New York"})}),z.jsx(Xy,{children:"Etc."})]})})}),z.jsx(h5,{to:"/about",children:z.jsx(N7e,{children:"about"})})]})]})]})}function O7e(){const{isOpen:t,onOpen:e,onClose:n}=Qde(),r=gd();return I.useEffect(()=>{n()},[r]),z.jsxs(z.Fragment,{children:[z.jsx(k7e,{onMenuClick:e}),z.jsx(F7e,{isOpen:t,onClose:n}),z.jsx(DF,{})]})}function _b({locationUrl:t,locationName:e}){return z.jsx(z.Fragment,{children:t&&z.jsx(Io,{flexDirection:"row-reverse",children:z.jsxs(h5,{to:t,rel:"external","aria-labelledby":`open ${e} on google map`,children:[z.jsx(Es,{as:"span",children:""}),z.jsx(Es,{as:"span",fontFamily:"Clash Display",align:"right",fontSize:"sm",textDecoration:"underline",children:e??"  "})]})})})}const U7e=t=>t.split("\\n").map(e=>e.trim()).join(`
`);function xb({text:t}){return z.jsx(Es,{align:"center",pt:"4",fontSize:"sm",whiteSpace:"pre-line",children:U7e(t??"")})}function Sb({ratio:t,imageName:e,alt:n}){return z.jsx(or,{width:"100vw",height:`${100*t}vw`,overflow:"hidden",children:z.jsx(vb,{motioned:!0,imageName:e,alt:n??"",initial:{scale:1.1,opacity:0},whileInView:{scale:1,opacity:1},viewport:{amount:.5,once:!0},objectFit:"cover",objectPosition:"50% 50%",width:"100vw",height:`${100*t}vw`})})}function z7e({data:t}){return z.jsxs(or,{children:[z.jsx(Sb,{ratio:1.33,imageName:t.imageName,alt:t.alt}),z.jsxs(or,{px:"6",mt:"3",mb:"10",children:[z.jsx(_b,{locationName:t.locationName,locationUrl:t.locationUrl}),z.jsx(xb,{text:t.text??""})]}),z.jsx(Es,{align:"center",my:"3",fontSize:"sm",whiteSpace:"pre-line",children:""})]})}function B7e({data:t}){return z.jsxs(or,{children:[z.jsx(Sb,{ratio:.5625,imageName:t.imageName,alt:t.alt}),z.jsxs(or,{px:"6",mt:"3",mb:"10",children:[z.jsx(_b,{locationName:t.locationName,locationUrl:t.locationUrl}),z.jsx(xb,{text:t.text??""})]}),z.jsx(Es,{align:"center",my:"3",fontSize:"sm",whiteSpace:"pre-line",children:""})]})}function V7e({data:t}){return z.jsxs(or,{children:[z.jsx(Sb,{ratio:1,imageName:t.imageName,alt:t.alt}),z.jsxs(or,{px:"6",mt:"3",mb:"10",children:[z.jsx(_b,{locationName:t.locationName,locationUrl:t.locationUrl}),z.jsx(xb,{text:t.text??""})]}),z.jsx(Es,{align:"center",my:"3",fontSize:"sm",whiteSpace:"pre-line",children:""})]})}const H7e={"image-vertical":z7e,"image-horizontal":B7e,"image-square":V7e};function G7e({item:t}){const e=H7e[t.type];return z.jsx(e,{data:t.data})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$7e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[c],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$7e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new W7e;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W7e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j7e=function(t){const e=QH(t);return ZH.encodeByteArray(e,!0)},G6=function(t){return j7e(t).replace(/\./g,"")},q7e=function(t){try{return ZH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7e=()=>X7e().__FIREBASE_DEFAULTS__,K7e=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q7e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q7e(t[1]);return e&&JSON.parse(e)},JH=()=>{try{return Y7e()||K7e()||Q7e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z7e=t=>{var e,n;return(n=(e=JH())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},J7e=t=>{const e=Z7e(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eG=()=>{var t;return(t=JH())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[G6(JSON.stringify(n)),G6(JSON.stringify(o)),a].join(".")}function n8e(){try{return typeof indexedDB=="object"}catch{return!1}}function r8e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8e="FirebaseError";class m0 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i8e,Object.setPrototypeOf(this,m0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tG.prototype.create)}}class tG{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?s8e(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new m0(i,a,r)}}function s8e(t,e){return t.replace(o8e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const o8e=/\{\$([^}]+)}/g;function qx(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nk(s)&&nk(o)){if(!qx(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){return t&&t._delegate?t._delegate:t}class _2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e8e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u8e(e))try{this.getOrInitializeService({instanceIdentifier:gc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gc){return this.instances.has(e)}getOptions(e=gc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l8e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gc){return this.component?this.component.multipleInstances?e:gc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l8e(t){return t===gc?void 0:t}function u8e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a8e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yn||(yn={}));const d8e={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},h8e=yn.INFO,f8e={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},p8e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f8e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nG{constructor(e){this.name=e,this._logLevel=h8e,this._logHandler=p8e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d8e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...e),this._logHandler(this,yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...e),this._logHandler(this,yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...e),this._logHandler(this,yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...e),this._logHandler(this,yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...e),this._logHandler(this,yn.ERROR,...e)}}const m8e=(t,e)=>e.some(n=>t instanceof n);let rk,ik;function g8e(){return rk||(rk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y8e(){return ik||(ik=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rG=new WeakMap,Xx=new WeakMap,iG=new WeakMap,Yy=new WeakMap,wb=new WeakMap;function v8e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rG.set(n,t)}).catch(()=>{}),wb.set(e,t),e}function _8e(t){if(Xx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xx.set(t,e)}let Yx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iG.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x8e(t){Yx=t(Yx)}function S8e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ky(this),e,...n);return iG.set(r,e.sort?e.sort():[e]),fu(r)}:y8e().includes(t)?function(...e){return t.apply(Ky(this),e),fu(rG.get(this))}:function(...e){return fu(t.apply(Ky(this),e))}}function w8e(t){return typeof t=="function"?S8e(t):(t instanceof IDBTransaction&&_8e(t),m8e(t,g8e())?new Proxy(t,Yx):t)}function fu(t){if(t instanceof IDBRequest)return v8e(t);if(Yy.has(t))return Yy.get(t);const e=w8e(t);return e!==t&&(Yy.set(t,e),wb.set(e,t)),e}const Ky=t=>wb.get(t);function E8e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fu(o.result),l.oldVersion,l.newVersion,fu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const b8e=["get","getKey","getAll","getAllKeys","count"],T8e=["put","add","delete","clear"],Qy=new Map;function sk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qy.get(e))return Qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T8e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b8e.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qy.set(e,s),s}x8e(t=>({...t,get:(e,n,r)=>sk(e,n)||t.get(e,n,r),has:(e,n)=>!!sk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A8e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A8e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kx="@firebase/app",ok="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new nG("@firebase/app"),C8e="@firebase/app-compat",P8e="@firebase/analytics-compat",R8e="@firebase/analytics",I8e="@firebase/app-check-compat",L8e="@firebase/app-check",k8e="@firebase/auth",D8e="@firebase/auth-compat",N8e="@firebase/database",F8e="@firebase/database-compat",O8e="@firebase/functions",U8e="@firebase/functions-compat",z8e="@firebase/installations",B8e="@firebase/installations-compat",V8e="@firebase/messaging",H8e="@firebase/messaging-compat",G8e="@firebase/performance",$8e="@firebase/performance-compat",W8e="@firebase/remote-config",j8e="@firebase/remote-config-compat",q8e="@firebase/storage",X8e="@firebase/storage-compat",Y8e="@firebase/firestore",K8e="@firebase/firestore-compat",Q8e="firebase",Z8e="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="[DEFAULT]",J8e={[Kx]:"fire-core",[C8e]:"fire-core-compat",[R8e]:"fire-analytics",[P8e]:"fire-analytics-compat",[L8e]:"fire-app-check",[I8e]:"fire-app-check-compat",[k8e]:"fire-auth",[D8e]:"fire-auth-compat",[N8e]:"fire-rtdb",[F8e]:"fire-rtdb-compat",[O8e]:"fire-fn",[U8e]:"fire-fn-compat",[z8e]:"fire-iid",[B8e]:"fire-iid-compat",[V8e]:"fire-fcm",[H8e]:"fire-fcm-compat",[G8e]:"fire-perf",[$8e]:"fire-perf-compat",[W8e]:"fire-rc",[j8e]:"fire-rc-compat",[q8e]:"fire-gcs",[X8e]:"fire-gcs-compat",[Y8e]:"fire-fst",[K8e]:"fire-fst-compat","fire-js":"fire-js",[Q8e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new Map,Zx=new Map;function e9e(t,e){try{t.container.addComponent(e)}catch(n){cd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function W6(t){const e=t.name;if(Zx.has(e))return cd.debug(`There were multiple attempts to register component ${e}.`),!1;Zx.set(e,t);for(const n of $6.values())e9e(n,t);return!0}function t9e(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9e={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pu=new tG("app","Firebase",n9e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9e{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9e=Z8e;function sG(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pu.create("bad-app-name",{appName:String(i)});if(n||(n=eG()),!n)throw pu.create("no-options");const s=$6.get(i);if(s){if(qx(n,s.options)&&qx(r,s.config))return s;throw pu.create("duplicate-app",{appName:i})}const o=new c8e(i);for(const l of Zx.values())o.addComponent(l);const a=new r9e(n,r,o);return $6.set(i,a),a}function s9e(t=Qx){const e=$6.get(t);if(!e&&t===Qx&&eG())return sG();if(!e)throw pu.create("no-app",{appName:t});return e}function xf(t,e,n){var r;let i=(r=J8e[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cd.warn(a.join(" "));return}W6(new _2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9e="firebase-heartbeat-database",a9e=1,x2="firebase-heartbeat-store";let Zy=null;function oG(){return Zy||(Zy=E8e(o9e,a9e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(x2)}}}).catch(t=>{throw pu.create("idb-open",{originalErrorMessage:t.message})})),Zy}async function l9e(t){try{return await(await oG()).transaction(x2).objectStore(x2).get(aG(t))}catch(e){if(e instanceof m0)cd.warn(e.message);else{const n=pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cd.warn(n.message)}}}async function ak(t,e){try{const r=(await oG()).transaction(x2,"readwrite");await r.objectStore(x2).put(e,aG(t)),await r.done}catch(n){if(n instanceof m0)cd.warn(n.message);else{const r=pu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cd.warn(r.message)}}}function aG(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9e=1024,c9e=30*24*60*60*1e3;class d9e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f9e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lk();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=c9e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lk(),{heartbeatsToSend:n,unsentEntries:r}=h9e(this._heartbeatsCache.heartbeats),i=G6(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function lk(){return new Date().toISOString().substring(0,10)}function h9e(t,e=u9e){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f9e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n8e()?r8e().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await l9e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ak(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ak(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uk(t){return G6(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9e(t){W6(new _2("platform-logger",e=>new M8e(e),"PRIVATE")),W6(new _2("heartbeat",e=>new d9e(e),"PRIVATE")),xf(Kx,ok,t),xf(Kx,ok,"esm2017"),xf("fire-js","")}p9e("");var m9e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,Eb=Eb||{},Et=m9e||self;function _8(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function g3(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function g9e(t){return Object.prototype.hasOwnProperty.call(t,Jy)&&t[Jy]||(t[Jy]=++y9e)}var Jy="closure_uid_"+(1e9*Math.random()>>>0),y9e=0;function v9e(t,e,n){return t.call.apply(t.bind,arguments)}function _9e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pi(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pi=v9e:Pi=_9e,Pi.apply(null,arguments)}function $4(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ti(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ou(){this.s=this.s,this.o=this.o}var x9e=0;Ou.prototype.s=!1;Ou.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),x9e!=0)&&g9e(this)};Ou.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lG=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ck(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ri(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ri.prototype.h=function(){this.defaultPrevented=!0};var S9e=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Et.addEventListener("test",()=>{},e),Et.removeEventListener("test",()=>{},e)}catch{}return t}();function S2(t){return/^[\s\xa0]*$/.test(t)}function x8(){var t=Et.navigator;return t&&(t=t.userAgent)?t:""}function ra(t){return x8().indexOf(t)!=-1}function Tb(t){return Tb[" "](t),t}Tb[" "]=function(){};function w9e(t,e){var n=pge;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var E9e=ra("Opera"),Wf=ra("Trident")||ra("MSIE"),uG=ra("Edge"),Jx=uG||Wf,cG=ra("Gecko")&&!(x8().toLowerCase().indexOf("webkit")!=-1&&!ra("Edge"))&&!(ra("Trident")||ra("MSIE"))&&!ra("Edge"),b9e=x8().toLowerCase().indexOf("webkit")!=-1&&!ra("Edge");function dG(){var t=Et.document;return t?t.documentMode:void 0}var eS;e:{var ev="",tv=function(){var t=x8();if(cG)return/rv:([^\);]+)(\)|;)/.exec(t);if(uG)return/Edge\/([\d\.]+)/.exec(t);if(Wf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(b9e)return/WebKit\/(\S+)/.exec(t);if(E9e)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tv&&(ev=tv?tv[1]:""),Wf){var nv=dG();if(nv!=null&&nv>parseFloat(ev)){eS=String(nv);break e}}eS=ev}var tS;if(Et.document&&Wf){var dk=dG();tS=dk||parseInt(eS,10)||void 0}else tS=void 0;var T9e=tS;function w2(t,e){if(Ri.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cG){e:{try{Tb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:M9e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&w2.$.h.call(this)}}ti(w2,Ri);var M9e={2:"touch",3:"pen",4:"mouse"};w2.prototype.h=function(){w2.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var y3="closure_listenable_"+(1e6*Math.random()|0),A9e=0;function C9e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++A9e,this.fa=this.ia=!1}function S8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function P9e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hG(t){const e={};for(const n in t)e[n]=t[n];return e}const hk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fG(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<hk.length;s++)n=hk[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function w8(t){this.src=t,this.g={},this.h=0}w8.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=rS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new C9e(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function nS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lG(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(S8(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ab="closure_lm_"+(1e6*Math.random()|0),rv={};function pG(t,e,n,r,i){if(r&&r.once)return gG(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pG(t,e[s],n,r,i);return null}return n=Rb(n),t&&t[y3]?t.O(e,n,g3(r)?!!r.capture:!!r,i):mG(t,e,n,!1,r,i)}function mG(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=g3(i)?!!i.capture:!!i,a=Pb(t);if(a||(t[Ab]=a=new w8(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=R9e(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)S9e||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vG(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function R9e(){function t(n){return e.call(t.src,t.listener,n)}const e=I9e;return t}function gG(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gG(t,e[s],n,r,i);return null}return n=Rb(n),t&&t[y3]?t.P(e,n,g3(r)?!!r.capture:!!r,i):mG(t,e,n,!0,r,i)}function yG(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yG(t,e[s],n,r,i);else r=g3(r)?!!r.capture:!!r,n=Rb(n),t&&t[y3]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=rS(s,n,r,i),-1<n&&(S8(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Pb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rS(e,n,r,i)),(n=-1<t?e[t]:null)&&Cb(n))}function Cb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[y3])nS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vG(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pb(e))?(nS(n,t),n.h==0&&(n.src=null,e[Ab]=null)):S8(t)}}}function vG(t){return t in rv?rv[t]:rv[t]="on"+t}function I9e(t,e){if(t.fa)t=!0;else{e=new w2(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Cb(t),t=n.call(r,e)}return t}function Pb(t){return t=t[Ab],t instanceof w8?t:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rb(t){return typeof t=="function"?t:(t[iv]||(t[iv]=function(e){return t.handleEvent(e)}),t[iv])}function Jr(){Ou.call(this),this.i=new w8(this),this.S=this,this.J=null}ti(Jr,Ou);Jr.prototype[y3]=!0;Jr.prototype.removeEventListener=function(t,e,n,r){yG(this,t,e,n,r)};function ci(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ri(e,t);else if(e instanceof Ri)e.target=e.target||t;else{var i=e;e=new Ri(r,t),fG(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=W4(o,r,!0,e)&&i}if(o=e.g=t,i=W4(o,r,!0,e)&&i,i=W4(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=W4(o,r,!1,e)&&i}Jr.prototype.N=function(){if(Jr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)S8(n[r]);delete t.g[e],t.h--}}this.J=null};Jr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Jr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function W4(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&nS(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ib=Et.JSON.stringify;class L9e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function k9e(){var t=Lb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class D9e{constructor(){this.h=this.g=null}add(e,n){const r=_G.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _G=new L9e(()=>new N9e,t=>t.reset());class N9e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function F9e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function O9e(t){Et.setTimeout(()=>{throw t},0)}let E2,b2=!1,Lb=new D9e,xG=()=>{const t=Et.Promise.resolve(void 0);E2=()=>{t.then(U9e)}};var U9e=()=>{for(var t;t=k9e();){try{t.h.call(t.g)}catch(n){O9e(n)}var e=_G;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}b2=!1};function E8(t,e){Jr.call(this),this.h=t||1,this.g=e||Et,this.j=Pi(this.qb,this),this.l=Date.now()}ti(E8,Jr);je=E8.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ci(this,"tick"),this.ga&&(kb(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}je.N=function(){E8.$.N.call(this),kb(this),delete this.g};function Db(t,e,n){if(typeof t=="function")n&&(t=Pi(t,n));else if(t&&typeof t.handleEvent=="function")t=Pi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Et.setTimeout(t,e||0)}function SG(t){t.g=Db(()=>{t.g=null,t.i&&(t.i=!1,SG(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z9e extends Ou{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:SG(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T2(t){Ou.call(this),this.h=t,this.g={}}ti(T2,Ou);var fk=[];function wG(t,e,n,r){Array.isArray(n)||(n&&(fk[0]=n.toString()),n=fk);for(var i=0;i<n.length;i++){var s=pG(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EG(t){Mb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cb(e)},t),t.g={}}T2.prototype.N=function(){T2.$.N.call(this),EG(this)};T2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function b8(){this.g=!0}b8.prototype.Ea=function(){this.g=!1};function B9e(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function V9e(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ef(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+G9e(t,n)+(r?" "+r:"")})}function H9e(t,e){t.info(function(){return"TIMEOUT: "+e})}b8.prototype.info=function(){};function G9e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ib(n)}catch{return e}}var Td={},pk=null;function T8(){return pk=pk||new Jr}Td.Ta="serverreachability";function bG(t){Ri.call(this,Td.Ta,t)}ti(bG,Ri);function M2(t){const e=T8();ci(e,new bG(e))}Td.STAT_EVENT="statevent";function TG(t,e){Ri.call(this,Td.STAT_EVENT,t),this.stat=e}ti(TG,Ri);function Gi(t){const e=T8();ci(e,new TG(e,t))}Td.Ua="timingevent";function MG(t,e){Ri.call(this,Td.Ua,t),this.size=e}ti(MG,Ri);function v3(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){t()},e)}var M8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nb(){}Nb.prototype.h=null;function mk(t){return t.h||(t.h=t.i())}function CG(){}var _3={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fb(){Ri.call(this,"d")}ti(Fb,Ri);function Ob(){Ri.call(this,"c")}ti(Ob,Ri);var iS;function A8(){}ti(A8,Nb);A8.prototype.g=function(){return new XMLHttpRequest};A8.prototype.i=function(){return{}};iS=new A8;function x3(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new T2(this),this.P=$9e,t=Jx?125:void 0,this.V=new E8(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PG}function PG(){this.i=null,this.g="",this.h=!1}var $9e=45e3,sS={},j6={};je=x3.prototype;je.setTimeout=function(t){this.P=t};function oS(t,e,n){t.L=1,t.v=P8(dl(e)),t.s=n,t.S=!0,RG(t,null)}function RG(t,e){t.G=Date.now(),S3(t),t.A=dl(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),UG(n.i,"t",r),t.C=0,n=t.l.J,t.h=new PG,t.g=s$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new z9e(Pi(t.Pa,t,t.g),t.O)),wG(t.U,t.g,"readystatechange",t.nb),e=t.I?hG(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),M2(),B9e(t.j,t.u,t.A,t.m,t.W,t.s)}je.nb=function(t){t=t.target;const e=this.M;e&&sa(t)==3?e.l():this.Pa(t)};je.Pa=function(t){try{if(t==this.g)e:{const c=sa(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Jx||this.g&&(this.h.h||this.g.ja()||_k(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?M2(3):M2(2)),C8(this);var n=this.g.da();this.ca=n;t:if(IG(this)){var r=_k(this.g);t="";var i=r.length,s=sa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),dp(this);var o="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,V9e(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S2(a)){var u=a;break t}}u=null}if(n=u)ef(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aS(this,n);else{this.i=!1,this.o=3,Gi(12),Fc(this),dp(this);break e}}this.S?(LG(this,c,o),Jx&&this.i&&c==3&&(wG(this.U,this.V,"tick",this.mb),this.V.start())):(ef(this.j,this.m,o,null),aS(this,o)),c==4&&Fc(this),this.i&&!this.J&&(c==4?t$(this.l,this):(this.i=!1,S3(this)))}else dge(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),Fc(this),dp(this)}}}catch{}finally{}};function IG(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function LG(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=W9e(t,n),i==j6){e==4&&(t.o=4,Gi(14),r=!1),ef(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sS){t.o=4,Gi(15),ef(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ef(t.j,t.m,i,null),aS(t,i);IG(t)&&i!=j6&&i!=sS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Gi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gb(e),e.M=!0,Gi(11))):(ef(t.j,t.m,n,"[Invalid Chunked Response]"),Fc(t),dp(t))}je.mb=function(){if(this.g){var t=sa(this.g),e=this.g.ja();this.C<e.length&&(C8(this),LG(this,t,e),this.i&&t!=4&&S3(this))}};function W9e(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?j6:(n=Number(e.substring(n,r)),isNaN(n)?sS:(r+=1,r+n>e.length?j6:(e=e.slice(r,r+n),t.C=r+n,e)))}je.cancel=function(){this.J=!0,Fc(this)};function S3(t){t.Y=Date.now()+t.P,kG(t,t.P)}function kG(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=v3(Pi(t.lb,t),e)}function C8(t){t.B&&(Et.clearTimeout(t.B),t.B=null)}je.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(H9e(this.j,this.A),this.L!=2&&(M2(),Gi(17)),Fc(this),this.o=2,dp(this)):kG(this,this.Y-t)};function dp(t){t.l.H==0||t.J||t$(t.l,t)}function Fc(t){C8(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kb(t.V),EG(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function aS(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lS(n.i,t))){if(!t.K&&lS(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Y6(n),L8(n);else break e;Hb(n),Gi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=v3(Pi(n.ib,n),6e3));if(1>=VG(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Oc(n,11)}else if((t.K||n.g==t)&&Y6(n),!S2(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ub(s,s.h),s.h=null))}if(r.F){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Nn(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=i$(r,r.J?r.pa:null,r.Y),o.K){HG(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(C8(a),S3(a)),r.g=o}else JG(r);0<n.j.length&&k8(n)}else u[0]!="stop"&&u[0]!="close"||Oc(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Oc(n,7):Vb(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}M2(4)}catch{}}function j9e(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function q9e(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_8(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DG(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_8(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=q9e(t),r=j9e(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var NG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X9e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yc){this.h=t.h,q6(this,t.j),this.s=t.s,this.g=t.g,X6(this,t.m),this.l=t.l;var e=t.i,n=new A2;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gk(this,n),this.o=t.o}else t&&(e=String(t).match(NG))?(this.h=!1,q6(this,e[1]||"",!0),this.s=k1(e[2]||""),this.g=k1(e[3]||"",!0),X6(this,e[4]),this.l=k1(e[5]||"",!0),gk(this,e[6]||"",!0),this.o=k1(e[7]||"")):(this.h=!1,this.i=new A2(null,this.h))}Yc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(D1(e,yk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(D1(e,yk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(D1(n,n.charAt(0)=="/"?Q9e:K9e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",D1(n,J9e)),t.join("")};function dl(t){return new Yc(t)}function q6(t,e,n){t.j=n?k1(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function X6(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gk(t,e,n){e instanceof A2?(t.i=e,ege(t.i,t.h)):(n||(e=D1(e,Z9e)),t.i=new A2(e,t.h))}function Nn(t,e,n){t.i.set(e,n)}function P8(t){return Nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function k1(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function D1(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Y9e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Y9e(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var yk=/[#\/\?@]/g,K9e=/[#\?:]/g,Q9e=/[#\?]/g,Z9e=/[#\?@]/g,J9e=/#/g;function A2(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Uu(t){t.g||(t.g=new Map,t.h=0,t.i&&X9e(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}je=A2.prototype;je.add=function(t,e){Uu(this),this.i=null,t=g0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FG(t,e){Uu(t),e=g0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OG(t,e){return Uu(t),e=g0(t,e),t.g.has(e)}je.forEach=function(t,e){Uu(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};je.ta=function(){Uu(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};je.Z=function(t){Uu(this);let e=[];if(typeof t=="string")OG(this,t)&&(e=e.concat(this.g.get(g0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};je.set=function(t,e){return Uu(this),this.i=null,t=g0(this,t),OG(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};je.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function UG(t,e,n){FG(t,e),0<n.length&&(t.i=null,t.g.set(g0(t,e),bb(n)),t.h+=n.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function g0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ege(t,e){e&&!t.j&&(Uu(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FG(this,r),UG(this,i,n))},t)),t.j=e}var tge=class{constructor(t,e){this.g=t,this.map=e}};function zG(t){this.l=t||nge,Et.PerformanceNavigationTiming?(t=Et.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nge=10;function BG(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VG(t){return t.h?1:t.g?t.g.size:0}function lS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ub(t,e){t.g?t.g.add(e):t.h=e}function HG(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zG.prototype.cancel=function(){if(this.i=GG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function GG(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bb(t.i)}var rge=class{stringify(t){return Et.JSON.stringify(t,void 0)}parse(t){return Et.JSON.parse(t,void 0)}};function ige(){this.g=new rge}function sge(t,e,n){const r=n||"";try{DG(t,function(i,s){let o=i;g3(i)&&(o=Ib(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oge(t,e){const n=new b8;if(Et.Image){const r=new Image;r.onload=$4(j4,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$4(j4,n,r,"TestLoadImage: error",!1,e),r.onabort=$4(j4,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$4(j4,n,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function j4(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function w3(t){this.l=t.fc||null,this.j=t.ob||!1}ti(w3,Nb);w3.prototype.g=function(){return new R8(this.l,this.j)};w3.prototype.i=function(t){return function(){return t}}({});function R8(t,e){Jr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ti(R8,Jr);var zb=0;je=R8.prototype;je.open=function(t,e){if(this.readyState!=zb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,C2(this)};je.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,E3(this)),this.readyState=zb};je.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,C2(this)),this.g&&(this.readyState=3,C2(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$G(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function $G(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}je.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?E3(this):C2(this),this.readyState==3&&$G(this)}};je.Za=function(t){this.g&&(this.response=this.responseText=t,E3(this))};je.Ya=function(t){this.g&&(this.response=t,E3(this))};je.ka=function(){this.g&&E3(this)};function E3(t){t.readyState=4,t.l=null,t.j=null,t.A=null,C2(t)}je.setRequestHeader=function(t,e){this.v.append(t,e)};je.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function C2(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(R8.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var age=Et.JSON.parse;function lr(t){Jr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WG,this.L=this.M=!1}ti(lr,Jr);var WG="",lge=/^https?$/i,uge=["POST","PUT"];je=lr.prototype;je.Oa=function(t){this.M=t};je.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iS.g(),this.C=this.u?mk(this.u):mk(iS),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){vk(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Et.FormData&&t instanceof Et.FormData,!(0<=lG(uge,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XG(this),0<this.B&&((this.L=cge(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=Db(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){vk(this,s)}};function cge(t){return Wf&&typeof t.timeout=="number"&&t.ontimeout!==void 0}je.ua=function(){typeof Eb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))};function vk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jG(t),I8(t)}function jG(t){t.F||(t.F=!0,ci(t,"complete"),ci(t,"error"))}je.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ci(this,"complete"),ci(this,"abort"),I8(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I8(this,!0)),lr.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?qG(this):this.kb())};je.kb=function(){qG(this)};function qG(t){if(t.h&&typeof Eb<"u"&&(!t.C[1]||sa(t)!=4||t.da()!=2)){if(t.v&&sa(t)==4)Db(t.La,0,t);else if(ci(t,"readystatechange"),sa(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(NG)[1]||null;!i&&Et.self&&Et.self.location&&(i=Et.self.location.protocol.slice(0,-1)),r=!lge.test(i?i.toLowerCase():"")}n=r}if(n)ci(t,"complete"),ci(t,"success");else{t.m=6;try{var s=2<sa(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",jG(t)}}finally{I8(t)}}}}function I8(t,e){if(t.g){XG(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ci(t,"ready");try{n.onreadystatechange=r}catch{}}}function XG(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Et.clearTimeout(t.A),t.A=null)}je.isActive=function(){return!!this.g};function sa(t){return t.g?t.g.readyState:0}je.da=function(){try{return 2<sa(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),age(e)}};function _k(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WG:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dge(t){const e={};t=(t.g&&2<=sa(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(S2(t[r]))continue;var n=F9e(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}P9e(e,function(r){return r.join(", ")})}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YG(t){let e="";return Mb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YG(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Nn(t,e,n))}function y1(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KG(t){this.Ga=0,this.j=[],this.l=new b8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=y1("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=y1("baseRetryDelayMs",5e3,t),this.hb=y1("retryDelaySeedMs",1e4,t),this.eb=y1("forwardChannelMaxRetries",2,t),this.xa=y1("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zG(t&&t.concurrentRequestLimit),this.Ja=new ige,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}je=KG.prototype;je.ra=8;je.H=1;function Vb(t){if(QG(t),t.H==3){var e=t.W++,n=dl(t.I);if(Nn(n,"SID",t.K),Nn(n,"RID",e),Nn(n,"TYPE","terminate"),b3(t,n),e=new x3(t,t.l,e),e.L=2,e.v=P8(dl(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Et.Image&&(new Image().src=e.v,n=!0),n||(e.g=s$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),S3(e)}r$(t)}function L8(t){t.g&&(Gb(t),t.g.cancel(),t.g=null)}function QG(t){L8(t),t.u&&(Et.clearTimeout(t.u),t.u=null),Y6(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Et.clearTimeout(t.m),t.m=null)}function k8(t){if(!BG(t.i)&&!t.m){t.m=!0;var e=t.Na;E2||xG(),b2||(E2(),b2=!0),Lb.add(e,t),t.C=0}}function hge(t,e){return VG(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=v3(Pi(t.Na,t,e),n$(t,t.C)),t.C++,!0)}je.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new x3(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hG(s),fG(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZG(this,i,e),n=dl(this.I),Nn(n,"RID",t),Nn(n,"CVER",22),this.F&&Nn(n,"X-HTTP-Session-Id",this.F),b3(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YG(s)))+"&"+e:this.o&&Bb(n,this.o,s)),Ub(this.i,i),this.bb&&Nn(n,"TYPE","init"),this.P?(Nn(n,"$req",e),Nn(n,"SID","null"),i.aa=!0,oS(i,n,null)):oS(i,n,e),this.H=2}}else this.H==3&&(t?xk(this,t):this.j.length==0||BG(this.i)||xk(this))};function xk(t,e){var n;e?n=e.m:n=t.W++;const r=dl(t.I);Nn(r,"SID",t.K),Nn(r,"RID",n),Nn(r,"AID",t.V),b3(t,r),t.o&&t.s&&Bb(r,t.o,t.s),n=new x3(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZG(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ub(t.i,n),oS(n,r,e)}function b3(t,e){t.na&&Mb(t.na,function(n,r){Nn(e,r,n)}),t.h&&DG({},function(n,r){Nn(e,r,n)})}function ZG(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pi(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{sge(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JG(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;E2||xG(),b2||(E2(),b2=!0),Lb.add(e,t),t.A=0}}function Hb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=v3(Pi(t.Ma,t),n$(t,t.A)),t.A++,!0)}je.Ma=function(){if(this.u=null,e$(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=v3(Pi(this.jb,this),t)}};je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gi(10),L8(this),e$(this))};function Gb(t){t.B!=null&&(Et.clearTimeout(t.B),t.B=null)}function e$(t){t.g=new x3(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dl(t.wa);Nn(e,"RID","rpc"),Nn(e,"SID",t.K),Nn(e,"AID",t.V),Nn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Nn(e,"TO",t.qa),Nn(e,"TYPE","xmlhttp"),b3(t,e),t.o&&t.s&&Bb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=P8(dl(e)),n.s=null,n.S=!0,RG(n,t)}je.ib=function(){this.v!=null&&(this.v=null,L8(this),Hb(this),Gi(19))};function Y6(t){t.v!=null&&(Et.clearTimeout(t.v),t.v=null)}function t$(t,e){var n=null;if(t.g==e){Y6(t),Gb(t),t.g=null;var r=2}else if(lS(t.i,e))n=e.F,HG(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=T8(),ci(r,new MG(r,n)),k8(t)}else JG(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&hge(t,e)||r==2&&Hb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Oc(t,5);break;case 4:Oc(t,10);break;case 3:Oc(t,6);break;default:Oc(t,2)}}}function n$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Oc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Pi(t.pb,t);n||(n=new Yc("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||q6(n,"https"),P8(n)),oge(n.toString(),r)}else Gi(2);t.H=0,t.h&&t.h.za(e),r$(t),QG(t)}je.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gi(2)):(this.l.info("Failed to ping google.com"),Gi(1))};function r$(t){if(t.H=0,t.ma=[],t.h){const e=GG(t.i);(e.length!=0||t.j.length!=0)&&(ck(t.ma,e),ck(t.ma,t.j),t.i.i.length=0,bb(t.j),t.j.length=0),t.h.ya()}}function i$(t,e,n){var r=n instanceof Yc?dl(n):new Yc(n);if(r.g!="")e&&(r.g=e+"."+r.g),X6(r,r.m);else{var i=Et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yc(null);r&&q6(s,r),e&&(s.g=e),i&&X6(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Nn(r,n,e),Nn(r,"VER",t.ra),b3(t,r),r}function s$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new lr(new w3({ob:!0})):new lr(t.va),e.Oa(t.J),e}je.isActive=function(){return!!this.h&&this.h.isActive(this)};function o$(){}je=o$.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.isActive=function(){return!0};je.Va=function(){};function K6(){if(Wf&&!(10<=Number(T9e)))throw Error("Environmental error: no available transport.")}K6.prototype.g=function(t,e){return new Is(t,e)};function Is(t,e){Jr.call(this),this.g=new KG(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!S2(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S2(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new y0(this)}ti(Is,Jr);Is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=i$(t,null,t.Y),k8(t)};Is.prototype.close=function(){Vb(this.g)};Is.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ib(t),t=n);e.j.push(new tge(e.fb++,t)),e.H==3&&k8(e)};Is.prototype.N=function(){this.g.h=null,delete this.j,Vb(this.g),delete this.g,Is.$.N.call(this)};function a$(t){Fb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ti(a$,Fb);function l$(){Ob.call(this),this.status=1}ti(l$,Ob);function y0(t){this.g=t}ti(y0,o$);y0.prototype.Ba=function(){ci(this.g,"a")};y0.prototype.Aa=function(t){ci(this.g,new a$(t))};y0.prototype.za=function(t){ci(this.g,new l$)};y0.prototype.ya=function(){ci(this.g,"b")};function fge(){this.blockSize=-1}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ti(Fo,fge);Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Fo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sv(this,r),i=0;break}}this.h=i,this.i+=e};Fo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Tn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var pge={};function $b(t){return-128<=t&&128>t?w9e(t,function(e){return new Tn([e|0],0>e?-1:0)}):new Tn([t|0],0>t?-1:0)}function oa(t){if(isNaN(t)||!isFinite(t))return Sf;if(0>t)return li(oa(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=uS;return new Tn(e,0)}function u$(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return li(u$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=oa(Math.pow(e,8)),r=Sf,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=oa(Math.pow(e,s)),r=r.R(s).add(oa(o))):(r=r.R(n),r=r.add(oa(o)))}return r}var uS=4294967296,Sf=$b(0),cS=$b(1),Sk=$b(16777216);je=Tn.prototype;je.ea=function(){if(ro(this))return-li(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:uS+r)*e,e*=uS}return t};je.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ya(this))return"0";if(ro(this))return"-"+li(this).toString(t);for(var e=oa(Math.pow(t,6)),n=this,r="";;){var i=Z6(n,e).g;n=Q6(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ya(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};je.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ya(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ro(t){return t.h==-1}je.X=function(t){return t=Q6(this,t),ro(t)?-1:Ya(t)?0:1};function li(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Tn(n,~t.h).add(cS)}je.abs=function(){return ro(this)?li(this):this};je.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Tn(n,n[n.length-1]&-2147483648?-1:0)};function Q6(t,e){return t.add(li(e))}je.R=function(t){if(Ya(this)||Ya(t))return Sf;if(ro(this))return ro(t)?li(this).R(li(t)):li(li(this).R(t));if(ro(t))return li(this.R(li(t)));if(0>this.X(Sk)&&0>t.X(Sk))return oa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,q4(n,2*r+2*i),n[2*r+2*i+1]+=s*l,q4(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,q4(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,q4(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Tn(n,0)};function q4(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function v1(t,e){this.g=t,this.h=e}function Z6(t,e){if(Ya(e))throw Error("division by zero");if(Ya(t))return new v1(Sf,Sf);if(ro(t))return e=Z6(li(t),e),new v1(li(e.g),li(e.h));if(ro(e))return e=Z6(t,li(e)),new v1(li(e.g),e.h);if(30<t.g.length){if(ro(t)||ro(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cS,r=e;0>=r.X(t);)n=wk(n),r=wk(r);var i=xh(n,1),s=xh(r,1);for(r=xh(r,2),n=xh(n,2);!Ya(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xh(r,1),n=xh(n,1)}return e=Q6(t,i.R(e)),new v1(i,e)}for(i=Sf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=oa(n),o=s.R(e);ro(o)||0<o.X(t);)n-=r,s=oa(n),o=s.R(e);Ya(s)&&(s=cS),i=i.add(s),t=Q6(t,o)}return new v1(i,t)}je.gb=function(t){return Z6(this,t).h};je.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Tn(n,this.h&t.h)};je.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Tn(n,this.h|t.h)};je.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Tn(n,this.h^t.h)};function wk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Tn(n,t.h)}function xh(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Tn(i,t.h)}K6.prototype.createWebChannel=K6.prototype.g;Is.prototype.send=Is.prototype.u;Is.prototype.open=Is.prototype.m;Is.prototype.close=Is.prototype.close;M8.NO_ERROR=0;M8.TIMEOUT=8;M8.HTTP_ERROR=6;AG.COMPLETE="complete";CG.EventType=_3;_3.OPEN="a";_3.CLOSE="b";_3.ERROR="c";_3.MESSAGE="d";Jr.prototype.listen=Jr.prototype.O;lr.prototype.listenOnce=lr.prototype.P;lr.prototype.getLastError=lr.prototype.Sa;lr.prototype.getLastErrorCode=lr.prototype.Ia;lr.prototype.getStatus=lr.prototype.da;lr.prototype.getResponseJson=lr.prototype.Wa;lr.prototype.getResponseText=lr.prototype.ja;lr.prototype.send=lr.prototype.ha;lr.prototype.setWithCredentials=lr.prototype.Oa;Fo.prototype.digest=Fo.prototype.l;Fo.prototype.reset=Fo.prototype.reset;Fo.prototype.update=Fo.prototype.j;Tn.prototype.add=Tn.prototype.add;Tn.prototype.multiply=Tn.prototype.R;Tn.prototype.modulo=Tn.prototype.gb;Tn.prototype.compare=Tn.prototype.X;Tn.prototype.toNumber=Tn.prototype.ea;Tn.prototype.toString=Tn.prototype.toString;Tn.prototype.getBits=Tn.prototype.D;Tn.fromNumber=oa;Tn.fromString=u$;var mge=function(){return new K6},gge=function(){return T8()},ov=M8,yge=AG,vge=Td,Ek={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_ge=w3,X4=CG,xge=lr,Sge=Fo,wf=Tn;const bk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new nG("@firebase/firestore");function Tk(){return dd.logLevel}function ht(t,...e){if(dd.logLevel<=yn.DEBUG){const n=e.map(Wb);dd.debug(`Firestore (${v0}): ${t}`,...n)}}function hl(t,...e){if(dd.logLevel<=yn.ERROR){const n=e.map(Wb);dd.error(`Firestore (${v0}): ${t}`,...n)}}function jf(t,...e){if(dd.logLevel<=yn.WARN){const n=e.map(Wb);dd.warn(`Firestore (${v0}): ${t}`,...n)}}function Wb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t="Unexpected state"){const e=`FIRESTORE (${v0}) INTERNAL ASSERTION FAILED: `+t;throw hl(e),new Error(e)}function Pr(t,e){t||Lt()}function tn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends m0{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bi.UNAUTHENTICATED))}shutdown(){}}class Ege{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bge{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new mu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pr(typeof r.accessToken=="string"),new c$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pr(e===null||typeof e=="string"),new bi(e)}}class Tge{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mge{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Tge(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Age{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cge{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pr(typeof n.token=="string"),this.R=n.token,new Age(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pge(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pge(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function vn(t,e){return t<e?-1:t>e?1:0}function qf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Zr(0,0))}static max(){return new Pt(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,r){n===void 0?n=0:n>e.length&&Lt(),r===void 0?r=e.length-n:r>e.length-n&&Lt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return P2.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof P2?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vn extends P2{construct(e,n,r){return new Vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vn(n)}static emptyPath(){return new Vn([])}}const Ige=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends P2{construct(e,n,r){return new Vi(e,n,r)}static isValidIdentifier(e){return Ige.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Qe(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Qe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Qe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(n)}static emptyPath(){return new Vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Vn.fromString(e))}static fromName(e){return new yt(Vn.fromString(e).popFirst(5))}static empty(){return new yt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Vn(e.slice()))}}function Lge(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(r===1e9?new Zr(n+1,0):new Zr(n,r));return new bu(i,yt.empty(),e)}function kge(t){return new bu(t.readTime,t.key,-1)}class bu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bu(Pt.min(),yt.empty(),-1)}static max(){return new bu(Pt.max(),yt.empty(),-1)}}function Dge(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=yt.comparator(t.documentKey,e.documentKey),n!==0?n:vn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==Nge)throw t;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ue?n:Ue.resolve(n)}catch(n){return Ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ue.reject(n)}static resolve(e){return new Ue((n,r)=>{n(e)})}static reject(e){return new Ue((n,r)=>{r(e)})}static waitFor(e){return new Ue((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ue.resolve(!1);for(const r of e)n=n.next(i=>i?Ue.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ue((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Ue((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function T3(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qb.ae=-1;function D8(t){return t==null}function J6(t){return t===0&&1/t==-1/0}function Oge(t){return typeof t=="number"&&Number.isInteger(t)&&!J6(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function M3(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.comparator=e,this.root=n||oi.EMPTY}insert(e,n){return new yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y4(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y4(this.root,e,this.comparator,!0)}}class Y4{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??oi.RED,this.left=i??oi.EMPTY,this.right=s??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new oi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1;oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new oi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ak(this.data.getIterator())}getIteratorFrom(e){return new Ak(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ii(this.comparator);return n.data=e,n}}class Ak{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new Ql([])}unionWith(e){let n=new Ii(Vi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ql(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h$("Invalid base64 string: "+s):s}}(e);return new ki(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Uge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tu(t){if(Pr(!!t),typeof t=="string"){let e=0;const n=Uge.exec(t);if(Pr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hd(t){return typeof t=="string"?ki.fromBase64String(t):ki.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xb(t){const e=t.mapValue.fields.__previous_value__;return N8(e)?Xb(e):e}function R2(t){const e=Tu(t.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class I2{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new I2("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof I2&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N8(t)?4:Bge(t)?9007199254740991:10:Lt()}function ma(t,e){if(t===e)return!0;const n=fd(t);if(n!==fd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return R2(t).isEqual(R2(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Tu(i.timestampValue),a=Tu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hd(i.bytesValue).isEqual(hd(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return br(i.geoPointValue.latitude)===br(s.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return br(i.integerValue)===br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=br(i.doubleValue),a=br(s.doubleValue);return o===a?J6(o)===J6(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qf(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Mk(o)!==Mk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ma(o[l],a[l])))return!1;return!0}(t,e);default:return Lt()}}function L2(t,e){return(t.values||[]).find(n=>ma(n,e))!==void 0}function Xf(t,e){if(t===e)return 0;const n=fd(t),r=fd(e);if(n!==r)return vn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=br(s.integerValue||s.doubleValue),l=br(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ck(t.timestampValue,e.timestampValue);case 4:return Ck(R2(t),R2(e));case 5:return vn(t.stringValue,e.stringValue);case 6:return function(s,o){const a=hd(s),l=hd(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=vn(a[u],l[u]);if(c!==0)return c}return vn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=vn(br(s.latitude),br(o.latitude));return a!==0?a:vn(br(s.longitude),br(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Xf(a[u],l[u]);if(c)return c}return vn(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===K4.mapValue&&o===K4.mapValue)return 0;if(s===K4.mapValue)return 1;if(o===K4.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const p=vn(l[f],c[f]);if(p!==0)return p;const m=Xf(a[l[f]],u[c[f]]);if(m!==0)return m}return vn(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Lt()}}function Ck(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vn(t,e);const n=Tu(t),r=Tu(e),i=vn(n.seconds,r.seconds);return i!==0?i:vn(n.nanos,r.nanos)}function Yf(t){return dS(t)}function dS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return yt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dS(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dS(n.fields[o])}`;return i+"}"}(t.mapValue):Lt()}function e7(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hS(t){return!!t&&"integerValue"in t}function Yb(t){return!!t&&"arrayValue"in t}function Pk(t){return!!t&&"nullValue"in t}function Rk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function av(t){return!!t&&"mapValue"in t}function hp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return M3(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bge(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!av(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(n)}setAll(e){let n=Vi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());av(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];av(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){M3(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ia(hp(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mi(e,0,Pt.min(),Pt.min(),Pt.min(),ia.empty(),0)}static newFoundDocument(e,n,r,i){return new Mi(e,1,n,Pt.min(),r,i,0)}static newNoDocument(e,n){return new Mi(e,2,n,Pt.min(),Pt.min(),ia.empty(),0)}static newUnknownDocument(e,n){return new Mi(e,3,n,Pt.min(),Pt.min(),ia.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function Ik(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=yt.comparator(yt.fromName(o.referenceValue),n.key):r=Xf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ma(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${}class Cr extends f${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gge(e,n,r):n==="array-contains"?new jge(e,r):n==="in"?new qge(e,r):n==="not-in"?new Xge(e,r):n==="array-contains-any"?new Yge(e,r):new Cr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $ge(e,r):new Wge(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xf(n,this.value)):n!==null&&fd(this.value)===fd(n)&&this.matchesComparison(Xf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Oo extends f${constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Oo(e,n)}matches(e){return p$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function p$(t){return t.op==="and"}function m$(t){return Hge(t)&&p$(t)}function Hge(t){for(const e of t.filters)if(e instanceof Oo)return!1;return!0}function fS(t){if(t instanceof Cr)return t.field.canonicalString()+t.op.toString()+Yf(t.value);if(m$(t))return t.filters.map(e=>fS(e)).join(",");{const e=t.filters.map(n=>fS(n)).join(",");return`${t.op}(${e})`}}function g$(t,e){return t instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.field.isEqual(i.field)&&ma(r.value,i.value)}(t,e):t instanceof Oo?function(r,i){return i instanceof Oo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&g$(o,i.filters[a]),!0):!1}(t,e):void Lt()}function y$(t){return t instanceof Cr?function(n){return`${n.field.canonicalString()} ${n.op} ${Yf(n.value)}`}(t):t instanceof Oo?function(n){return n.op.toString()+" {"+n.getFilters().map(y$).join(" ,")+"}"}(t):"Filter"}class Gge extends Cr{constructor(e,n,r){super(e,n,r),this.key=yt.fromName(r.referenceValue)}matches(e){const n=yt.comparator(e.key,this.key);return this.matchesComparison(n)}}class $ge extends Cr{constructor(e,n){super(e,"in",n),this.keys=v$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wge extends Cr{constructor(e,n){super(e,"not-in",n),this.keys=v$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class jge extends Cr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yb(n)&&L2(n.arrayValue,this.value)}}class qge extends Cr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&L2(this.value.arrayValue,n)}}class Xge extends Cr{constructor(e,n){super(e,"not-in",n)}matches(e){if(L2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!L2(this.value.arrayValue,n)}}class Yge extends Cr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>L2(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kge{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function kk(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Kge(t,e,n,r,i,s,o)}function Kb(t){const e=tn(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),D8(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yf(r)).join(",")),e.he=n}return e.he}function Qb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vge(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lk(t.startAt,e.startAt)&&Lk(t.endAt,e.endAt)}function pS(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function Qge(t,e,n,r,i,s,o,a){return new Md(t,e,n,r,i,s,o,a)}function _$(t){return new Md(t)}function Dk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function F8(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Jb(t){return t.collectionGroup!==null}function Kc(t){const e=tn(t);if(e.Pe===null){e.Pe=[];const n=F8(e),r=Zb(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Ef(n)),e.Pe.push(new Ef(Vi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ef(Vi.keyField(),s))}}}return e.Pe}function ga(t){const e=tn(t);if(!e.Ie)if(e.limitType==="F")e.Ie=kk(e.path,e.collectionGroup,Kc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Kc(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ef(s.field,o))}const r=e.endAt?new Kf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Kf(e.startAt.position,e.startAt.inclusive):null;e.Ie=kk(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function mS(t,e){e.getFirstInequalityField(),F8(t);const n=t.filters.concat([e]);return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t7(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function O8(t,e){return Qb(ga(t),ga(e))&&t.limitType===e.limitType}function x$(t){return`${Kb(ga(t))}|lt:${t.limitType}`}function gS(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y$(i)).join(", ")}]`),D8(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yf(i)).join(",")),`Target(${r})`}(ga(t))}; limitType=${t.limitType})`}function U8(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):yt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Kc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Ik(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Kc(r),i)||r.endAt&&!function(o,a,l){const u=Ik(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Kc(r),i))}(t,e)}function Zge(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S$(t){return(e,n)=>{let r=!1;for(const i of Kc(t)){const s=Jge(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Jge(t,e,n){const r=t.field.isKeyField()?yt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xf(l,u):Lt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){M3(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return d$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eye=new yr(yt.comparator);function Mu(){return eye}const w$=new yr(yt.comparator);function N1(...t){let e=w$;for(const n of t)e=e.insert(n.key,n);return e}function tye(t){let e=w$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Uc(){return fp()}function E$(){return fp()}function fp(){return new _0(t=>t.toString(),(t,e)=>t.isEqual(e))}const nye=new Ii(yt.comparator);function Jt(...t){let e=nye;for(const n of t)e=e.add(n);return e}const rye=new Ii(vn);function iye(){return rye}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J6(e)?"-0":e}}function T$(t){return{integerValue:""+t}}function sye(t,e){return Oge(e)?T$(e):b$(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this._=void 0}}function oye(t,e,n){return t instanceof yS?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&N8(s)&&(s=Xb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof n7?M$(t,e):t instanceof r7?A$(t,e):function(i,s){const o=lye(i,s),a=Nk(o)+Nk(i.Te);return hS(o)&&hS(i.Te)?T$(a):b$(i.serializer,a)}(t,e)}function aye(t,e,n){return t instanceof n7?M$(t,e):t instanceof r7?A$(t,e):n}function lye(t,e){return t instanceof vS?function(r){return hS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yS extends z8{}class n7 extends z8{constructor(e){super(),this.elements=e}}function M$(t,e){const n=C$(e);for(const r of t.elements)n.some(i=>ma(i,r))||n.push(r);return{arrayValue:{values:n}}}class r7 extends z8{constructor(e){super(),this.elements=e}}function A$(t,e){let n=C$(e);for(const r of t.elements)n=n.filter(i=>!ma(i,r));return{arrayValue:{values:n}}}class vS extends z8{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Nk(t){return br(t.integerValue||t.doubleValue)}function C$(t){return Yb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uye(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof n7&&i instanceof n7||r instanceof r7&&i instanceof r7?qf(r.elements,i.elements,ma):r instanceof vS&&i instanceof vS?ma(r.Te,i.Te):r instanceof yS&&i instanceof yS}(t.transform,e.transform)}class Qc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qc}static exists(e){return new Qc(void 0,e)}static updateTime(e){return new Qc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function B5(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eT{}function P$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dye(t.key,Qc.none()):new tT(t.key,t.data,Qc.none());{const n=t.data,r=ia.empty();let i=new Ii(Vi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new B8(t.key,r,new Ql(i.toArray()),Qc.none())}}function cye(t,e,n){t instanceof tT?function(i,s,o){const a=i.value.clone(),l=Ok(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof B8?function(i,s,o){if(!B5(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ok(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(R$(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pp(t,e,n,r){return t instanceof tT?function(s,o,a,l){if(!B5(s.precondition,o))return a;const u=s.value.clone(),c=Uk(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof B8?function(s,o,a,l){if(!B5(s.precondition,o))return a;const u=Uk(s.fieldTransforms,l,o),c=o.data;return c.setAll(R$(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return B5(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Fk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qf(r,i,(s,o)=>uye(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tT extends eT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class B8 extends eT{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ok(t,e,n){const r=new Map;Pr(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aye(o,a,n[i]))}return r}function Uk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oye(s,o,e))}return r}class dye extends eT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hye{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cye(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=P$(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Jt())}isEqual(e){return this.batchId===e.batchId&&qf(this.mutations,e.mutations,(n,r)=>Fk(n,r))&&qf(this.baseMutations,e.baseMutations,(n,r)=>Fk(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fye{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(e,n,r){this.alias=e,this.Ee=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mye{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,Qt;function I$(t){if(t===void 0)return hl("GRPC error has no .code"),De.UNKNOWN;switch(t){case Sr.OK:return De.OK;case Sr.CANCELLED:return De.CANCELLED;case Sr.UNKNOWN:return De.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return De.INTERNAL;case Sr.UNAVAILABLE:return De.UNAVAILABLE;case Sr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Sr.NOT_FOUND:return De.NOT_FOUND;case Sr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Sr.ABORTED:return De.ABORTED;case Sr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Sr.DATA_LOSS:return De.DATA_LOSS;default:return Lt()}}(Qt=Sr||(Sr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Q4}static getOrCreateInstance(){return Q4===null&&(Q4=new nT),Q4}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Q4=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gye(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yye=new wf([4294967295,4294967295],0);function zk(t){const e=gye().encode(t),n=new Sge;return n.update(e),new Uint8Array(n.digest())}function Bk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wf([n,r],0),new wf([i,s],0)]}class rT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new F1(`Invalid padding: ${n}`);if(r<0)throw new F1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new F1(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new F1(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=wf.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(wf.fromNumber(r)));return i.compare(yye)===1&&(i=new wf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=zk(e),[r,i]=Bk(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=zk(e),[r,i]=Bk(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class F1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,A3.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new V8(Pt.min(),i,new yr(vn),Mu(),Jt())}}class A3{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new A3(r,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class L${constructor(e,n){this.targetId=e,this.pe=n}}class k${constructor(e,n,r=ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Vk{constructor(){this.ye=0,this.we=Gk(),this.Se=ki.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Jt(),n=Jt(),r=Jt();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Lt()}}),new A3(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=Gk()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class vye{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Mu(),this.$e=Hk(),this.Ue=new yr(vn)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:Lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(pS(a))if(s===0){const l=new yt(a.path);this.ze(i,l,Mi.newNoDocument(l,Pt.min()))}else Pr(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=nT.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(f,p,m,y){var _,x,g,S,w,b;const M={localCacheCount:m,existenceFilterCount:y.count},A=y.unchangedNames;return A&&(M.bloomFilter={applied:f===0,hashCount:(_=A==null?void 0:A.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(S=(g=(x=A==null?void 0:A.bits)===null||x===void 0?void 0:x.bitmap)===null||g===void 0?void 0:g.length)!==null&&S!==void 0?S:0,padding:(b=(w=A==null?void 0:A.bits)===null||w===void 0?void 0:w.padding)!==null&&b!==void 0?b:0},p&&(M.bloomFilter.mightContain=p)),M}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=hd(s).toUint8Array()}catch(f){if(f instanceof h$)return jf("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw f}try{u=new rT(l,o,a)}catch(f){return jf(f instanceof F1?"BloomFilter error: ":"Applying bloom filter failed: ",f),{status:1}}const c=f=>{const p=this.qe.rt();return u.mightContain(`projects/${p.projectId}/databases/${p.database}/documents/${f}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&pS(a.target)){const l=new yt(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Mi.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=Jt();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new V8(e,n,this.Ue,this.Ke,r);return this.Ke=Mu(),this.$e=Hk(),this.Ue=new yr(vn),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Vk,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ii(vn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Vk),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Hk(){return new yr(yt.comparator)}function Gk(){return new yr(yt.comparator)}const _ye=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xye=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Sye=(()=>({and:"AND",or:"OR"}))();class wye{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _S(t,e){return t.useProto3Json||D8(e)?e:{value:e}}function xS(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bf(t){return Pr(!!t),Pt.fromTimestamp(function(n){const r=Tu(n);return new Zr(r.seconds,r.nanos)}(t))}function N$(t,e){return function(r){return new Vn(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function F$(t){const e=Vn.fromString(t);return Pr(V$(e)),e}function lv(t,e){const n=F$(e);if(n.get(1)!==t.databaseId.projectId)throw new Qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new yt(O$(n))}function SS(t,e){return N$(t.databaseId,e)}function Eye(t){const e=F$(t);return e.length===4?Vn.emptyPath():O$(e)}function $k(t){return new Vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O$(t){return Pr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bye(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Pr(c===void 0||typeof c=="string"),ki.fromBase64String(c||"")):(Pr(c===void 0||c instanceof Uint8Array),ki.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?De.UNKNOWN:I$(u.code);return new Qe(c,u.message||"")}(o);n=new k$(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lv(t,r.document.name),s=bf(r.document.updateTime),o=r.document.createTime?bf(r.document.createTime):Pt.min(),a=new ia({mapValue:{fields:r.document.fields}}),l=Mi.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new V5(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lv(t,r.document),s=r.readTime?bf(r.readTime):Pt.min(),o=Mi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new V5([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lv(t,r.document),s=r.removedTargetIds||[];n=new V5([],s,i,null)}else{if(!("filter"in e))return Lt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mye(i,s),a=r.targetId;n=new L$(a,o)}}return n}function Tye(t,e){return{documents:[SS(t,e.path)]}}function U$(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=SS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=SS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return B$(Oo.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Wl(f.field),direction:Cye(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_S(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Mye(t){let e=Eye(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const p=z$(f);return p instanceof Oo&&m$(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new Ef(bh(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,D8(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Kf(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new Kf(m,p)}(n.endAt)),Qge(e,i,o,s,a,"F",l,u)}function Aye(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bh(n.unaryFilter.field);return Cr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bh(n.unaryFilter.field);return Cr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bh(n.unaryFilter.field);return Cr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bh(n.unaryFilter.field);return Cr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(t):t.fieldFilter!==void 0?function(n){return Cr.create(bh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oo.create(n.compositeFilter.filters.map(r=>z$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Lt()}}(n.compositeFilter.op))}(t):Lt()}function Cye(t){return _ye[t]}function Pye(t){return xye[t]}function Rye(t){return Sye[t]}function Wl(t){return{fieldPath:t.canonicalString()}}function bh(t){return Vi.fromServerFormat(t.fieldPath)}function B$(t){return t instanceof Cr?function(n){if(n.op==="=="){if(Rk(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rk(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:Pye(n.op),value:n.value}}}(t):t instanceof Oo?function(n){const r=n.getFilters().map(i=>B$(i));return r.length===1?r[0]:{compositeFilter:{op:Rye(n.op),filters:r}}}(t):Lt()}function V$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r,i,s=Pt.min(),o=Pt.min(),a=ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iye{constructor(e){this.ct=e}}function Lye(t){const e=Mye({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{constructor(){this.sn=new Dye}addToCollectionParentIndex(e,n){return this.sn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(bu.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(bu.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}}class Dye{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ii(Vn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ii(Vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Qf(0)}static On(){return new Qf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nye{constructor(){this.changes=new _0(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fye{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pp(r.mutation,i,Ql.empty(),Zr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Jt()){const i=Uc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=N1();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Uc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Jt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mu();const o=fp(),a=function(){return fp()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof B8)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pp(c.mutation,u,c.mutation.getFieldMask(),Zr.now())):o.set(u.key,Ql.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new Fye(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fp();let i=new yr((o,a)=>o-a),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ql.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Jt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=E$();c.forEach(p=>{if(!s.has(p)){const m=P$(n.get(p),r.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Ue.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ue.resolve(Uc());let a=-1,l=s;return o.next(u=>Ue.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ue.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Jt())).next(c=>({batchId:a,changes:tye(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new yt(n)).next(r=>{let i=N1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=N1();return this.indexManager.getCollectionParents(e,i).next(o=>Ue.forEach(o,a=>{const l=function(c,f){return new Md(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Mi.newInvalidDocument(u)))});let o=N1();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&pp(u.mutation,l,Ql.empty(),Zr.now()),U8(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uye{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return Ue.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bf(i.createTime)}}(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:Lye(i.bundledQuery),readTime:bf(i.readTime)}}(n)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zye{constructor(){this.overlays=new yr(yt.comparator),this.cr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uc();return Ue.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){const i=Uc(),s=n.length+1,o=new yt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Uc(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Uc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ue.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fye(n,r));let s=this.cr.get(n);s===void 0&&(s=Jt(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.lr=new Ii(Yr.hr),this.Pr=new Ii(Yr.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new Yr(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new Yr(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new yt(new Vn([])),r=new Yr(n,e),i=new Yr(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new yt(new Vn([])),r=new Yr(n,e),i=new Yr(n,e+1);let s=Jt();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Yr(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yr{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return yt.comparator(e.key,n.key)||vn(e.mr,n.mr)}static Ir(e,n){return vn(e.mr,n.mr)||yt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bye{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Ii(Yr.hr)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hye(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new Yr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ue.resolve(o)}lookupMutationBatch(e,n){return Ue.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yr(n,0),i=new Yr(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ii(vn);return n.forEach(i=>{const s=new Yr(i,0),o=new Yr(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),Ue.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;yt.isDocumentKey(s)||(s=s.child(""));const o=new Yr(new yt(s),0);let a=new Ii(vn);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),Ue.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pr(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return Ue.forEach(n.mutations,i=>{const s=new Yr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new Yr(n,0),i=this.pr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vye{constructor(e){this.Dr=e,this.docs=function(){return new yr(yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Mi.newInvalidDocument(n))}getEntries(e,n){let r=Mu();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mi.newInvalidDocument(i))}),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mu();const o=n.path,a=new yt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Dge(kge(c),r)<=0||(i.has(c.key)||U8(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Lt()}vr(e,n){return Ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hye(this)}getSize(e){return Ue.resolve(this.size)}}class Hye extends Nye{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),Ue.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gye{constructor(e){this.persistence=e,this.Cr=new _0(n=>Kb(n),Qb),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new iT,this.targetCount=0,this.Or=Qf.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),Ue.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Qf(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Ln(n),Ue.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ue.waitFor(s).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ye{constructor(e,n){this.Nr={},this.overlays={},this.Br=new qb(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Gye(this),this.indexManager=new kye,this.remoteDocumentCache=function(i){return new Vye(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new Iye(n),this.Qr=new Uye(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zye,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new Bye(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){ht("MemoryPersistence","Starting transaction:",e);const i=new Wye(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return Ue.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class Wye extends Fge{constructor(e){super(),this.currentSequenceNumber=e}}class sT{constructor(e){this.persistence=e,this.Wr=new iT,this.Gr=null}static zr(e){return new sT(e)}get jr(){if(this.Gr)return this.Gr;throw Lt()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.jr,r=>{const i=yt.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,Pt.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return Ue.or([()=>Ue.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=Jt(),i=Jt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new oT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jye{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(Dk(n))return Ue.resolve(null);let r=ga(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t7(n,null,"F"),r=ga(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Jt(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(e,t7(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return Dk(n)||i.isEqual(Pt.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(Tk()<=yn.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gS(n)),this.ji(e,o,n,Lge(i,-1)))})}Gi(e,n){let r=new Ii(S$(e));return n.forEach((i,s)=>{U8(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return Tk()<=yn.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",gS(n)),this.Ki.getDocumentsMatchingQuery(e,n,bu.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qye{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new yr(vn),this.Yi=new _0(s=>Kb(s),Qb),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oye(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Xye(t,e,n,r){return new qye(t,e,n,r)}async function H$(t,e){const n=tn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Jt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function G$(t){const e=tn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function Yye(t,e){const n=tn(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,f)=>{const p=i.get(f);if(!p)return;a.push(n.kr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(ki.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(_,x,g){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(p,m,c)&&a.push(n.kr.updateTargetData(s,m))});let l=Mu(),u=Jt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Kye(s,o,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Pt.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(f=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ue.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Kye(t,e,n){let r=Jt(),i=Jt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mu();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ht("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function Qye(t,e){const n=tn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,Ue.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new Zl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function wS(t,e,n){const r=tn(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!T3(o))throw o;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Wk(t,e,n){const r=tn(t);let i=Pt.min(),s=Jt();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const f=tn(l),p=f.Yi.get(c);return p!==void 0?Ue.resolve(f.Ji.get(p)):f.kr.getTargetData(u,c)}(r,o,ga(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Pt.min(),n?s:Jt())).next(a=>(Zye(r,Zge(e),a),{documents:a,ss:s})))}function Zye(t,e,n){let r=t.Zi.get(e)||Pt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class jk{constructor(){this.activeTargetIds=iye()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jye{constructor(){this.Hs=new jk,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new jk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eve{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z4=null;function uv(){return Z4===null?Z4=function(){return 268435456+Math.round(2147483648*Math.random())}():Z4++,"0x"+Z4.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nve{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="WebChannelConnection";class rve extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=uv(),l=this.mo(n,r);ht("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,s,o),this.po(n,l,u,i).then(c=>(ht("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw jf("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+v0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=tve[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=uv();return new Promise((o,a)=>{const l=new xge;l.setWithCredentials(!0),l.listenOnce(yge.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ov.NO_ERROR:const c=l.getResponseJson();ht(wi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ov.TIMEOUT:ht(wi,`RPC '${e}' ${s} timed out`),a(new Qe(De.DEADLINE_EXCEEDED,"Request time out"));break;case ov.HTTP_ERROR:const f=l.getStatus();if(ht(wi,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(g)>=0?g:De.UNKNOWN}(m.status);a(new Qe(y,m.message))}else a(new Qe(De.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Qe(De.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{ht(wi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ht(wi,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=uv(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mge(),a=gge(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new _ge({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ht(wi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let p=!1,m=!1;const y=new nve({so:x=>{m?ht(wi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(ht(wi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ht(wi,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},oo:()=>f.close()}),_=(x,g,S)=>{x.listen(g,w=>{try{S(w)}catch(b){setTimeout(()=>{throw b},0)}})};return _(f,X4.EventType.OPEN,()=>{m||ht(wi,`RPC '${e}' stream ${i} transport opened.`)}),_(f,X4.EventType.CLOSE,()=>{m||(m=!0,ht(wi,`RPC '${e}' stream ${i} transport closed`),y.Po())}),_(f,X4.EventType.ERROR,x=>{m||(m=!0,jf(wi,`RPC '${e}' stream ${i} transport errored:`,x),y.Po(new Qe(De.UNAVAILABLE,"The operation could not be completed")))}),_(f,X4.EventType.MESSAGE,x=>{var g;if(!m){const S=x.data[0];Pr(!!S);const w=S,b=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(b){ht(wi,`RPC '${e}' stream ${i} received error:`,b);const M=b.status;let A=function(C){const k=Sr[C];if(k!==void 0)return I$(k)}(M),R=b.message;A===void 0&&(A=De.INTERNAL,R="Unknown error status: "+M+" with message "+b.message),m=!0,y.Po(new Qe(A,R)),f.close()}else ht(wi,`RPC '${e}' stream ${i} received:`,S),y.Io(S)}}),_(a,vge.STAT_EVENT,x=>{x.stat===Ek.PROXY?ht(wi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ek.NOPROXY&&ht(wi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){return new wye(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ive{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new $$(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===De.RESOURCE_EXHAUSTED?(hl(n.toString()),hl("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new Qe(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sve extends ive{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=bye(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pt.min():o.readTime?bf(o.readTime):Pt.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=$k(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=pS(l)?{documents:Tye(s,l)}:{query:U$(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=D$(s,o.resumeToken);const u=_S(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pt.min())>0){a.readTime=xS(s,o.snapshotVersion.toTimestamp());const u=_S(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Aye(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=$k(this.serializer),n.removeTarget=e,this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ove extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new Qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Qe(De.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(De.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}async function ave(t,e,n){var r;const i=tn(t),{request:s,I_:o}=function(f,p,m){const y=U$(f,p),_={},x=[];let g=0;return m.forEach(S=>{const w="aggregate_"+g++;_[w]=S.alias,S.Ee==="count"?x.push({alias:w,count:{}}):S.Ee==="avg"?x.push({alias:w,avg:{field:Wl(S.fieldPath)}}):S.Ee==="sum"&&x.push({alias:w,sum:{field:Wl(S.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:x,structuredQuery:y.structuredQuery},parent:y.parent},I_:_}}(i.serializer,ga(e),n),a=s.parent;i.connection.Ro||delete s.parent;const l=(await i.yo("RunAggregationQuery",a,s,1)).filter(c=>!!c.result);Pr(l.length===1);const u=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(u).reduce((c,f)=>(c[o[f]]=u[f],c),{})}class lve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(hl(n),this.d_=!1):ht("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{P3(this)&&(ht("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=tn(l);u.y_.add(4),await C3(u),u.b_.set("Unknown"),u.y_.delete(4),await G8(u)}(this))})}),this.b_=new lve(r,i)}}async function G8(t){if(P3(t))for(const e of t.w_)await e(!0)}async function C3(t){for(const e of t.w_)await e(!1)}function W$(t,e){const n=tn(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),uT(n)?lT(n):x0(n).Uo()&&aT(n,e))}function j$(t,e){const n=tn(t),r=x0(n);n.p_.delete(e),r.Uo()&&q$(n,e),n.p_.size===0&&(r.Uo()?r.zo():P3(n)&&n.b_.set("Unknown"))}function aT(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}x0(t).i_(e)}function q$(t,e){t.D_.Be(e),x0(t).s_(e)}function lT(t){t.D_=new vye({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),x0(t).start(),t.b_.A_()}function uT(t){return P3(t)&&!x0(t).$o()&&t.p_.size>0}function P3(t){return tn(t).y_.size===0}function X$(t){t.D_=void 0}async function cve(t){t.p_.forEach((e,n)=>{aT(t,e)})}async function dve(t,e){X$(t),uT(t)?(t.b_.m_(e),lT(t)):t.b_.set("Unknown")}async function hve(t,e,n){if(t.b_.set("Online"),e instanceof k$&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xk(t,r)}else if(e instanceof V5?t.D_.We(e):e instanceof L$?t.D_.Ze(e):t.D_.je(e),!n.isEqual(Pt.min()))try{const r=await G$(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.p_.get(u);c&&s.p_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.p_.get(l);if(!c)return;s.p_.set(l,c.withResumeToken(ki.EMPTY_BYTE_STRING,c.snapshotVersion)),q$(s,l);const f=new Zl(c.target,l,u,c.sequenceNumber);aT(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ht("RemoteStore","Failed to raise snapshot:",r),await Xk(t,r)}}async function Xk(t,e,n){if(!T3(e))throw e;t.y_.add(1),await C3(t),t.b_.set("Offline"),n||(n=()=>G$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ht("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await G8(t)})}async function Yk(t,e){const n=tn(t);n.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const r=P3(n);n.y_.add(3),await C3(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await G8(n)}async function fve(t,e){const n=tn(t);e?(n.y_.delete(2),await G8(n)):e||(n.y_.add(2),await C3(n),n.b_.set("Unknown"))}function x0(t){return t.v_||(t.v_=function(n,r,i){const s=tn(n);return s.P_(),new sve(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:cve.bind(null,t),uo:dve.bind(null,t),r_:hve.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),uT(t)?lT(t):t.b_.set("Unknown")):(await t.v_.stop(),X$(t))})),t.v_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new cT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y$(t,e){if(hl("AsyncQueue",`${e}: ${t}`),T3(t))return new Qe(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=N1(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Tf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.F_=new yr(yt.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):Lt():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zf{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zf(e,n,Tf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&O8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(){this.x_=void 0,this.listeners=[]}}class mve{constructor(){this.queries=new _0(e=>x$(e),O8),this.onlineState="Unknown",this.O_=new Set}}async function gve(t,e){const n=tn(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pve),i)try{s.x_=await n.onListen(r)}catch(o){const a=Y$(o,`Initialization of query '${gS(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&dT(n)}async function yve(t,e){const n=tn(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vve(t,e){const n=tn(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&dT(n)}function _ve(t,e,n){const r=tn(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dT(t){t.O_.forEach(e=>{e.next()})}class xve{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Zf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.key=e}}class Q${constructor(e){this.key=e}}class Sve{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Jt(),this.mutatedKeys=Jt(),this.na=S$(e),this.ra=new Tf(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new Kk,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const p=i.get(c),m=U8(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),x=!0):this._a(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.na(m,l)>0||u&&this.na(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||u)&&(a=!0)),x&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((u,c)=>function(p,m){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return y(p)-y(m)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new Zf(this.query,e.ra,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Kk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Jt(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new Q$(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new K$(r))}),n}ha(e){this.X_=e.ss,this.ta=Jt();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Zf.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class wve{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Eve{constructor(e){this.key=e,this.Ia=!1}}class bve{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new _0(a=>x$(a),O8),this.da=new Map,this.Aa=new Set,this.Ra=new yr(yt.comparator),this.Va=new Map,this.ma=new iT,this.fa={},this.ga=new Map,this.pa=Qf.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function Tve(t,e){const n=Lve(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await Qye(n.localStore,ga(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Mve(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&W$(n.remoteStore,o)}return i}async function Mve(t,e,n,r,i){t.wa=(f,p,m)=>async function(_,x,g,S){let w=x.view.sa(g);w.zi&&(w=await Wk(_.localStore,x.query,!1).then(({documents:A})=>x.view.sa(A,w)));const b=S&&S.targetChanges.get(x.targetId),M=x.view.applyChanges(w,_.isPrimaryClient,b);return Zk(_,x.targetId,M.ca),M.snapshot}(t,f,p,m);const s=await Wk(t.localStore,e,!0),o=new Sve(e,s.ss),a=o.sa(s.documents),l=A3.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Zk(t,n,u.ca);const c=new wve(e,n,o);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),u.snapshot}async function Ave(t,e){const n=tn(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!O8(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wS(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),j$(n.remoteStore,r.targetId),ES(n,r.targetId)}).catch(jb)):(ES(n,r.targetId),await wS(n.localStore,r.targetId,!0))}async function Z$(t,e){const n=tn(t);try{const r=await Yye(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Pr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Pr(o.Ia):i.removedDocuments.size>0&&(Pr(o.Ia),o.Ia=!1))}),await eW(n,r,e)}catch(r){await jb(r)}}function Qk(t,e,n){const r=tn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=tn(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const p of f.listeners)p.N_(a)&&(u=!0)}),u&&dT(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cve(t,e,n){const r=tn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new yr(yt.comparator);o=o.insert(s,Mi.newNoDocument(s,Pt.min()));const a=Jt().add(s),l=new V8(Pt.min(),new Map,new yr(vn),o,a);await Z$(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(e),hT(r)}else await wS(r.localStore,e,!1).then(()=>ES(r,e,n)).catch(jb)}function ES(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||J$(t,r)})}function J$(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(j$(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),hT(t))}function Zk(t,e,n){for(const r of n)r instanceof K$?(t.ma.addReference(r.key,e),Pve(t,r)):r instanceof Q$?(ht("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||J$(t,r.key)):Lt()}function Pve(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(ht("SyncEngine","New document in limbo: "+n),t.Aa.add(r),hT(t))}function hT(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new yt(Vn.fromString(e)),r=t.pa.next();t.Va.set(r,new Eve(n)),t.Ra=t.Ra.insert(n,r),W$(t.remoteStore,new Zl(ga(_$(n.path)),r,"TargetPurposeLimboResolution",qb.ae))}}async function eW(t,e,n){const r=tn(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=oT.qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,u){const c=tn(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ue.forEach(u,p=>Ue.forEach(p.Li,m=>c.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Ue.forEach(p.ki,m=>c.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!T3(f))throw f;ht("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=c.Ji.get(p),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(p,_)}}}(r.localStore,s))}async function Rve(t,e){const n=tn(t);if(!n.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const r=await H$(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new Qe(De.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eW(n,r.ts)}}function Ive(t,e){const n=tn(t),r=n.Va.get(e);if(r&&r.Ia)return Jt().add(r.key);{let i=Jt();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function Lve(t){const e=tn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ive.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cve.bind(null,e),e.Ta.r_=vve.bind(null,e.eventManager),e.Ta.Sa=_ve.bind(null,e.eventManager),e}class Jk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=H8(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Xye(this.persistence,new jye,e.initialUser,this.serializer)}createPersistence(e){return new $ye(sT.zr,this.serializer)}createSharedClientState(e){return new Jye}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kve{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rve.bind(null,this.syncEngine),await fve(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mve}()}createDatastore(e){const n=H8(e.databaseInfo.databaseId),r=function(s){return new rve(s)}(e.databaseInfo);return function(s,o,a,l){return new ove(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uve(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qk(this.syncEngine,n,0),function(){return qk.v()?new qk:new eve}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new bve(i,s,o,a,l,u);return c&&(f.ya=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=tn(n);ht("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await C3(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dve{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):hl("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nve{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bi.UNAUTHENTICATED,this.clientId=Rge.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ht("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ht("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Y$(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dv(t,e){t.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ove(t);ht("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Yk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Yk(e.remoteStore,s)),t._onlineComponents=e}function Fve(t){return t.name==="FirebaseError"?t.code===De.FAILED_PRECONDITION||t.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Ove(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ht("FirestoreClient","Using user provided OfflineComponentProvider");try{await dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Fve(n))throw n;jf("Error using user provided cache. Falling back to memory cache: "+n),await dv(t,new Jk)}}else ht("FirestoreClient","Using default OfflineComponentProvider"),await dv(t,new Jk);return t._offlineComponents}async function tW(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ht("FirestoreClient","Using user provided OnlineComponentProvider"),await eD(t,t._uninitializedComponentsProvider._online)):(ht("FirestoreClient","Using default OnlineComponentProvider"),await eD(t,new kve))),t._onlineComponents}function Uve(t){return tW(t).then(e=>e.datastore)}async function zve(t){const e=await tW(t),n=e.eventManager;return n.onListen=Tve.bind(null,e.syncEngine),n.onUnlisten=Ave.bind(null,e.syncEngine),n}function Bve(t,e,n={}){const r=new mu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Dve({next:p=>{o.enqueueAndForget(()=>yve(s,f)),p.fromCache&&l.source==="server"?u.reject(new Qe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new xve(a,c,{includeMetadataChanges:!0,W_:!0});return gve(s,f)}(await zve(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vve(t,e,n){if(!n)throw new Qe(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hve(t,e,n,r){if(e===!0&&r===!0)throw new Qe(De.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nD(t){if(yt.isDocumentKey(t))throw new Qe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $8(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Lt()}function i7(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$8(t);throw new Qe(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gve(t,e){if(e<=0)throw new Qe(De.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hve("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nW((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Qe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wge;switch(r.type){case"firstParty":return new Mge(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tD.get(n);r&&(ht("ComponentProvider","Removing Datastore"),tD.delete(n),r.terminate())}(this),Promise.resolve()}}function $ve(t,e,n,r={}){var i;const s=(t=i7(t,fT))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bi.MOCK_USER;else{a=t8e(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Qe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bi(u)}t._authCredentials=new Ege(new c$(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class gl{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gl(this.firestore,e,this._key)}}class Mf extends ml{constructor(e,n,r){super(e,n,_$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gl(this.firestore,null,new yt(e))}withConverter(e){return new Mf(this.firestore,e,this._path)}}function rW(t,e,...n){if(t=v2(t),Vve("collection","path",e),t instanceof fT){const r=Vn.fromString(e,...n);return nD(r),new Mf(t,null,r)}{if(!(t instanceof gl||t instanceof Mf))throw new Qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vn.fromString(e,...n));return nD(r),new Mf(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wve{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new $$(this,"async_queue_retry"),this.Xa=()=>{const n=cv();n&&ht("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=cv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new mu;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!T3(e))throw e;ht("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=cT.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&Lt()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class pT extends fT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Wve}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sW(this),this._firestoreClient.terminate()}}function jve(t,e){const n=typeof t=="object"?t:s9e(),r=typeof t=="string"?t:e||"(default)",i=t9e(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=J7e("firestore");s&&$ve(i,...s)}return i}function iW(t){return t._firestoreClient||sW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sW(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new zge(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nW(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Nve(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qve{constructor(e="count",n){this._aggregateType=e,this._internalFieldPath=n,this.type="AggregateField"}}class Xve{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jf(ki.fromBase64String(e))}catch(n){throw new Qe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jf(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Qe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yve=/^__.*__$/;function lW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class gT{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new gT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return bS(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(lW(this.uu)&&Yve.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class Kve{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||H8(e)}Ru(e,n,r,i=!1){return new gT({uu:e,methodName:n,Au:r,path:Vi.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uW(t){const e=t._freezeSettings(),n=H8(t._databaseId);return new Kve(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cW(t,e,n,r=!1){return yT(n,t.Ru(r?4:3,e))}function yT(t,e){if(dW(t=v2(t)))return Zve("Unsupported field value:",e,t),Qve(t,e);if(t instanceof aW)return function(r,i){if(!lW(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yT(a,i.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=v2(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sye(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zr.fromDate(r);return{timestampValue:xS(i.serializer,s)}}if(r instanceof Zr){const s=new Zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xS(i.serializer,s)}}if(r instanceof mT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jf)return{bytesValue:D$(i.serializer,r._byteString)};if(r instanceof gl){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:N$(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${$8(r)}`)}(t,e)}function Qve(t,e){const n={};return d$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):M3(t,(r,i)=>{const s=yT(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dW(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zr||t instanceof mT||t instanceof Jf||t instanceof gl||t instanceof aW)}function Zve(t,e,n){if(!dW(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$8(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}const Jve=new RegExp("[~\\*/\\[\\]]");function e_e(t,e,n){if(e.search(Jve)>=0)throw bS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oW(...e.split("."))._internalPath}catch{throw bS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bS(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Qe(De.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_T("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t_e extends vT{data(){return super.data()}}function _T(t,e){return typeof e=="string"?e_e(t,e):e instanceof oW?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xT{}class W8 extends xT{}function r_e(t,e,...n){let r=[];e instanceof xT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof wT).length,a=s.filter(l=>l instanceof ST).length;if(o>1||o>0&&a>0)throw new Qe(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ST extends W8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ST(e,n,r)}_apply(e){const n=this._parse(e);return hW(e._query,n),new ml(e.firestore,e.converter,mS(e._query,n))}_parse(e){const n=uW(e.firestore);return function(s,o,a,l,u,c,f){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Qe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sD(f,c);const m=[];for(const y of f)m.push(iD(l,s,y));p={arrayValue:{values:m}}}else p=iD(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sD(f,c),p=cW(a,o,f,c==="in"||c==="not-in");return Cr.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wT extends xT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)hW(o,l),o=mS(o,l)}(e._query,n),new ml(e.firestore,e.converter,mS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ET extends W8{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ET(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Qe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Qe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Ef(s,o);return function(u,c){if(Zb(u)===null){const f=F8(u);f!==null&&fW(u,f,c.field)}}(i,a),a}(e._query,this._field,this._direction);return new ml(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Md(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function i_e(t,e="asc"){const n=e,r=_T("orderBy",t);return ET._create(r,n)}class bT extends W8{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new bT(e,n,r)}_apply(e){return new ml(e.firestore,e.converter,t7(e._query,this._limit,this._limitType))}}function s_e(t){return Gve("limit",t),bT._create("limit",t,"F")}class TT extends W8{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new TT(e,n,r)}_apply(e){const n=a_e(e,this.type,this._docOrFields,this._inclusive);return new ml(e.firestore,e.converter,function(i,s){return new Md(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function o_e(...t){return TT._create("startAt",t,!0)}function a_e(t,e,n,r){if(n[0]=v2(n[0]),n[0]instanceof vT)return function(s,o,a,l,u){if(!l)throw new Qe(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of Kc(s))if(f.field.isKeyField())c.push(e7(o,l.key));else{const p=l.data.field(f.field);if(N8(p))throw new Qe(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=f.field.canonicalString();throw new Qe(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}c.push(p)}return new Kf(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=uW(t.firestore);return function(o,a,l,u,c,f){const p=o.explicitOrderBy;if(c.length>p.length)throw new Qe(De.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<c.length;y++){const _=c[y];if(p[y].field.isKeyField()){if(typeof _!="string")throw new Qe(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!Jb(o)&&_.indexOf("/")!==-1)throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const x=o.path.child(Vn.fromString(_));if(!yt.isDocumentKey(x))throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const g=new yt(x);m.push(e7(a,g))}else{const x=cW(l,u,_);m.push(x)}}return new Kf(m,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function iD(t,e,n){if(typeof(n=v2(n))=="string"){if(n==="")throw new Qe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jb(e)&&n.indexOf("/")!==-1)throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vn.fromString(n));if(!yt.isDocumentKey(r))throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e7(t,new yt(r))}if(n instanceof gl)return e7(t,n._key);throw new Qe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$8(n)}.`)}function sD(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hW(t,e){if(e.isInequality()){const r=F8(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Qe(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Zb(t);s!==null&&fW(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fW(t,e,n){if(!n.isEqual(e))throw new Qe(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class l_e{convertValue(e,n="none"){switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return M3(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new mT(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(R2(e));default:return null}}convertTimestamp(e){const n=Tu(e);return new Zr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vn.fromString(e);Pr(V$(r));const i=new I2(r.get(1),r.get(3)),s=new yt(r.popFirst(5));return i.isEqual(n)||hl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function u_e(){return new qve("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c_e extends vT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new H5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_T("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class H5 extends c_e{data(e={}){return super.data(e)}}class d_e{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new J4(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new H5(this._firestore,this._userDataWriter,r.key,r,new J4(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new H5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new J4(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new H5(i._firestore,i._userDataWriter,a.doc.key,a.doc,new J4(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:h_e(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}class pW extends l_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gl(this.firestore,null,n)}}function f_e(t){t=i7(t,ml);const e=i7(t.firestore,pT),n=iW(e),r=new pW(e);return n_e(t._query),Bve(n,t._query).then(i=>new d_e(e,r,t,i))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_e(t){return m_e(t,{count:u_e()})}function m_e(t,e){const n=i7(t.firestore,pT),r=iW(n),i=function(o,a){const l=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&l.push(a(o[u],u,o));return l}(e,(s,o)=>new pye(o,s._aggregateType,s._internalFieldPath));return function(o,a,l){const u=new mu;return o.asyncQueue.enqueueAndForget(async()=>{try{const c=await Uve(o);u.resolve(ave(c,a,l))}catch(c){u.reject(c)}}),u.promise}(r,t._query,i).then(s=>function(a,l,u){const c=new pW(a);return new Xve(l,c,u)}(n,t,s))}(function(e,n=!0){(function(i){v0=i})(i9e),W6(new _2("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pT(new bge(r.getProvider("auth-internal")),new Cge(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I2(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xf(bk,"4.1.0",e),xf(bk,"4.1.0","esm2017")})();var g_e="firebase",y_e="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xf(g_e,y_e,"app");const{VITE_FIREBASE_API_KEY:v_e,VITE_FIREBASE_AUTH_DOMAIN:__e,VITE_FIREBASE_DATABASE_URL:x_e,VITE_FIREBASE_PROJECT_ID:S_e,VITE_FIREBASE_STORAGE_BUCKET:w_e,VITE_FIREBASE_MESSAGING_SENDER_ID:E_e,VITE_FIREBASE_APP_ID:b_e,VITE_FIREBASE_MEASUREMENT_ID:T_e}={BASE_URL:"/pin-the-world/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},M_e={apiKey:v_e,authDomain:__e,databaseURL:x_e,projectId:S_e,storageBucket:w_e,messagingSenderId:E_e,appId:b_e,measurementId:T_e},A_e=sG(M_e),mW=jve(A_e),TS=5,C_e=async(t=1)=>{const e=t-1,n=rW(mW,"newYork"),r=r_e(n,i_e("id","asc"),s_e(TS),o_e(e*TS)),i=await f_e(r),s=[];return i.forEach(o=>{s.push(o.data())}),s},P_e=(t=0)=>wB(["newYorkPhotos",t],()=>C_e(t)),R_e=async()=>{const t=rW(mW,"newYork"),n=(await p_e(t)).data().count;return Math.ceil(n/TS)},I_e=()=>wB(["newYorkPhotosCount"],R_e);function L_e({currentPage:t,pageCount:e,onClickPage:n}){const r=Array.from({length:e},(i,s)=>s+1);return z.jsx(Io,{mx:"auto",gap:"2",justify:"center",children:r.map(i=>z.jsx(or,{onClick:()=>n(i),fontFamily:"Clash Display",fontWeight:i===t?"500":"400",children:i},i))})}function k_e(){const[t,e]=DY(),n=Number(t.get("page"))||1,{data:r}=I_e(),{data:i}=P_e(n),s=n===1,o=r!==void 0&&r>1,a=l=>{e({page:String(l)}),window.scrollTo(0,0)};return z.jsxs(z.Fragment,{children:[z.jsx(or,{px:"6",py:"16",children:s&&z.jsxs(Cc,{as:"h1",fontWeight:"400",size:"3xl",children:["2022, ",z.jsx("br",{}),"New York"]})}),i&&i.map((l,u)=>z.jsx(G7e,{item:l},u)),z.jsx(or,{mt:"4",mb:"12",children:o&&z.jsx(L_e,{pageCount:r,onClickPage:a,currentPage:n})})]})}const D_e=[{path:"/",element:z.jsx(O7e,{}),children:[{path:"",element:z.jsx(M7e,{})},{path:"/photos/europe",element:z.jsx(A7e,{})},{path:"/photos/new-york",element:z.jsx(k_e,{})},{path:"/about",element:z.jsx(R7e,{})}]}],N_e=CY([{path:"/",element:z.jsx(Bfe,{}),children:[...D_e]}]);hv.createRoot(document.getElementById("root")).render(z.jsx(gu.StrictMode,{children:z.jsx(_Y,{router:N_e})}));
